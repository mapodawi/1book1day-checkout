(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{33054:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[productIdOrSlug]",function(){return n(7632)}])},83199:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(64107),r=n(87066),l=n(87680),i=n(36701);function s(e,t){let n={description:e};r.Z.isAxiosError(t)&&(n.config=t.config,t.response&&(n.response={data:t.response.data,status:t.response.status,headers:t.response.headers}),t.request&&(n.request=t.toJSON())),"local"!==i.Wi&&(o.v.addError(t,n),l.fy.logger.error("".concat(e,": ").concat(t),n,t instanceof Error?t:void 0)),("test"===i.Wi||"local"===i.Wi)&&console.error(e,t)}},80149:function(e,t,n){"use strict";n.r(t),t.default={close:"Close",coupon:{addDiscountCode:"Add discount code",apply:"Apply",discountCode:"Discount code"},form:{address:{city:"City",country:"Country",line1:"Street Address",line2:"Apt, Suite, Bldg. (optional)",postalCode:"Postal Code",province:"Province",state:"State"},additionalInfo:"Additional info",billingInfo:"Billing Info",button:{outOfStock:"Out of Stock",pay:"Pay",payWithPayPal:"Pay with PayPal",processing:"Processing",startMyFreeTrial:"Start my free trial",subscribeFor:"Subscribe for"},card:{card:"Card",cardNumber:"Card Number",expirationDate:"Expiration Date",label:"Card Information",securityCode:"Security Code"},contactInfo:"Contact Info",email:"Email",emailAddress:"you@example.com",firstAndLastName:"First and last name",fullName:"Full name",orPayUsing:"or pay using",paymentMethod:"Payment Method",phoneNumber:"Phone number",shippingInfo:"Shipping Info",showMore:"Show More",terms:{byClickingAbove:"By clicking above, you agree to the",termsAndConditions:"Terms & Conditions"}},frequency:{day:"day",days:"days",mo:"mo",mos:"mos",month:"month",months:"months",of:"of",payment:"payment",payments:"payments",qtr:"qtr",qtrs:"qtrs",quarter:"quarter",quarters:"quarters",startingIn:"starting in",wk:"wk",wks:"wks",week:"week",weeks:"weeks",yr:"yr",yrs:"yrs",year:"year",years:"years"},learnMore:"Learn more",order:{amountDueNow:"Amount due now",bumps:{addToOrder:"Add to order",removeFromOrder:"Remove from order",popularAddOns:"Popular add-ons"},calculatedBasedOnAddress:"Calculated based on address",heading:"Your order",itemsInOrder:"Items in Order",minimum:"Minimum",nameYourPrice:"Name Your Price",productDetails:"Product details",subscription:{introOffer:"Intro offer",daysFree:"days free",multipleSubscriptions:"Multiple Subscriptions",then:"Then"},shipping:"Shipping",subtotal:"Subtotal",taxes:"Taxes",viewDetails:"View details"},securedByModal:{gdprCompliant:"GDPR Compliant",ipGeolocation:"IP Geolocation",personalDetailsDisclaimer:"Your personal details and sensitive payment information are not for sale. Ensuring the privacy and security of your personal information is our highest priority. Shop safely knowing that your purchase is secured by SamCart and our partners.",processedGlobally:"$3.5B+ processed globally",securedAndEncrypted:"Secured & Encrypted Processing",securedBy:"Secured by SamCart",secureYourPurchaseWith:"Secure your purchases with",trustedCloudInfrastructure:"Trusted cloud infrastructure",useIPGeolocate:"uses the IP2Location LITE database for"},validator:{email:{invalid:"Your email is invalid.",required:"Your email is required."},customFields:{required:"This field is required."},fullName:{invalid:"Your full name is invalid.",required:"Your full name is required."},maxLength:"Maximum length is {max} characters",phoneNumber:{invalid:"Your phone number is invalid.",required:"Your phone number is required."},pwyw:{invalid:"Please enter a valid amount.",max:"Please enter a realistic price.",min:"Please enter at least {min} in order to proceed.",positive:"Must be a positive amount.",required:"Please enter a valid amount.",typeError:"Please enter a valid amount."},shippingAddress:{line1:{required:"Street address is required"},line2:{},city:{required:"City is required"},state:{required:"State is required"},province:{required:"Province is required"},postalCode:{required:"Zip Code is required"},country:{required:"Country is required"}},creditCard:{number:{invalid:"Please enter a valid credit card number.",required:"Please enter a valid credit card number."},expirationDate:{invalid:"Please enter a valid expiration date.",required:"Please enter a valid expiration date."},securityCode:{invalid:"Please enter a valid security code.",required:"Please enter a valid security code."}}}}},90373:function(e,t,n){"use strict";n.d(t,{NE:function(){return s},Wj:function(){return i}});var o=n(31955),r=n(36701);let l=o.Z.withConverter({write:(e,t)=>"".concat(e,"; Partitioned")});function i(e,t,n){var o,i;let s={...n,domain:null!==(o=null==n?void 0:n.domain)&&void 0!==o?o:".".concat(r.JP),expires:null!==(i=null==n?void 0:n.expires)&&void 0!==i?i:2,sameSite:"None",secure:!0};return l.set(e,t,s)}function s(e){return l.get(e)}},34416:function(e,t,n){"use strict";n.d(t,{V9:function(){return s},y8:function(){return i}});var o=n(90373);let r="_urlParams",l={expires:7};function i(){let e=(0,o.NE)(r);if(void 0===e)return{};try{return JSON.parse(decodeURIComponent(e))}catch(e){return{}}}function s(){let e=i(),t=function(){let e=window.location.href;if(void 0!==e)try{return new URL(e)}catch(e){return}}();if(void 0===t)return;let n=0;if(t.searchParams.forEach((t,o)=>{n+=1,e[o]=t}),0===n)return;let s={...l,domain:t.hostname};(0,o.Wj)(r,encodeURIComponent(JSON.stringify(e)),s)}},7632:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return oc}});var o,r,l,i,s,a,d,c,u=n(85893),m=n(67294),p=n(11163),v=n(87066),h=n(36701),x=n(90373);function f(){return[...Array(24)].map(()=>Math.random().toString(36)[2]).join("")}function g(e){return"product-".concat(e,"-checkout")}function b(e,t){let n=g(e);(0,x.Wj)(n,t)}let y=e=>e===h.Ci||e===h.xz;function w(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=h.Uu;try{let{hostname:n}=new URL(window.location.href);t=e?"https://".concat(n,"/checkout-api/v2"):"https://".concat(n,"/checkout-api/v1")}catch(e){}return{checkoutApiUrl:t}}var j=n(34416);function C(e){return""===e||null==e}let N=m.createContext(null),P=()=>{let e=m.useContext(N);if(!e)throw Error("CheckoutURLContext: No value provided");return e};function k(e){let{children:t}=e,{format:n,referrer:o,productIdOrSlug:r,coupon:l,affiliateToken:i,visitorToken:s}=function(){var e,t,n,o,r,l,i,s,a,d,c;let u=(0,j.y8)(),m=(0,p.useRouter)(),v=null===(e=m.query)||void 0===e?void 0:e.productIdOrSlug,x=null!==(l=null===(t=m.query)||void 0===t?void 0:t.referrer)&&void 0!==l?l:"";try{let e=new URL(x);Object.entries(u).forEach(t=>{let[n,o]=t;e.searchParams.has(n)||e.searchParams.set(n,o)}),x=e.toString()}catch(e){}let f=null===(n=m.query)||void 0===n?void 0:n.sc_ref;C(f)&&!C(null==u?void 0:u.sc_ref)&&(f=u.sc_ref);let g=null!==(i=null===(o=m.query)||void 0===o?void 0:o.sc_vis)&&void 0!==i?i:"";C(g)&&!C(null==u?void 0:u.sc_vis)&&(g=u.sc_vis);let b=null===(r=m.query)||void 0===r?void 0:r.format;b||(b=h.lQ);let w=(y(b)?null!==(a=null==m?void 0:null===(s=m.query)||void 0===s?void 0:s.sc_coupon)&&void 0!==a?a:"":null!==(c=null==m?void 0:null===(d=m.query)||void 0===d?void 0:d.coupon)&&void 0!==c?c:"").trim();return{format:b,referrer:x,productIdOrSlug:v,coupon:w,affiliateToken:f,visitorToken:g}}(),a="";r&&(s&&b(r,s),a=function(e){let t=g(e);return(0,x.NE)(t)||b(e,f()),(0,x.NE)(t)||f()}(r));let{checkoutApiUrl:d}=w();v.Z.defaults.baseURL=d;let c=(0,m.useMemo)(()=>({format:n,referrer:o,productIdOrSlug:r,coupon:l,affiliateToken:i,visitorToken:a,checkoutApiUrl:d}),[n,o,r,l,i,a,d]);return(0,u.jsx)(N.Provider,{value:c,children:t})}n(92016);var I=n(46499),S=n(45459),A=n(58185);let O=(0,m.createContext)({selectedOrderBumps:[],addSelectedOrderBump:()=>null,removeSelectedOrderBump:()=>null,isUserInputAllowed:!0,setUserInputAllowed:()=>null,currency:"USD",setCurrency:()=>null,customResponses:new Map,setCustomResponse:()=>null,paymentElementReady:!1,setPaymentElementReady:()=>null,couponCode:"",setCouponCode:()=>null,selectedPaymentOption:{description:"",hasCoupons:!1,id:0,imageUrl:"",name:"",priceInCents:0,sandboxMode:!1,slug:"",subscription:null,termsConditionsUrl:"",showPhoneNumberField:!1,physical:!1,allowPayPal:!1,restrictedShippingCountries:null,bundledProducts:[],collectTaxes:!1,outOfStock:!1,outOfStockDisclaimer:"",showShippingAddress:!1,isPWYW:!1,nameYourPriceText:"",suggestedPriceInCents:0},setSelectedPaymentOption:()=>null,recaptchaRef:void 0,currentOrderRequiresPhoneNumber:!1,setCurrentOrderRequiresPhoneNumber:()=>null,selectedShipping:{},setSelectedShipping:()=>null,selectedBilling:{},setSelectedBilling:()=>null,selectedQuantity:1,setSelectedQuantity:()=>null,pwywPrice:"",setPWYWPrice:()=>null});function E(e){let{children:t,selectedOrderBumps:n,currencySlug:o="",defaultIsUserInputAllowed:r=!0,defaultPaymentElementReady:l=!1,defaultSelectedPaymentOption:i={description:"",hasCoupons:!1,id:0,imageUrl:"",name:"",priceInCents:0,sandboxMode:!1,slug:"",subscription:null,termsConditionsUrl:"",showPhoneNumberField:!1,allowPayPal:!1,physical:!1,restrictedShippingCountries:null,bundledProducts:[],collectTaxes:!1,outOfStock:!1,outOfStockDisclaimer:"",showShippingAddress:!1,isPWYW:!1,nameYourPriceText:"",suggestedPriceInCents:0},defaultSelectedShipping:s={},defaultSelectedBilling:a={},defaultSelectedQuantity:d=1}=e,[c,p]=(0,m.useState)(n),[v,h]=(0,m.useState)(!1),[x,f]=(0,m.useState)(o),[g,b]=(0,m.useState)(l),y=(0,m.useCallback)(e=>{c.includes(e)||p([...c,e])},[c,p]),[w]=(0,m.useState)((0,m.useRef)()),[j,C]=(0,m.useState)(s),[N,P]=(0,m.useState)(a),k=(0,m.useCallback)(e=>{p(c.filter(t=>t!==e))},[c,p]),[I,S]=(0,m.useState)(""),[A,E]=(0,m.useState)(r),F=(0,m.useCallback)(e=>{E(e)},[E]),[B,T]=(0,m.useState)(new Map),q=(0,m.useCallback)((e,t)=>{T(n=>new Map(n).set(e,t))},[T]),[D,_]=(0,m.useState)(""),[M,R]=(0,m.useState)(i),[L,V]=(0,m.useState)(d),H=(0,m.useMemo)(()=>({selectedOrderBumps:c,addSelectedOrderBump:y,removeSelectedOrderBump:k,isUserInputAllowed:A&&g,setUserInputAllowed:F,currency:x,setCurrency:f,customResponses:B,setCustomResponse:q,paymentElementReady:g,setPaymentElementReady:b,couponCode:D,setCouponCode:_,selectedPaymentOption:M,setSelectedPaymentOption:R,recaptchaRef:w,currentOrderRequiresPhoneNumber:v,setCurrentOrderRequiresPhoneNumber:h,selectedShipping:j,setSelectedShipping:C,selectedBilling:N,setSelectedBilling:P,selectedQuantity:L,setSelectedQuantity:V,pwywPrice:I,setPWYWPrice:S}),[c,y,k,A,F,x,f,B,q,g,b,D,_,M,R,w,v,h,j,C,N,P,L,V,I,S]);return(0,u.jsx)(O.Provider,{value:H,children:t})}let F=()=>(0,m.useContext)(O);var B=n(10777),T=n(83199);async function q(e,t,n,o){let r="checkout-page/".concat(e,"?format=").concat(t,"&visitorToken=").concat(n);o&&(r+="&referrer=".concat(encodeURIComponent(o)));try{return(await v.Z.get(r)).data}catch(e){var l;throw e instanceof Error&&(0,T.Z)("[getCheckoutPageData]",e),v.Z.isAxiosError(e)&&(null===(l=e.response)||void 0===l?void 0:l.status)===404&&window.location.assign("/checkout"),e}}function D(){let{productIdOrSlug:e,format:t,visitorToken:n,referrer:o}=P();return(0,B.a)({queryKey:["checkoutPageData",e,t,n],queryFn:()=>e?q(e,t,n,o):null,staleTime:1/0,gcTime:1/0})}var _=n(46581),M=n.n(_);function R(e,t){let n=new(M())(e).shade(30).hexString().toUpperCase(),o=new(M())(e).tint(92).hexString().toUpperCase(),r=L(e)?h.hp:h.yn,l=function(e){if(!L(e))return e;let t=new(M())(e).shades(10).find(e=>!L(e.hexString().toUpperCase()));return t?null==t?void 0:t.hexString().toUpperCase():((0,T.Z)("Darkened color not found for ".concat(e),Error("Darkened color not found for ".concat(e))),h.hp)}(e),i="#627786";return{defaultColorOptions:{primaryTextColor:t,secondaryTextColor:i,primaryOutlineColor:"#97A4AF",secondaryOutlineColor:"#DCE1E4",disabledColor:"#EEF0F2",termsConditionsTextColor:t===h.SQ?i:t},brandColorOnTheBackground:{borderColor:l,borderColorOnFocus:n,textColor:l,textColorOnFocus:L(e)?L(t)?h.hp:t:n,fillColorFocus:o},brandColorAsTheBackground:{fillColor:e,fillColorFocus:n,textColor:r,textColorOnFocus:r}}}function L(e){let t=e.replace("#",""),n=parseInt(t.slice(0,2),16);return .2126*n+.7152*parseInt(t.slice(2,4),16)+.0722*parseInt(t.slice(4,6),16)>128}function V(){var e,t,n,o,r,l,i;let[s,a]=(0,m.useState)(),{data:d,isPending:c}=D();if((0,m.useEffect)(()=>{!c&&d&&a(d.brandingProperties)},[s,c,d]),!s)return(0,u.jsx)(u.Fragment,{children:" "});let p=R((null==s?void 0:s.buttonColor)||h.Iu,(null==s?void 0:s.contentFontColor)||h.SQ),v=(null===(e=s.orderBumps)||void 0===e?void 0:e.buttonPriceColor)&&L(s.orderBumps.buttonPriceColor)?"rgb(0, 0, 0)":"rgb(255, 255, 255)";return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("style",{id:"font-settings",children:[s.headlineFontFamily&&"\n        @import url('https://fonts.googleapis.com/css2?family=".concat(encodeURI(s.headlineFontFamily),"&display=swap');\n      "),s.contentFontFamily&&"\n        @import url('https://fonts.googleapis.com/css2?family=".concat(encodeURI(s.contentFontFamily),"&display=swap');\n      "),s.headlineFontFamily&&s.headlineFontStyle&&"\n            .tp-custom-header-font, .sc-custom-header-font {\n              font-family: '".concat(s.headlineFontFamily,'\', "Inter","Helvetica","Arial",sans-serif !important;\n              font-weight: ').concat(s.headlineFontStyle," !important;\n            }\n          "),s.headlineFontColor&&"\n            .tp-custom-header-font, .sc-custom-header-font {\n              color: ".concat(s.headlineFontColor," !important;\n            }\n          "),s.contentFontFamily&&s.contentFontStyle&&"\n            a, button, span, .sc-custom-input p, .sc-custom-input + p, label, textarea, input, select, .tp-custom-content-font, .sc-custom-content-font, .sc-custom-terms-conditions {\n              font-family: '".concat(s.contentFontFamily,'\', "Inter","Helvetica","Arial",sans-serif !important;\n              font-weight: ').concat(s.contentFontStyle," !important;\n            }\n            a.unbranded {\n              font-family: inherit !important;\n              font-weight: inherit !important;\n            }            \n          "),"\n          .sc-custom-terms-conditions {\n            color: ".concat(p.defaultColorOptions.termsConditionsTextColor," !important;\n          }\n          svg.sc-custom-terms-conditions {\n            stroke: ").concat(p.defaultColorOptions.termsConditionsTextColor," !important;\n          }\n\n          span:not(.MuiChip-label,.sc-required,.sc-label,.sc-load-indicator), label, label.Mui-focused span, label:not(.Mui-error) span, .tp-custom-content-font, .sc-custom-content-font {\n            color: ").concat(p.defaultColorOptions.primaryTextColor," !important;\n          }\n          .sc-custom-content-font.line-through, .sc-custom-content-font.secondary-color {\n            color: ").concat(p.defaultColorOptions.secondaryTextColor," !important;\n          }\n          .sc-custom-input .MuiInputBase-colorPrimary:not(.Mui-error), .sc-custom-input .PhoneInput:not(.sc-error) {\n            border-color: ").concat(p.defaultColorOptions.primaryOutlineColor," !important;\n          }\n          .sc-custom-input .MuiInputBase-colorPrimary.Mui-focused, .sc-custom-input .PhoneInput.PhoneInput--focus, .sc-custom-processor-type-button:hover, .sc-custom-processor-type-button:focus-visible, .sc-paypal-card {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColorOnFocus," !important;\n          }\n          .sc-custom-input:disabled, .sc-custom-input .MuiInputBase-colorPrimary.Mui-disabled, .sc-custom-input .PhoneInput--disabled {\n            background-color: ").concat(p.defaultColorOptions.disabledColor," !important;\n          }\n          .sc-custom-processor-type-button {\n            color: ").concat(p.defaultColorOptions.secondaryTextColor," !important;\n          }\n          .sc-custom-processor-type-button:hover {\n            color: ").concat(p.defaultColorOptions.primaryTextColor," !important;\n          }\n\n          .sc-custom-input::placeholder,\n          .sc-custom-input .PhoneInputInput::placeholder,\n          .sc-custom-input.placeholder select {\n            color: ").concat(p.defaultColorOptions.secondaryTextColor," !important;\n          }\n         .sc-custom-divider, .sc-custom-divider::before, .sc-custom-divider::after {\n            border-color: ").concat(p.defaultColorOptions.secondaryOutlineColor," !important;\n          }\n        ")]}),(0,u.jsx)("style",{id:"brand-colors",children:"\n          .sc-payment-option-selected {\n            background-color: ".concat(p.brandColorOnTheBackground.fillColorFocus,";\n          }\n          .sc-payment-option-radio > span:hover {\n            cursor: pointer;\n            background-color: ").concat(p.brandColorOnTheBackground.fillColorFocus,";\n          }\n          .sc-payment-option-radio svg circle:nth-of-type(1) {\n            stroke: ").concat(p.defaultColorOptions.secondaryOutlineColor,";\n          }\n          .sc-payment-option-radio svg circle:nth-of-type(2) {\n            fill: ").concat(p.defaultColorOptions.secondaryOutlineColor,";\n          }\n          .sc-payment-option-selected .sc-payment-option-radio svg circle:nth-of-type(1) {\n            stroke: ").concat(p.brandColorAsTheBackground.fillColor,";\n          }\n          .sc-payment-option-selected .sc-payment-option-radio svg circle:nth-of-type(2) {\n            fill: ").concat(p.brandColorAsTheBackground.fillColor,";\n          }\n          .sc-custom-branded-button {\n            background-color: ").concat(p.brandColorAsTheBackground.fillColor," !important;\n            color: ").concat(p.brandColorAsTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button .sc-load-indicator {\n            color: ").concat(p.brandColorAsTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button.Mui-focusVisible {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColor," !important;\n          }\n          .sc-custom-branded-button:hover {\n            background-color: ").concat(p.brandColorAsTheBackground.fillColorFocus," !important;\n          }\n          .sc-custom-branded-button-outline {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColor," !important;\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button-outline .MuiSvgIcon-root{\n            stroke: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button-outline .sc-load-indicator {\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button-outline:hover {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColorOnFocus," !important;\n            background-color: ").concat(p.brandColorOnTheBackground.fillColorFocus," !important;\n          }\n          .sc-custom-branded-text{\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-text:hover {\n            color: ").concat(p.brandColorOnTheBackground.textColorOnFocus," !important;\n          }\n          .sc-custom-counter button:hover {\n            background-color: ").concat(p.brandColorOnTheBackground.fillColorFocus," !important;\n          }\n          .sc-custom-counter button:not(:disabled) {\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          ")}),(0,u.jsxs)("style",{id:"order-bump-colors",children:[(null===(t=s.orderBumps)||void 0===t?void 0:t.headlineColor)&&"\n        .sc-custom-order-bump-headline{\n          color: ".concat(s.orderBumps.headlineColor," !important;\n        }\n        "),(null===(n=s.orderBumps)||void 0===n?void 0:n.textColor)&&"\n        .sc-custom-order-bump-text{\n          color: ".concat(s.orderBumps.textColor," !important;\n        }\n        "),s.contentFontFamily&&s.contentFontStyle&&"\n            .sc-custom-order-bump-text, .sc-custom-order-bump-headline{\n              font-family: '".concat(s.contentFontFamily,'\', "Inter","Helvetica","Arial",sans-serif !important;\n              font-weight: ').concat(s.contentFontStyle," !important;\n            }\n          "),(null===(o=s.orderBumps)||void 0===o?void 0:o.buttonPriceColor)&&"\n        .sc-custom-order-bump-button{\n          background-color: ".concat(s.orderBumps.buttonPriceColor," !important;\n          color: ").concat(v," !important;\n        }\n        "),(null===(r=s.orderBumps)||void 0===r?void 0:r.buttonPriceColor)&&"\n        .sc-custom-order-bump-link{\n          color: ".concat(s.orderBumps.buttonPriceColor," !important;\n        }\n        "),(null===(l=s.orderBumps)||void 0===l?void 0:l.backgroundColor)&&(null===(i=s.orderBumps)||void 0===i?void 0:i.borderColor)&&"\n        .sc-custom-order-bump-container{\n          background-color: ".concat(s.orderBumps.backgroundColor," !important;\n          border-color: ").concat(s.orderBumps.borderColor," !important;\n        }\n        ")]})]})}var H=n(88455),U=n(37618),z=n(34052),Z=n(28814),W=n(99052),G=n(70357),Q=function(){let e=(0,G.Fg)();(0,m.useEffect)(()=>{"dark"===e.palette.mode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e])},Y=n(9008),K=n.n(Y);function X(e){let t,{htmlTitle:n,faviconUrl:o}=e;try{t=new URL(o||"".concat(h.f_,"/favicon.ico"))}catch(e){t=void 0}return(0,u.jsxs)(K(),{children:[t&&(0,u.jsx)("link",{rel:"icon",href:t.href,"data-testid":"favicon"}),(0,u.jsx)("title",{children:n}),(0,u.jsx)("meta",{name:"viewport",content:"user-scalable=yes, width=device-width, initial-scale=1, maximum-scale=1"})]})}function J(e){let{htmlTitle:t,faviconUrl:n,children:o,format:r=""}=e;return Q(),(0,u.jsxs)("div",{className:(0,A.classNames)("relative",y(r)?"":"min-h-screen"),children:[(0,u.jsx)(X,{htmlTitle:t,faviconUrl:n}),(0,u.jsx)("main",{children:o})]})}var $=n(53140),ee=n.n($);function et(e){let{unsafeHtml:t}=e;return(0,u.jsx)(ee(),{html:t})}var en=n(7763),eo=n(25675),er=n.n(eo),el=function(e){let{name:t,logoUrl:n}=e,o=n?(0,u.jsx)("div",{className:"w-64 h-8 relative",children:(0,u.jsx)(er(),{priority:!0,fill:!0,style:{objectFit:"contain"},className:"object-left",src:n,alt:t,sizes:"256px"})}):(0,u.jsx)(S.Heading2,{className:"font-normal text-light-text-secondary text-xs lg:text-sm leading-8 h-8",children:t});return(0,u.jsx)("div",{className:"mb-6 md:mb-8",children:o})},ei=n(3324),es=n(72558),ea=n(53222),ed=n(72595),ec=n(86483);function eu(e,t){return""===t?"":new Intl.NumberFormat((0,ec.ZP)({useFallbackLocale:!0,fallbackLocale:"en-US"}),{style:"currency",currency:t,currencyDisplay:"narrowSymbol"}).format(e/100)}var em=n(80149);let ep="en",ev=em.default;async function eh(e){if(e!==ep){if("en"===e){ev=em.default,ep=e;return}try{ev=(await n(30889)("./".concat(e,"/translation.ts"))).default,ep=e}catch(e){ev=em.default,ep="en"}}}function ex(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ev;if(!t.includes(".")){var o;return null!==(o=n[t])&&void 0!==o?o:null}let[r,...l]=t.split("."),i=n[r];return i&&"object"==typeof i?e(l.join("."),i):null}(e);return n?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(t).reduce((e,t)=>{let[n,o]=t,r=RegExp("{".concat(n,"}"),"g");return e.replace(r,String(o))},e)}(n,t):e}function ef(e){let{freeTrial:t,subscription:n,todayPriceInCents:o,optionalDivClasses:r=""}=e,l=null;if(t)l=(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-light-success-dark text-[11px] px-2 ",children:"".concat(n.trialPeriod," ").concat(ex("order.subscription.daysFree"))});else{if(!(o<n.priceInCents))return(0,u.jsx)(u.Fragment,{children:" "});l=(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-light-success-dark text-[11px] px-2 ",children:ex("order.subscription.introOffer")})}return(0,u.jsx)("div",{className:"sc-badge bg-light-success-light rounded-lg py-1 ".concat(r),children:l})}(o=s||(s={})).days="days",o.weekly="weekly",o.monthly="monthly",o.quarterly="quarterly",o.yearly="yearly";let eg={days:{full:"day",abbr:"day",days:1},weekly:{full:"week",abbr:"wk",days:7},monthly:{full:"month",abbr:"mo",days:30},quarterly:{full:"quarter",abbr:"qtr",days:90},yearly:{full:"year",abbr:"yr",days:365}};function eb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"full",o=!(arguments.length>3)||void 0===arguments[3]||arguments[3];if(!(e in s))return"";if(e!==s.days)return ex("frequency.".concat(eg[e][n]));let r=s.days;t%eg[s.yearly].days==0?r=s.yearly:t%eg[s.monthly].days==0?r=s.monthly:t%eg[s.weekly].days==0&&(r=s.weekly);let l=t/eg[r].days;if(o&&1===l)return ex("frequency.".concat(eg[r][n]));let i=ex("frequency.".concat(eg[r][n]).concat(1!==l?"s":""));return"".concat(l," ").concat(i)}function ey(e,t){let n="".concat(eu(e.priceInCents,t)),o=e.duration>0,r=e.trialPeriod>0;(!o||o&&e.duration>1)&&(n="".concat(n,"/").concat(eb(e.frequency,e.rebillDays,"abbr")));let l=ex("frequency.of");o&&(n="".concat(function(e){let t="payment";e>1&&(t+="s");let n=ex("frequency.".concat(t));return"".concat(e," ").concat(n)}(e.duration)," ").concat(l," ").concat(n));let i=ex("frequency.startingIn");return r&&(n="".concat(n," ").concat(i," ").concat(eb(s.days,e.trialPeriod,"full",!1))),n}function ew(e,t,n,o){var r,l;let i=null==n?void 0:null===(r=n.items)||void 0===r?void 0:r.find(t=>t.productId===e);return ey({...t,priceInCents:null!==(l=null==i?void 0:i.recurringAmount)&&void 0!==l?l:t.priceInCents},o)}function ej(e){return!!(e&&e.duration>0)}function eC(e,t){return!!(e&&0===t)}function eN(e,t,n){let o=e;return t&&n<t.priceInCents&&(o=t.priceInCents),o}function eP(e,t){return!!(e&&t!==e.priceInCents)}var ek=n(13567);function eI(e){let{itemProductId:t,subscription:n,imageUrl:o,name:r,todayPriceInCents:l,orderBumpStrikeThroughPriceInCents:i,description:s,showModal:a,closeModal:d,onlyShowCloseBtn:c=!1}=e,{selectedOrderBumps:m,addSelectedOrderBump:p,removeSelectedOrderBump:v,currency:x,isUserInputAllowed:f}=F(),{format:g}=P(),b=eN(i,n,l),w=y(g),j=g===h.lQ,C={label:ex("close"),color:"primary",variant:"outlined",disabled:!f,className:"sc-custom-branded-button-outline",onClick:()=>d()};return c||(m.includes(t)?C={label:ex("order.bumps.removeFromOrder"),color:"destructive",variant:"outlined",disabled:!f,onClick:()=>{d(),v(t)}}:m.includes(t)||(C={label:ex("order.bumps.addToOrder"),color:"primary",variant:"contained",disabled:!f,className:"sc-custom-branded-button",onClick:()=>{d(),p(t)}})),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{children:"\n        .square-modal  > .MuiDrawer-paper {\n          height: 75%;\n        }\n        @media (min-width: 600px) {\n          .square-modal > .sc-mobile-fullscreen {\n            max-height: 480px;\n            min-height: 480px;\n          }\n        }\n        @media (min-width: 900px) {\n          .square-modal > .sc-mobile-fullscreen {\n            max-height: 560px;\n            min-height: 560px;\n          }\n        }\n      "}),(0,u.jsxs)(ek.SmallModal,{className:"square-modal",mobileFullscreen:w,mobileDrawer:j,open:a,onClose:d,headerProps:{title:ex("order.productDetails"),divider:!0,headerClassNames:"font-normal tp-custom-header-font",endButton:{icon:"X",label:ex("close"),onClick:d}},footerProps:{divider:!0,justify:"center",buttons:[C],buttonsStackedAt:["xs","sm"]},children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"flex flex-row",children:[o&&(0,u.jsx)("div",{className:"mr-4 block h-[60px] w-[60px] rounded-lg overflow-hidden relative flex-none",children:(0,u.jsx)(er(),{fill:!0,style:{objectFit:"cover"},sizes:"60px",src:o,alt:r})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 mb-1 text-md break-words",children:r}),(0,u.jsx)("div",{className:"flex flex-row mb-1",children:(0,u.jsxs)("div",{className:"grow-0 flex justify-end",children:[b&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 mr-1 text-sm text-light-text-secondary",children:(0,u.jsx)("span",{className:"line-through",children:eu(b,x)})}),(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-sm font-normal text-right",children:eu(l,x)}),n&&!eP(n,l)&&(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 ml-[1px] text-light-text-secondary text-xs font-normal text-right",children:["/",eb(n.frequency,n.rebillDays)]})]})}),n&&(0,u.jsx)(ef,{subscription:n,todayPriceInCents:l,freeTrial:eC(n,l),optionalDivClasses:"w-fit mb-1"}),n&&(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 text-xs",children:[ex("order.subscription.then")," ",ey(n,x)]})]})]})}),(0,u.jsx)("p",{dangerouslySetInnerHTML:{__html:s},className:"sc-custom-content-font"})]})]})}function eS(e){if("parentIFrame"in window&&window.parentIFrame){if("recaptcha"===e){!function(){let e=new MutationObserver(()=>{var t,n;let o=document.querySelector('iframe[src^="https://www.google.com/recaptcha"][src*="bframe"]');if(!o||!(null===(t=o.parentElement)||void 0===t?void 0:t.parentElement))return;e.disconnect();let r=new MutationObserver(()=>{var e,t,n;(null===(e=o.parentElement)||void 0===e?void 0:e.parentElement)&&(null===(n=o.parentElement)||void 0===n?void 0:null===(t=n.parentElement)||void 0===t?void 0:t.style.visibility)==="visible"&&(r.disconnect(),parentIFrame.scrollToOffset(o.scrollLeft,o.scrollTop),parentIFrame.sendMessage({type:"scroll-slide-to-top"}))});r.observe(null===(n=o.parentElement)||void 0===n?void 0:n.parentElement,{attributes:!0})});e.observe(document.documentElement||document.body,{childList:!0,subtree:!0})}();return}parentIFrame.scrollToOffset(0,0),parentIFrame.sendMessage({type:"scroll-slide-to-top"})}}(r=a||(a={})).PayPal="paypal",r.StripeExtraPaymentAction="sca",r.ReCAPTCHA="recaptcha",r.Redirect="redirect",r.SecuredBySamCart="secured-by-samcart",r.DescriptionModal="description-modal";let eA=e=>{var t,n,o,r;let l;let i=window;try{l=new URL(e)}catch(t){return e}return"string"==typeof(null==i?void 0:null===(t=i._gaVariables)||void 0===t?void 0:t.gaClientId)&&l.searchParams.set("gaClientId",null==i?void 0:null===(o=i._gaVariables)||void 0===o?void 0:o.gaClientId),"string"==typeof(null==i?void 0:null===(n=i._gaVariables)||void 0===n?void 0:n.gaSessionId)&&l.searchParams.set("gaSessionId",null==i?void 0:null===(r=i._gaVariables)||void 0===r?void 0:r.gaSessionId),l.toString()},eO=async(e,t)=>{let n=eA(t);if(y(e))try{window.parent.location.href=n;return}catch(e){}eS(a.Redirect),window.location.href=n};async function eE(e,t){try{let{data:n}=await v.Z.get(e,{params:{format:t}});if(n.redirect)return await eO(t,n.redirect),Promise.reject(Error("[getExperienceData] redirect"));return await eh(n.translation),n}catch(e){var n;throw e instanceof Error&&(0,T.Z)("[getExperienceData]",e),v.Z.isAxiosError(e)&&(null===(n=e.response)||void 0===n?void 0:n.status)===404&&window.location.assign("/checkout"),e}}function eF(){let{productIdOrSlug:e,format:t}=P(),{checkoutApiUrl:n}=w(!0),o="".concat(n,"/experience/").concat(e);return(0,B.a)({queryKey:["experienceData",e],queryFn:()=>eE(o,t),enabled:!!e,staleTime:1/0,gcTime:1/0})}function eB(e){var t,n;let{itemProductId:o,subscription:r,imageUrl:l,name:i,todayPriceInCents:s,orderBumpStrikeThroughPriceInCents:d,isOrderBump:c,isBundleProduct:p=!1,description:v,hasPaymentOptions:h,onlyShowCloseBtn:x=!1,showQuantity:f=!1,maxQuantity:g=1}=e,[b,y]=(0,m.useState)(!1),{removeSelectedOrderBump:w,isUserInputAllowed:j,currency:C,selectedQuantity:N,setSelectedQuantity:P,selectedPaymentOption:k}=F(),I=c||k.bundledProducts,S=r&&!eP(r,s),O=eN(d,r,s),{data:E}=eF();return(0,u.jsxs)("div",{className:(0,A.classNames)("flex flex-row mt-4",eC(r,s)||ej(r)?"items-start":""),children:[l&&(0,u.jsx)("div",{className:(0,A.classNames)("mr-4 block",p?"size-12":"size-16","rounded-lg overflow-hidden relative flex-none"),children:(0,u.jsx)(er(),{priority:!0,fill:!0,style:{objectFit:"cover"},src:l,alt:i,sizes:p?"48px":"64px"})}),(0,u.jsxs)("div",{className:"grow mr-4",children:[(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 text-sm font-normal",children:[i,c&&(0,u.jsx)(W.IconButton,{className:"h-6",icon:"X",size:"medium",variant:"borderless",color:"neutral",label:ex("order.bumps.removeFromOrder"),onClick:()=>w(o),disabled:!j})]}),v&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ea.r,{className:(0,A.classNames)("text-xs cursor-pointer sc-custom-branded-text",j?"":"opacity-50 no-underline"),onClick:()=>{y(j),eS(a.DescriptionModal)},children:null!==(n=null==E?void 0:null===(t=E.textOverrides)||void 0===t?void 0:t.descriptionLabel)&&void 0!==n?n:ex("order.viewDetails")}),(0,u.jsx)(eI,{itemProductId:o,description:v,imageUrl:l,name:i,subscription:r,todayPriceInCents:s,showModal:b,closeModal:()=>y(!1),onlyShowCloseBtn:x})]})]}),(0,u.jsxs)("div",{className:"flex flex-col flex-none",children:[I&&(0,u.jsxs)("div",{className:"grow-0 flex justify-end",children:[O&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 mr-1 text-sm text-light-text-secondary line-through",children:eu(O,C)}),(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-sm font-normal text-right",children:eu(s,C)}),S&&(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 ml-[1px] text-light-text-secondary text-xs font-normal text-right",children:["/",eb(r.frequency,r.rebillDays)]})]}),(0,u.jsx)("div",{className:"flex flex-row align-center items-center justify-end",children:(0,u.jsx)("div",{className:"grow-0 flex",children:r&&(0,u.jsx)(ef,{subscription:r,todayPriceInCents:s,freeTrial:eC(r,s)})})}),f&&(0,u.jsx)(ed.A,{className:(0,A.classNames)("sc-custom-counter",h?"":"mt-3"),size:"small",variant:"outlined",value:N,max:g,min:1,label:"",onChange:e=>{"increase"===e?P(N+1):P(N-1)}})]})]})}function eT(){let{selectedPaymentOption:e}=F(),{bundledProducts:t}=e;return t?(0,u.jsx)("div",{className:"ml-4",children:t.map(e=>{var t;return(0,u.jsx)(eB,{itemProductId:e.id,subscription:e.subscription,imageUrl:null!==(t=e.imageUrl)&&void 0!==t?t:"",name:e.name,todayPriceInCents:e.priceInCents,orderBumpStrikeThroughPriceInCents:void 0,description:e.description,hasPaymentOptions:!1,isOrderBump:!1,isBundleProduct:!0,onlyShowCloseBtn:!0},e.id)})}):(0,u.jsx)("div",{})}var eq=n(26609),eD=n(11582),e_=n(45397),eM=n(64248);function eR(e){if(!e)return!0;let{...t}=e;return Object.values(t).every(e=>!e)}function eL(e){return eR(e)||function(e){if(!e)return!1;let{country:t,...n}=e;return t&&Object.values(n).every(e=>!e)}(e)}let eV=(0,m.createContext)({email:"",setEmail:()=>null});function eH(e){let{children:t}=e,[n,o]=(0,m.useState)(""),r=(0,m.useMemo)(()=>({email:n,setEmail:o}),[n,o]);return(0,u.jsx)(eV.Provider,{value:r,children:t})}let eU=()=>(0,m.useContext)(eV);function ez(e,t){var n;let o=t.some(e=>e.physical),r=!!(null===(n=e.bundledProducts)||void 0===n?void 0:n.some(e=>e.physical));return e.physical||o||r}function eZ(e,t){return t.filter(t=>e.includes(t.productId))||[]}function eW(e,t){var n;return!!(e.collectTaxes||(null===(n=e.bundledProducts)||void 0===n?void 0:n.some(e=>e.collectTaxes)))||t.some(e=>e.collectTaxes)}function eG(e,t,n){return null!=e&&!!e.addressExists&&eW(t,n)}function eQ(){let{data:e}=D(),{selectedPaymentOption:t,selectedOrderBumps:n}=F(),o=eZ(n,(null==e?void 0:e.orderBumps)||[]),r=ez(t,o);return{requireShippingAddress:r||t.showShippingAddress,requireShippingCostsCalculation:r,requireBillingAddress:eW(t,o)}}async function eY(e,t,n,o,r,l,i,s,a,d){try{let c=function(e,t,n,o,r){let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,i=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,a=arguments.length>8?arguments[8]:void 0,d=arguments.length>9?arguments[9]:void 0,c=e===r.id?l:1,u={principalProductId:e,couponCode:n,items:[{productId:r.id,quantity:c,isGift:!1,type:"primary"}],email:t,pwywPrice:d};u.shippingAddress=eR(s)||(null==s?void 0:s.country)&&!(null==s?void 0:s.state)&&h.WV.includes(null==s?void 0:s.country)?void 0:s,u.billingAddress=eL(a)?void 0:a,o.forEach(e=>{u.items.push({productId:e,quantity:1,isGift:!1,type:"bump"})}),u.format=i;let{bundledProducts:m}=r;return null==m||m.forEach(e=>{u.items.push({productId:e.id,quantity:c,isGift:!1,type:"bundled"})}),u}(e,t,n,o,r,l,i,s,a,d);return(await v.Z.post("price",c)).data}catch(e){throw e instanceof Error&&(0,T.Z)("[queryGetPriceData]",e),e}}function eK(){let e,t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{couponCode:o,selectedOrderBumps:r,selectedPaymentOption:l,selectedQuantity:i,selectedShipping:s,selectedBilling:a,pwywPrice:d}=F(),{format:c}=P(),{email:u}=eU(),{requireBillingAddress:m,requireShippingAddress:p}=eQ(),{data:v}=D(),h=(null==v?void 0:v.product.id)||0;return p&&(e=s),m&&(t=a,n&&eL(t)&&(t=null==v?void 0:v.geolocatedAddress)),(0,B.a)({queryKey:["queryPrice",h,o,r,l.id,i,c,e,t,o?u:void 0,d],queryFn:()=>eY(h,u,o,r,l,i,c,e,t,d),staleTime:1/0,gcTime:1/0,enabled:!!h})}function eX(){let{currency:e,couponCode:t,setCouponCode:n}=F(),{data:o,isPending:r}=D(),{data:l,isRefetching:i}=eK(),[s,a]=(0,m.useState)(!0),[d,c]=(0,m.useState)(!1),[p,v]=(0,m.useState)("");function h(){a(!1)}function x(){""!==p.trim()&&n(p)}let{coupon:f}=P();(0,m.useEffect)(()=>{f&&!t&&(h(),v(f),n(f))},[f]),(0,m.useEffect)(()=>{!d&&(null==l?void 0:l.hasValidCoupon)?c(!0):d&&t&&!(null==l?void 0:l.hasValidCoupon)&&c(!1)},[l,d,t]);let g=""!==t&&l&&!i;return!r&&(null==o?void 0:o.product.hasCoupons)?s?(0,u.jsx)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:(0,u.jsx)("button",{onClick:h,type:"button",className:"text-xs p-0 cursor-pointer border-0 bg-transparent outline-0 text-light-primary-main hover:underline sc-custom-branded-text",children:(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("p",{className:"sc-custom-content-font leading-4 my-0 mr-1 sc-custom-branded-text",children:ex("coupon.addDiscountCode")}),(0,u.jsx)(eq.Tag,{size:"S",titleAccess:ex("coupon.addDiscountCode")})]})})})}):d?(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between gap-4",children:[(0,u.jsx)(eM.Pill,{size:"small",label:t,onDelete:()=>void(n(""),v(""),c(!1)),className:"m-0 whitespace-normal min-h-[24px] h-fit coupon-word-wrap sc-custom-branded-button-outline",selected:!1}),!i&&l&&(0,u.jsxs)("p",{className:"sc-custom-content-font text-xs leading-4 lg:text-sm lg:leading-5 text-right whitespace-nowrap m-0",children:["- ",eu(Math.abs(l.discount),e)]})]}):(0,u.jsxs)("div",{className:"flex flex-row align-center items-start mb-2 justify-between gap-4",children:[(0,u.jsx)(eD.TextField,{hideLabel:!0,className:"max-w-[240px] coupon-input sc-custom-input",onEnterKeyPressed:e=>{e.preventDefault(),x()},onChange:e=>{v(e.target.value)},label:"",placeholder:ex("coupon.discountCode"),value:p,maxLength:30,error:g&&(null==l?void 0:l.hasValidCoupon)===!1,message:g&&(null==l?void 0:l.hasValidCoupon)===!1?l.couponErrMessage:"",endAdornment:p?{icon:"X",onClick:()=>{n(""),v("")},label:"Clear Discount Code"}:void 0}),(0,u.jsx)(e_.Button,{variant:"outlined",className:"sc-custom-branded-button-outline",label:ex("coupon.apply"),disabled:i,onClick:()=>{x()}})]}):(0,u.jsx)(u.Fragment,{children:" "})}var eJ=n(10927),e$=n(1136),e0=n(16310),e1=n(31877);let e2=RegExp("^\\s*(?<firstName>[\\p{L}'`.-]+)\\s+(?<lastName>[\\p{L}'`.-]+[\\p{L}\\s'`.-]*)\\s*$","u");function e4(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UNSPECIFIED",n=e?e.trim():t,o=n.split(" "),r={firstName:(o=o.map(e=>e.trim())).length?o.shift():t,lastName:o.length?o.join(" "):t},l=e2.exec(n);return l&&(r=l.groups),r.firstName=r.firstName.trim(),r.lastName=r.lastName.trim(),r}let e5=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,e3={fullName:e0.Z_().matches(e2,ex("validator.fullName.invalid")).required(ex("validator.fullName.required")),phoneNumber:e0.Z_().required(ex("validator.phoneNumber.required")).test("phone-number-test",ex("validator.phoneNumber.invalid"),e=>(0,e1.tm)(e||"")),email:e0.Z_().required(ex("validator.email.required")).matches(e5,ex("validator.email.invalid")),shippingAddress:e0.Ry().shape({line1:e0.Z_().required(ex("validator.shippingAddress.line1.required")).max(255,ex("validator.maxLength",{max:255})),line2:e0.Z_().nullable().max(255,ex("validator.maxLength",{max:255})),city:e0.Z_().required(ex("validator.shippingAddress.city.required")).max(255,ex("validator.maxLength",{max:255})),state:e0.Z_().required(ex("validator.shippingAddress.state.required")).max(255,ex("validator.maxLength",{max:255})),postalCode:e0.Z_().required(ex("validator.shippingAddress.postalCode.required")).max(255,ex("validator.maxLength",{max:255})),country:e0.Z_().required(ex("validator.shippingAddress.country.required"))})};function e6(e,t){let n={...e};return t.forEach(e=>{e.isRequired&&"text"===e.type?n[e.slug]=e0.Z_().required(ex("validator.customFields.required")):e.isRequired&&"checkbox"===e.type?n[e.slug]=e0.Z_().oneOf(["yes"],ex("validator.customFields.required")):e.isRequired&&"list"===e.type&&(n[e.slug]=e0.Z_().required(ex("validator.customFields.required")))}),e0.Ry(n)}function e8(e,t,n){let o={...e.fields};return o.pwyw=e0.Rx().typeError(ex("validator.pwyw.typeError")).positive(ex("validator.pwyw.positive")).min(t/100,ex("validator.pwyw.min",{min:eu(t,n)})).max(Number.MAX_SAFE_INTEGER,ex("validator.pwyw.max")).required(ex("validator.pwyw.required")),e0.Ry(o)}function e7(e){if(e)return{label:ej(e)?"(".concat(e.duration+1," ").concat("days"!==e.frequency?e.frequency:""," payments)"):"per ".concat(eb(e.frequency,e.rebillDays))}}function e9(e){var t;let{product:n,isForPaymentOption:o}=e,{setPWYWPrice:r,selectedPaymentOption:l,currency:i}=F(),{register:s,formState:{errors:a},setError:d,clearErrors:c}=(0,en.Gc)(),m=s("pwyw");return(0,u.jsx)("div",{className:(0,A.classNames)("flex flex-col",!o&&"mt-4"),children:(0,u.jsx)("div",{className:(0,A.classNames)("flex flex-row align-center items-center mb-0"),children:(0,u.jsx)("div",{className:(0,A.classNames)(o&&"pl-10 pr-2 pb-2 -mt-2","w-full"),children:(0,u.jsx)(eD.TextField,{...m,error:!!a.pwyw,message:null==a?void 0:null===(t=a.pwyw)||void 0===t?void 0:t.message,onBlur:e=>{!function(e){m.onBlur(e),c("pwyw"),r(e.target.value);let t=e8(e3,l.priceInCents,i);try{t.validateSyncAt("pwyw",{pwyw:e.target.value})}catch(e){e instanceof e0.p8&&d("pwyw",{type:"custom",message:e.message})}}(e)},onKeyDown:e=>["e","E","+","-"].includes(e.key)&&e.preventDefault(),type:"number",label:o?"":n.nameYourPriceText||ex("order.nameYourPrice"),description:!o&&n.priceInCents>0?"".concat(ex("order.minimum"),": ").concat(eu(n.priceInCents,i)):void 0,placeholder:"ex. ".concat(eu(n.suggestedPriceInCents,i)),endAdornment:e7(n.subscription)})})})})}function te(e){var t,n,o;let{paymentOption:r}=e,{isPWYW:l}=r,i=r.bundledProducts&&r.bundledProducts.length>0,{currency:s,setSelectedPaymentOption:a,selectedPaymentOption:d}=F(),c=r.subscription&&!eP(r.subscription,r.priceInCents),m=eN(void 0,r.subscription,r.priceInCents),p=null!==(o=null===(t=r.bundledProducts)||void 0===t?void 0:t.reduce((e,t)=>e+t.priceInCents,0))&&void 0!==o?o:0,v=r.priceInCents+p,h=[];r.subscription&&h.push(r.subscription),null===(n=r.bundledProducts)||void 0===n||n.forEach(e=>{e.subscription&&h.push(e.subscription)});let x=h.length>0,f="";if(x){if(1===h.length){let e=ey(h[0],s);f="".concat(ex("order.subscription.then")," ").concat(e)}else f=ex("order.subscription.multipleSubscriptions")}let g=d.id===r.id;return(0,u.jsxs)("div",{className:(0,A.classNames)(g?"sc-payment-option-selected":""),children:[(0,u.jsxs)("div",{className:(0,A.classNames)("flex flex-row align-center items-center"),children:[(0,u.jsx)(eJ.Y,{name:"payment-option-radio-group",checked:g,className:"shrink-0 sc-payment-option-radio",label:"",value:"".concat(r.id),truncateLabel:!0,id:"sc-payment-option-".concat(r.id),onChange:()=>{a(r)}}),(0,u.jsx)("div",{className:"text-left min-w-[calc(33.333%)]",children:(0,u.jsx)(e$.Label,{className:"payment-option-label text-xs max-w-[190px] sm:max-w-[300px]",label:r.name,htmlFor:"sc-payment-option-".concat(r.id)})}),(0,u.jsxs)("div",{className:"text-right flex flex-col flex-grow sm:whitespace-nowrap",children:[(0,u.jsx)("div",{children:(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font m-0 text-xs leading-6 font-semibold text-right pl-4 pr-2",children:function(){let e=(0,A.classNames)("sc-custom-content-font",d.slug===r.slug?"font-semibold":"secondary-color"),t=!l&&m&&!i&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"sc-custom-content-font line-through",children:eu(m,s)}),"\xa0"]}),n=!l&&(0,u.jsx)("span",{className:e,children:eu(v,s)}),o=l&&(0,u.jsx)("span",{className:e,children:r.nameYourPriceText||ex("order.nameYourPrice")}),a=l&&g&&!i&&r.priceInCents>0&&(0,u.jsx)("div",{className:"sc-custom-content-font secondary-color mt-1",children:"Minimum: ".concat(eu(r.priceInCents,s))}),p=!l&&c&&(0,u.jsx)("span",{className:"text-xs",children:r.subscription&&"/".concat(eb(r.subscription.frequency,r.subscription.rebillDays))});return(0,u.jsxs)(u.Fragment,{children:[t,n,o,a,p]})}()})}),(0,u.jsx)("div",{children:!l&&x&&(0,u.jsx)("div",{children:(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font secondary-color m-0 text-[11px] leading-[14px] text-right pr-2",children:f})})})]})]}),l&&g&&!i&&(0,u.jsx)(e9,{product:d,isForPaymentOption:!0})]})}function tt(){let{data:e,isPending:t}=D(),[n,o]=(0,m.useState)(2);if(t||!e||0===e.paymentOptions.length)return(0,u.jsx)(u.Fragment,{children:" "});let r=e.paymentOptions.length,l=e.paymentOptions.some(e=>e.bundledProducts);return(0,u.jsxs)("div",{className:"mt-2",children:[l&&(0,u.jsx)("div",{className:"pt-2 lg:mt-4",children:(0,u.jsx)(es.x,{className:"sc-custom-divider"})}),(0,u.jsx)(te,{paymentOption:e.product},e.product.id),e.paymentOptions.slice(0,n).map(e=>(0,u.jsxs)("div",{children:[(0,u.jsx)(es.x,{className:"sc-custom-divider"}),(0,u.jsx)(te,{paymentOption:e})]},e.id)),r>n&&(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)(e_.Button,{label:ex("form.showMore"),endIcon:"ChevronDown",variant:"borderless",size:"small",className:"sc-custom-branded-button-outline",onClick:()=>{o(r)}})})]})}e0.Ry(e3);var tn=function(){var e,t;let{selectedOrderBumps:n,selectedPaymentOption:o,currency:r,selectedShipping:l,selectedBilling:i}=F(),{data:s,isPending:a}=eK(),{data:d}=D(),{data:c}=eF();function m(e){return!!e.country&&(!h.WV.includes(e.country)||!!e.state&&("US"!==e.country||!!e.postalCode))}let p=!!l.country;l.country&&h.WV.includes(l.country)&&(p=!!l.state);let v=m(l)||m(i),x=e=>eu(e,r),f=x((null==s?void 0:s.subtotal)||0),g=x((null==s?void 0:s.shipping)||0),b=x((null==s?void 0:s.tax)||0),y=x((null==s?void 0:s.total)||0),w=function(){let{product:e}=d||{},t=(null==e?void 0:e.subscription)||null,n=o.id===(null==e?void 0:e.id),l=n?t:o.subscription||null;return l?ew(n?e.id:o.id,l,s,r):""}(),j=[];(null==d?void 0:d.orderBumps)&&(j=d.orderBumps.filter(e=>n.includes(e.productId))),j.forEach(e=>{(null==e?void 0:e.subscription)&&(w&&(w+=" + "),w+=ew(e.productId,e.subscription,s,r))});let{bundledProducts:C}=o;null==C||C.forEach(e=>{(null==e?void 0:e.subscription)&&(w&&(w+=" + "),w+=ew(e.id,e.subscription,s,r))});let{requireShippingCostsCalculation:N}=eQ(),P=eZ(n,(null==d?void 0:d.orderBumps)||[]),k=eG(null==d?void 0:d.marketplace,o,P);if(!d)return(0,u.jsx)(u.Fragment,{children:" "});let S=d.paymentOptions.length>0&&0===n.length,O=o.id===d.product.id,E=d.paymentOptions.length>0,B=(null==o?void 0:o.bundledProducts)&&o.bundledProducts.length>0,T=o.isPWYW&&(!E||B);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{"aria-label":ex("order.itemsInOrder"),children:[(0,u.jsx)(eB,{itemProductId:o.id,subscription:o.subscription,imageUrl:o.imageUrl,name:o.name,todayPriceInCents:o.priceInCents,isOrderBump:!1,description:o.description,hasPaymentOptions:E,onlyShowCloseBtn:!0,showQuantity:!!O&&d.product.showQuantity,maxQuantity:d.product.maxQuantity}),T&&(0,u.jsx)(e9,{product:o}),(0,u.jsx)(eT,{}),(0,u.jsx)(tt,{}),j.map(e=>(0,u.jsx)(eB,{itemProductId:e.productId,subscription:e.subscription,imageUrl:e.showProductImage&&e.productImage?e.productImage:"",name:e.showHeadline?e.headline:e.productName,todayPriceInCents:e.price,orderBumpStrikeThroughPriceInCents:e.showStrikethroughPrice?e.strikethroughPrice:void 0,isOrderBump:!0,description:e.showDescription&&e.description?e.description:"",hasPaymentOptions:!1},e.productId))]}),(0,u.jsx)("div",{className:(0,A.classNames)(S?"mb-4 lg:mb-6":"my-4 lg:my-6"),children:(0,u.jsx)(es.x,{className:"sc-custom-divider"})}),(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:ex("order.subtotal")}),!a&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5 text-right",children:f})]}),d.product.hasCoupons&&(0,u.jsx)(eX,{}),N&&(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:ex("order.shipping")}),!a&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5 text-right",children:p?g:ex("order.calculatedBasedOnAddress")})]}),k&&(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:ex("order.taxes")}),!a&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5 text-right",children:v?b:ex("order.calculatedBasedOnAddress")})]}),(0,u.jsxs)("div",{className:"flex flex-row align-center items-center justify-between",children:[(0,u.jsx)("p",{className:"m-0 mr-4 text-base font-semibold",id:"amount-due-now-label",children:null!==(t=null==c?void 0:null===(e=c.textOverrides)||void 0===e?void 0:e.checkoutTotal)&&void 0!==t?t:ex("order.amountDueNow")}),a?(0,u.jsx)(I.Progress,{type:"circular",color:"primary",size:24}):(0,u.jsxs)("div",{className:"m-0 text-right flex",children:[(0,u.jsx)("p",{className:"m-0 pr-1 text-xs font-light","aria-labelledby":"currency-badge",children:r}),(0,u.jsx)("p",{className:"m-0 text-base font-semibold","aria-labelledby":"amount-due-now-label",children:y})]})]}),w&&(0,u.jsx)("div",{className:"mt-1 flex flex-row align-center items-center justify-between",children:(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:[ex("order.subscription.then")," ",w]})})]})};function to(e){var t,n;let{orderBump:o}=e,{addSelectedOrderBump:r,isUserInputAllowed:l,currency:i}=F(),[s,d]=(0,m.useState)(!1),{data:c}=eF(),p=!1;o.subscription&&o.price!==o.subscription.priceInCents&&(p=!0);let v="",h=!1,x=!1;o.subscription&&(h=o.subscription.trialPeriod>0,x=o.price>o.subscription.priceInCents,v=eb(o.subscription.frequency,o.subscription.rebillDays));let f=o.showDescription&&o.description;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{children:"\n        .view-details-area:not(:has(.add-button:hover)):hover {\n          background: #046bd90a;\n        }\n\n        .view-details-area:not(:has(.add-button:hover)):hover a {\n          text-decoration: underline;\n        }\n      "}),(0,u.jsxs)("div",{tabIndex:f?0:-1,"aria-labelledby":f?"view-details-".concat(o.productId):"",role:f?"button":"",onClick:f?()=>d(l):void 0,onKeyDown:f?function(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),d(l))}:void 0,className:"border bg-white flex flex-row justify-between items-center border-solid border-light-neutral-accent rounded-lg mb-2 sc-custom-order-bump-container ".concat(f?"cursor-pointer view-details-area":""),children:[(0,u.jsxs)("div",{className:"grow p-3 overflow-hidden",children:[(0,u.jsx)(S.Paragraph,{className:"m-0 mb-2 break-words text-sm hyphens-auto sc-custom-order-bump-headline",children:o.showHeadline?o.headline:o.productName}),(0,u.jsxs)("div",{className:"flex flex-row",children:[o.showProductImage&&o.productImage&&(0,u.jsx)("div",{className:"mr-4 block h-[60px] w-[60px] rounded-lg overflow-hidden relative flex-none",children:(0,u.jsx)(er(),{fill:!0,style:{objectFit:"cover"},sizes:"60px",src:o.productImage,alt:o.headline})}),(0,u.jsxs)("div",{children:[o.subscription&&(0,u.jsx)(ef,{subscription:o.subscription,todayPriceInCents:o.price,freeTrial:0===o.price,optionalDivClasses:"w-fit mb-1"}),(0,u.jsxs)("div",{className:"flex flex-row",children:[o.showStrikethroughPrice&&(0,u.jsx)(S.Paragraph,{className:"m-0 mr-1 text-light-text-secondary text-sm line-through sc-custom-order-bump-text",children:eu(o.strikethroughPrice,i)}),!o.showStrikethroughPrice&&o.subscription&&h&&!x&&(0,u.jsx)(S.Paragraph,{className:"m-0 mr-1 text-light-text-secondary text-sm line-through sc-custom-order-bump-text",children:eu(o.subscription.priceInCents,i)}),(0,u.jsx)(S.Paragraph,{className:"m-0 text-sm sc-custom-order-bump-text",children:eu(o.price,i)}),o.subscription&&!p&&!h&&(0,u.jsxs)(S.Paragraph,{className:"m-0 ml-[1px] text-light-text-secondary font-normal text-right sc-custom-order-bump-text",children:["/",v]}),h&&(0,u.jsx)(S.Paragraph,{className:"m-0 text-sm sc-custom-order-bump-text",children:"\xa0today"})]}),o.subscription&&(0,u.jsxs)(S.Paragraph,{className:"m-0 text-xs sc-custom-order-bump-text",children:[ex("order.subscription.then")," ",ey(o.subscription,i)]}),o.showDescription&&o.description&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ea.r,{className:(0,A.classNames)("text-xs cursor-pointer sc-custom-order-bump-link",l?"":"opacity-50 no-underline"),onClick:()=>{d(l),eS(a.DescriptionModal)},id:"view-details-".concat(o.productId),children:null!==(n=null==c?void 0:null===(t=c.textOverrides)||void 0===t?void 0:t.descriptionLabel)&&void 0!==n?n:ex("order.viewDetails")})})]})]})]}),(0,u.jsx)("div",{className:"flex-none p-3",children:(0,u.jsx)(W.IconButton,{className:"add-button text-sm leading-4 sc-custom-order-bump-button",icon:"Plus",variant:"contained",label:ex("order.bumps.addToOrder"),size:"large",onClick:()=>r(o.productId),disabled:!l})})]},o.productId),o.showDescription&&o.description&&(0,u.jsx)(eI,{itemProductId:o.productId,description:o.description,imageUrl:o.showProductImage&&o.productImage?o.productImage:"",name:o.showHeadline?o.headline:o.productName,subscription:o.subscription,todayPriceInCents:o.price,showModal:s,closeModal:()=>d(!1)})]})}function tr(e){var t,n;let{orderBumps:o}=e,{selectedOrderBumps:r}=F(),{data:l}=eF(),i=o.filter(e=>!r.includes(e.productId));return 0===i.length?(0,u.jsx)(u.Fragment,{children:" "}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S.Heading6,{className:"mt-0 mb-6 font-normal tp-custom-header-font",id:"popular-add-ons-header",children:null!==(n=null==l?void 0:null===(t=l.textOverrides)||void 0===t?void 0:t.orderBumpsHeader)&&void 0!==n?n:ex("order.bumps.popularAddOns")}),i.map(e=>(0,u.jsx)(to,{orderBump:e},e.productId))]})}var tl=n(15242),ti=n(73730);function ts(e){var t,n,o,r,l,i;let{customField:s,handleCustomFieldChange:a}=e,{register:d,formState:{errors:c}}=(0,en.Gc)(),{setCustomResponse:p,customResponses:v,isUserInputAllowed:h}=F();(0,m.useEffect)(()=>{"checkbox"!==s.type||v.has(s.slug)||p(s.slug,s.isChecked?"yes":"no")},[s,v,p]);let[x,f]=(0,m.useState)(!0),g="hidden"===s.type?s.initialValue:"";(0,m.useEffect)(()=>{"hidden"!==s.type||v.has(s.slug)||p(s.slug,g)},[g,s.slug,s.type,v,a,p]);let b=s.label;switch(s.isRequired||(b+=" (Optional)"),s.type){case"text":return(0,u.jsx)("div",{className:"flex mb-4",children:(0,m.createElement)(eD.TextField,{...d("customResponses.".concat(s.slug)),error:!!(null===(t=c.customResponses)||void 0===t?void 0:t[s.slug]),message:null===(o=c.customResponses)||void 0===o?void 0:null===(n=o[s.slug])||void 0===n?void 0:n.message,className:"flex-1 sc-custom-input required",id:s.slug,key:s.slug,label:b,maxLength:100,disabled:!h,onBlur:e=>a(s.slug,e.target.value||"")})},"holder-".concat(s.slug));case"hidden":return(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:s.slug,hidden:!0,children:s.label}),(0,u.jsx)("input",{...d("customResponses.".concat(s.slug)),type:"hidden",id:s.slug,name:s.slug,"data-testid":s.slug,defaultValue:s.initialValue,onInput:e=>a(s.slug,e.currentTarget.value)})]},"holder-".concat(s.slug));case"checkbox":return(0,u.jsx)("div",{className:"flex mb-4",children:(0,m.createElement)(tl.X,{...d("customResponses.".concat(s.slug)),label:b,id:s.slug,key:s.slug,required:s.isRequired,checked:"yes"===v.get(s.slug),onChange:(e,t)=>a(s.slug,t?"yes":"no"),disabled:!h,className:"sc-custom-input"})},"holder-".concat(s.slug));case"list":{let e=s.options.map(e=>({label:e,value:e}));return(0,u.jsx)("div",{className:"flex mb-4",children:(0,m.createElement)(ti.NativeSelect,{...d("customResponses.".concat(s.slug)),error:!!(null===(r=c.customResponses)||void 0===r?void 0:r[s.slug]),message:null===(i=c.customResponses)||void 0===i?void 0:null===(l=i[s.slug])||void 0===l?void 0:l.message,label:b,id:s.slug,key:s.slug,items:e,value:v.get(s.slug),disabled:!h,onChange:e=>{f(""===e.target.value),a(s.slug,e.target.value)},className:(0,A.classNames)("sc-custom-input",x?"placeholder":"")})},"holder-".concat(s.slug))}default:return null}}function ta(){var e,t;let{clearErrors:n}=(0,en.Gc)(),{setCustomResponse:o}=F(),r=(e,t)=>{o(e,t),n("customResponses.".concat(e))},{data:l}=eF(),{data:i}=D();return i&&0!==i.customFields.length?(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)(S.Heading6,{className:"mb-4 font-normal tp-custom-header-font",children:null!==(t=null==l?void 0:null===(e=l.textOverrides)||void 0===e?void 0:e.customFieldHeader)&&void 0!==t?t:ex("form.additionalInfo")}),i.customFields.map(e=>(0,u.jsx)(ts,{customField:e,handleCustomFieldChange:r},e.slug))]}):(0,u.jsx)(u.Fragment,{children:" "})}function td(e){var t,n;let{orderBumps:o}=e,{upMd:r}=(0,ei.useScreenWidth)(),{data:l}=eF();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S.Heading6,{className:"mb-2 font-normal tp-custom-header-font",id:"order-summary-header",children:null!==(n=null==l?void 0:null===(t=l.textOverrides)||void 0===t?void 0:t.orderHeader)&&void 0!==n?n:ex("order.heading")}),(0,u.jsx)("div",{className:"mb-10 lg:mb-20","aria-labelledby":"order-summary-header",children:(0,u.jsx)(tn,{})}),!r&&(0,u.jsx)(ta,{}),(0,u.jsx)("div",{className:"mb-4","aria-labelledby":"popular-add-ons-header",children:(0,u.jsx)(tr,{orderBumps:o})})]})}var tc=n(51346);function tu(e){let{showModal:t,closeModal:n}=e,{format:o}=P(),r=y(o),l=o===h.lQ,i={label:ex("close"),color:"primary",variant:"outlined",className:"sc-custom-branded-button-outline",onClick:()=>n()};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{children:"\n        .square-modal  > .MuiDrawer-paper {\n          height: 75%;\n        }\n        @media (min-width: 600px) {\n          .square-modal > .sc-mobile-fullscreen {\n            max-height: 480px;\n            min-height: 480px;\n          }\n        }\n        @media (min-width: 900px) {\n          .square-modal > .sc-mobile-fullscreen {\n            max-height: 560px;\n            min-height: 560px;\n          }\n        }\n      "}),(0,u.jsxs)(ek.SmallModal,{className:"square-modal",mobileFullscreen:r,mobileDrawer:l,open:t,onClose:n,headerProps:{title:ex("securedByModal.securedBy"),divider:!0,headerClassNames:"font-normal tp-custom-header-font",endButton:{icon:"X",label:ex("close"),onClick:n}},footerProps:{divider:!0,justify:"center",buttons:[i],buttonsStackedAt:["xs","sm"]},children:[(0,u.jsxs)(S.Heading4,{className:"mb-6 sc-custom-content-font",children:[ex("securedByModal.secureYourPurchaseWith")," SamCart"]}),(0,u.jsxs)(S.Paragraph,{className:"mb-6 sc-custom-content-font",children:[ex("securedByModal.personalDetailsDisclaimer")," ",(0,u.jsx)(ea.r,{href:"https://www.samcart.com/security?utm_source=powered_by&utm_medium=checkout_anywhere",target:"_blank",rel:"noreferrer",children:ex("learnMore")})]}),(0,u.jsxs)("section",{className:"grid grid-cols-2 gap-2",children:[(0,u.jsxs)(tc.em,{children:[(0,u.jsx)(eq.Lock,{titleAccess:""}),(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font text-xs xs:min-h-[32px] sm:min-h-0",children:ex("securedByModal.securedAndEncrypted")})]}),(0,u.jsxs)(tc.em,{children:[(0,u.jsx)(eq.CreditCard,{titleAccess:""}),(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font text-xs xs:min-h-[32px] sm:min-h-0",children:ex("securedByModal.processedGlobally")})]}),(0,u.jsxs)(tc.em,{children:[(0,u.jsx)(eq.Globe,{titleAccess:""}),(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font text-xs xs:min-h-[32px] sm:min-h-0",children:ex("securedByModal.gdprCompliant")})]}),(0,u.jsxs)(tc.em,{children:[(0,u.jsx)(eq.Cloud,{titleAccess:""}),(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font text-xs xs:min-h-[32px] sm:min-h-0",children:ex("securedByModal.trustedCloudInfrastructure")})]})]}),(0,u.jsxs)(S.Paragraph,{className:"mt-6 sc-custom-content-font",children:["SamCart ",ex("securedByModal.useIPGeolocate")," ",(0,u.jsx)(ea.r,{href:"https://lite.ip2location.com",target:"_blank",rel:"noopener noreferrer",children:ex("securedByModal.ipGeolocation")}),"."]})]})]})}function tm(){let[e,t]=(0,m.useState)(!1),{format:n}=P(),o="secured-badge-".concat(ep,".svg");return(0,u.jsxs)("footer",{className:(0,A.classNames)("py-4 bg-transparent text-center",y(n)?"mt-4":""),children:[(0,u.jsx)(er(),{className:"cursor-pointer",width:"94",height:"28",role:"img",alt:"Secured Badge",src:"".concat(h.f_,"/").concat(o),onClick:()=>{t(!0),eS(a.SecuredBySamCart)}}),(0,u.jsx)(tu,{showModal:e,closeModal:()=>t(!1)})]})}var tp=n(86664),tv=n(2859),th=n(68863);let tx={theme:"stripe",variables:{colorDanger:"#D91636",fontFamily:'"Inter","Helvetica","Arial",sans-serif',borderRadius:"8px",colorPrimary:"#046BD9",colorBackground:"#ffffff",colorText:"#233543",fontWeightMedium:"500",fontSizeBase:"14px",gridRowSpacing:"16px"},rules:{".Label":{fontFamily:'"Inter","Helvetica","Arial",sans-serif',fontSize:"14px",fontWeight:"500",lineHeight:"16px",marginTop:"0px",marginBottom:"8px",color:"#233543"},".Input":{borderColor:"#9CABB7",fontSize:"14px",lineHeight:"16px",paddingTop:"11px",paddingBottom:"11px"},".Input:focus":{border:"1px solid #024291",boxShadow:"none"},".Input::placeholder":{color:"#5A7386"},".Input--invalid":{border:"1px solid #D91636",boxShadow:"none"},".Input--invalid:focus":{border:"1px solid #024291"},".Input--empty not(.Input--invalid)":{border:"1px solid #9CABB7"},".Label--invalid":{color:"#D91636"},".Error":{fontSize:"12px",lineHeight:"16px"},".AccordionItem":{marginTop:"5px",border:"1px solid #DEE3E7",boxShadow:"none",color:"#5A7386",fontSize:"12px"},".AccordionItem:hover":{border:"1px solid #DEE3E7",boxShadow:"none",color:"#5A7386",fontSize:"12px"},".AccordionItem:focus-visible,.AccordionItem:hover":{boxShadow:"none"},".AccordionItem--selected, .AccordionItem--selected:hover, .AccordionItem--selected:focus-visible":{borderColor:"#024291",borderWidth:"1px",borderStyle:"solid",boxShadow:"none",color:"#233543",fontSize:"12px"},".PickerItem":{borderColor:"#9CABB7",fontSize:"14px",lineHeight:"16px",paddingTop:"10px",paddingBottom:"10px",fontWeight:"100"},".Block":{borderColor:"#9CABB7",paddingTop:"10px",paddingBottom:"11px"},".PickerItem--selected, .PickerItem--selected:hover":{border:"1px solid #9CABB7",boxShadow:"none"},".PickerItem--highlight":{border:"1px solid #046BD9",boxShadow:"none"},".PickerItem--highlight:hover":{border:"1px solid #046BD9",boxShadow:"none"},".PickerItem:hover":{border:"1px solid #9CABB7",backgroundColor:"#F5F8FA"},".PickerItem--new":{paddingTop:"6px",paddingBottom:"6px",fontSize:"14px",lineHeight:"16px"}}};var tf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=R((null==e?void 0:e.buttonColor)||h.Iu,(null==e?void 0:e.contentFontColor)||h.SQ);if(!tx.rules||!tx.variables)return tx;if(e&&e.contentFontFamily){var n;tx.variables.fontFamily='"'.concat(e.contentFontFamily,'", "Inter","Helvetica","Arial",sans-serif'),tx.rules[".Label"].fontFamily='"'.concat(e.contentFontFamily,'", "Inter","Helvetica","Arial",sans-serif'),tx.rules[".Label"].fontWeight=null!==(n=e.contentFontStyle)&&void 0!==n?n:""}return tx.rules[".Label"].color=t.defaultColorOptions.primaryTextColor,tx.rules[".AccordionItem--selected, .AccordionItem--selected:hover, .AccordionItem--selected:focus-visible"].color=t.defaultColorOptions.primaryTextColor,tx.rules[".AccordionItem--selected, .AccordionItem--selected:hover, .AccordionItem--selected:focus-visible"].borderColor=t.brandColorOnTheBackground.borderColorOnFocus,tx.rules[".AccordionItem--selected, .AccordionItem--selected:hover, .AccordionItem--selected:focus-visible"].backgroundColor="var(--colorBackground)",tx.rules[".AccordionItem"].color=t.defaultColorOptions.secondaryTextColor,tx.rules[".AccordionItem"].borderColor=t.defaultColorOptions.secondaryOutlineColor,tx.rules[".AccordionItem:focus-visible,.AccordionItem:hover"].borderColor=t.brandColorOnTheBackground.borderColorOnFocus,tx.rules[".AccordionItem:focus-visible,.AccordionItem:hover"].color=t.defaultColorOptions.primaryTextColor,tx.rules[".Input"].borderColor=t.defaultColorOptions.primaryOutlineColor,tx.rules[".Input--empty not(.Input--invalid)"].borderColor=t.defaultColorOptions.primaryOutlineColor,tx.rules[".Input:focus"].border="1px solid ".concat(t.brandColorOnTheBackground.borderColorOnFocus),tx};function tg(e){let{visible:t}=e;return(0,u.jsx)("div",{children:t&&(0,u.jsx)(es.x,{className:"sc-custom-divider text-xs bg-transparent text-light-text-secondary mt-4 lg:mt-6",children:ex("form.orPayUsing")})})}let tb="Were sorry, your card was declined. Please check your information and try again.",ty="We're sorry, there was an error processing your payment. Please try again or contact the seller for help.";class tw extends Error{}function tj(e){var t,n,o,r;if(e instanceof tw)return e.message;let l=v.Z.isAxiosError(e);return l&&(null===(n=e.response)||void 0===n?void 0:null===(t=n.data)||void 0===t?void 0:t.paymentError)?tb:l&&(null==e?void 0:null===(o=e.response)||void 0===o?void 0:o.data.error)?"".concat("Were sorry, there was an error processing your payment."," ").concat(null==e?void 0:null===(r=e.response)||void 0===r?void 0:r.data.error):ty}function tC(e){let{open:t,closeModalFunc:n,err:o}=e,r=tj(o);return(0,u.jsx)(ek.SmallModal,{className:"dw-error-modal text-center w-[320px] lg:w-[400px] mx-auto",open:t,headerProps:{title:"Payment error",endButton:{icon:"X",label:"Close",onClick:()=>n()}},onClose:()=>n(),children:(0,u.jsx)("p",{className:"sc-custom-content-font text-light-text-primary m-0 text-xs lg:text-sm font-normal",children:r})})}function tN(e){let{open:t}=e;return(0,u.jsxs)(ek.SmallModal,{className:"text-center w-[303px] lg:w-[389px] mx-auto",open:t,children:[(0,u.jsx)("div",{className:"mt-2 sm:mt-0 lg:mt-4",children:(0,u.jsx)(I.Progress,{type:"circular"})}),(0,u.jsx)("p",{className:"sc-custom-content-font text-light-text-primary text-xl font-semibold mt-4 mb-2 sm:mb-0 lg:text-[28px] lg:leading-8 lg:mb-4",children:"Processing payment..."})]})}(l=d||(d={})).AuthorizeNet="authorize_net",l.Braintree="braintree",l.EasyPayDirect="easypaydirect",l.Infusionsoft="infusionsoft",l.Nmi="nmi",l.PayPal="paypal",l.SamPay="sampay",l.Sandbox="sandbox",l.Square="square",l.Stripe="stripe";let tP={gaClientId:void 0,gaSessionId:void 0},tk=(e,t,n,o)=>{var r,l,i;let s=window;function a(){var t,n;e&&(null===(t=s._gaVariables)||void 0===t?void 0:t.gaClientId)===void 0&&"function"==typeof gtag&&gtag("get",e,"client_id",e=>{s._gaVariables=s._gaVariables||tP,s._gaVariables.gaClientId="string"==typeof e?e:void 0}),e&&(null===(n=s._gaVariables)||void 0===n?void 0:n.gaSessionId)===void 0&&"function"==typeof gtag&&gtag("get",e,"session_id",e=>{s._gaVariables=s._gaVariables||tP,s._gaVariables.gaSessionId="string"==typeof e?e:void 0})}function d(){var n,o;s._samcarttracking.tracker.init("google",{ga:e,gtm:t,gaClientId:null===(n=s._gaVariables)||void 0===n?void 0:n.gaClientId,gaSessionId:null===(o=s._gaVariables)||void 0===o?void 0:o.gaSessionId}),setTimeout(a,1e3)}void 0!==(null==s?void 0:null===(r=s._samcarttracking)||void 0===r?void 0:r.tracker)&&(n&&s._samcarttracking.tracker.init("meta",{id:n}),(e||t)&&(e&&(null===(l=s._gaVariables)||void 0===l?void 0:l.gaClientId)===void 0&&y(o)?(null===(i=window.parentIFrame)||void 0===i||i.sendMessage({type:"get-ga-client-session",data:{gaMeasurementId:e}}),setTimeout(d,1e3)):d()))},tI=(e,t,n,o)=>r=>{var l;if(!n||!(null==e?void 0:e.selectedPaymentOption))return;let i=window,s=eZ(e.selectedOrderBumps,null!==(l=null==o?void 0:o.orderBumps)&&void 0!==l?l:[]).map(t=>({id:t.productId,name:t.productName,currency:e.currency,price:parseFloat((t.price/100).toFixed(2)),quantity:1,coupon:e.couponCode})),a={currency:e.currency,products:[{id:e.selectedPaymentOption.id,name:e.selectedPaymentOption.name,currency:e.currency,price:parseFloat((e.selectedPaymentOption.priceInCents/100).toFixed(2)),quantity:1,coupon:e.couponCode},...s]};v.Z.post("".concat(t,"/tracking/payments"),{...a,principalProductId:e.selectedPaymentOption.id,email:r}).then(e=>{var t;void 0!==(null==i?void 0:null===(t=i._samcarttracking)||void 0===t?void 0:t.tracker)&&i._samcarttracking.tracker.fire("addPaymentInfo",{...a,eventId:e.data.eventId,customer:{email:r}})}).catch(()=>{})},tS=()=>{var e,t,n,o,r;let{data:l}=D(),{format:i}=P(),{checkoutApiUrl:s}=w(!0),a=F(),d=(null===(t=window)||void 0===t?void 0:null===(e=t._samcarttracking)||void 0===e?void 0:e.tracker)!=null,c=null==l?void 0:null===(n=l.marketplace)||void 0===n?void 0:n.gaMeasurementId,u=null==l?void 0:null===(o=l.marketplace)||void 0===o?void 0:o.gtmContainerId,p=null==l?void 0:null===(r=l.marketplace)||void 0===r?void 0:r.metaPixelId,v=!!(c||u||p);return(0,m.useEffect)(()=>{v&&d&&tk(c,u,p,i)},[v,i,c,u,p,d]),{enabled:v,fireAddPaymentInfo:tI(a,s,v,l)}};function tA(e,t,n){return n?[{name:"Subtotal",amount:null==n?void 0:n.subtotal},...(null==n?void 0:n.discount)?[{name:"Discount",amount:0-n.discount}]:[],...e?[{name:"Shipping",amount:n.shipping}]:[],...t?[{name:e?"Taxes":"Estimated Taxes",amount:n.tax}]:[]]:[]}let tO=(0,m.createContext)({recaptchaSiteKey:""});function tE(e){var t;let{children:n}=e,{data:o}=eF(),[r]=(0,m.useState)((0,m.useRef)()),l=null!==(t=null==o?void 0:o.recaptchaSiteKey)&&void 0!==t?t:"",i=(0,m.useMemo)(()=>({recaptchaSiteKey:l,recaptchaRef:r}),[l,r]);return(0,u.jsx)(tO.Provider,{value:i,children:n})}let tF=()=>(0,m.useContext)(tO);async function tB(e,t){let n=null;if(e){var o,r;null==t||null===(o=t.current)||void 0===o||o.reset(),eS(a.ReCAPTCHA);let e=await (null==t?void 0:null===(r=t.current)||void 0===r?void 0:r.executeAsync());e&&(n=e)}return n}function tT(e,t,n,o,r,l,i,s,a,d,c,u){let m=arguments.length>12&&void 0!==arguments[12]?arguments[12]:null,p=arguments.length>13?arguments[13]:void 0,v=arguments.length>14&&void 0!==arguments[14]?arguments[14]:1,h=arguments.length>15?arguments[15]:void 0,x=arguments.length>16?arguments[16]:void 0,f=e4(o.fullName),g=s.filter(e=>""!==e.value),b=e===d?v:1;eL(o.billingAddress)&&!eL(o.shippingAddress)&&(o.billingAddress=o.shippingAddress);let y={visitationToken:p,cart:{couponCode:a,principalProductId:e,items:[{productId:d,quantity:b,isGift:!1,type:"primary"}]},customer:{firstName:f.firstName,lastName:f.lastName,email:o.email,phoneNumber:o.phoneNumber,billingAddress:o.billingAddress,shippingAddress:o.shippingAddress},referrer:n,paymentMethod:t,format:r,paymentIntent:l,customResponses:g,processorType:u,recaptchaToken:m,pwywPrice:x};return h&&(y.affiliate={token:h,visitorToken:p}),i.forEach(e=>{y.cart.items.push({productId:e,quantity:1,isGift:!1,type:"bump"})}),null==c||c.forEach(e=>{y.cart.items.push({productId:e.id,quantity:b,isGift:!1,type:"bundled"})}),y}function tq(e,t,n){var o;let r=t?"".concat(t,", ").concat(e):e;return[{id:"".concat(e,"-").concat(t,"-shipping"),displayName:"".concat((null==n?void 0:n.shipping)===0?"Free":"Standard"," Shipping to ").concat(r),amount:null!==(o=null==n?void 0:n.shipping)&&void 0!==o?o:0}]}function tD(){var e;let t=(0,tp.useStripe)(),n=(0,tp.useElements)(),o=tS(),[r,l]=(0,m.useState)(null),[i,s]=(0,m.useState)(!1),[a,c]=(0,m.useState)(!1),{selectedOrderBumps:p,couponCode:h,selectedPaymentOption:x,recaptchaRef:f,selectedQuantity:g,setSelectedShipping:b,selectedShipping:y,selectedBilling:w,pwywPrice:j}=F(),{format:C,referrer:N,visitorToken:k,affiliateToken:S,checkoutApiUrl:A}=P(),{data:O,isPending:E}=D(),{requireShippingAddress:B}=eQ(),{data:q,refetch:_}=eK(!B),M=eZ(p,null!==(e=null==O?void 0:O.orderBumps)&&void 0!==e?e:[]),R=eG(null==O?void 0:O.marketplace,x,M);async function L(e,t){var n,r,l;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=tT(null!==(r=null==O?void 0:null===(n=O.product)||void 0===n?void 0:n.id)&&void 0!==r?r:0,e,N,t,C,null,p,[],h,x.id,null!==(l=x.bundledProducts)&&void 0!==l?l:[],d.Stripe,i,k,g,S,j);o.enabled&&o.fireAddPaymentInfo(t.email);let a=await v.Z.post("".concat(A,"/purchase"),s,{withCredentials:!0});await eO(C,a.data.redirect)}let V=async e=>{var o,r,i,a,d,c,u,m,p,v,h,g,b,y,w,j,C,N,P,k,I,S,A,E,F,B,q,D,_,R,V,H,U,z,Z,W,G,Q,Y,K,X,J,$,ee,et,en,eo;if(!t||!n)return;l(null),s(!0);let er={elements:n,params:{billing_details:{name:null!==(r=null===(o=e.billingDetails)||void 0===o?void 0:o.name)&&void 0!==r?r:"John Doe"}}},{paymentMethod:el,error:ei}=await t.createPaymentMethod(er);if(ei){(0,T.Z)("createPaymentMethod",ei),s(!1),l(ei);return}try{let{firstName:t,lastName:n}=e4(null!==(H=null===(i=e.billingDetails)||void 0===i?void 0:i.name)&&void 0!==H?H:""),o=await tB(null==O?void 0:null===(a=O.marketplace)||void 0===a?void 0:a.recaptchaSiteKey,f),r=!ez(x,M)&&eW(x,M)?{line1:null!==(U=null===(c=e.billingDetails)||void 0===c?void 0:null===(d=c.address)||void 0===d?void 0:d.line1)&&void 0!==U?U:"",line2:null!==(z=null===(m=e.billingDetails)||void 0===m?void 0:null===(u=m.address)||void 0===u?void 0:u.line2)&&void 0!==z?z:"",city:null!==(Z=null===(v=e.billingDetails)||void 0===v?void 0:null===(p=v.address)||void 0===p?void 0:p.city)&&void 0!==Z?Z:"",state:null!==(W=null===(g=e.billingDetails)||void 0===g?void 0:null===(h=g.address)||void 0===h?void 0:h.state)&&void 0!==W?W:"",postalCode:null!==(G=null===(y=e.billingDetails)||void 0===y?void 0:null===(b=y.address)||void 0===b?void 0:b.postal_code)&&void 0!==G?G:"",country:null!==(Q=null===(j=e.billingDetails)||void 0===j?void 0:null===(w=j.address)||void 0===w?void 0:w.country)&&void 0!==Q?Q:""}:{line1:"",line2:"",city:"",state:"",postalCode:"",country:""};await L(null==el?void 0:el.id,{email:null!==(Y=null===(C=e.billingDetails)||void 0===C?void 0:C.email)&&void 0!==Y?Y:"",fullName:null!==(K=null===(N=e.billingDetails)||void 0===N?void 0:N.name)&&void 0!==K?K:"",firstName:null!=t?t:"",lastName:null!=n?n:"",phoneNumber:null!==(X=null===(P=e.billingDetails)||void 0===P?void 0:P.phone)&&void 0!==X?X:"",billingAddress:r,shippingAddress:{line1:null!==(J=null===(I=e.shippingAddress)||void 0===I?void 0:null===(k=I.address)||void 0===k?void 0:k.line1)&&void 0!==J?J:"",line2:null!==($=null===(A=e.shippingAddress)||void 0===A?void 0:null===(S=A.address)||void 0===S?void 0:S.line2)&&void 0!==$?$:"",city:null!==(ee=null===(F=e.shippingAddress)||void 0===F?void 0:null===(E=F.address)||void 0===E?void 0:E.city)&&void 0!==ee?ee:"",state:null!==(et=null===(q=e.shippingAddress)||void 0===q?void 0:null===(B=q.address)||void 0===B?void 0:B.state)&&void 0!==et?et:"",postalCode:null!==(en=null===(_=e.shippingAddress)||void 0===_?void 0:null===(D=_.address)||void 0===D?void 0:D.postal_code)&&void 0!==en?en:"",country:null!==(eo=null===(V=e.shippingAddress)||void 0===V?void 0:null===(R=V.address)||void 0===R?void 0:R.country)&&void 0!==eo?eo:""}},o)}catch(e){s(!1),l(e)}},H=async()=>{var e,t,o,r,l,i,s,a,d,c,u,m,p;let v=await (null==n?void 0:null===(e=n.getElement(tp.AddressElement))||void 0===e?void 0:e.getValue());b({country:null!==(a=null==v?void 0:null===(t=v.value)||void 0===t?void 0:t.address.country)&&void 0!==a?a:"",state:null!==(d=null==v?void 0:null===(o=v.value)||void 0===o?void 0:o.address.state)&&void 0!==d?d:"",postalCode:null!==(c=null==v?void 0:null===(r=v.value)||void 0===r?void 0:r.address.postal_code)&&void 0!==c?c:"",line1:null!==(u=null==v?void 0:null===(l=v.value)||void 0===l?void 0:l.address.line1)&&void 0!==u?u:"",line2:null!==(m=null==v?void 0:null===(i=v.value)||void 0===i?void 0:i.address.line2)&&void 0!==m?m:"",city:null!==(p=null==v?void 0:null===(s=v.value)||void 0===s?void 0:s.address.city)&&void 0!==p?p:""})};return E?(0,u.jsx)(I.Progress,{}):(0,u.jsxs)("div",{id:"stripe-pay-element",children:[(0,u.jsx)(tp.ExpressCheckoutElement,{className:"pay-button-element",onConfirm:V,onClick:e=>{let{resolve:t}=e;R&&!B&&(null==O?void 0:O.geolocatedAddress)&&eL(w)&&(null==n||n.update({amount:null==q?void 0:q.total}));let o=tq(y.country,y.state,q);t({billingAddressRequired:!0,emailRequired:!0,phoneNumberRequired:!0,shippingAddressRequired:B,shippingRates:B?o:void 0,lineItems:tA(B,R,q)})},onReady:e=>{let{availablePaymentMethods:t}=e;c(!!t)},onShippingAddressChange:e=>{b({city:e.address.city,state:e.address.state,postalCode:e.address.postal_code,country:e.address.country}),setTimeout(()=>{_().then(t=>{let{data:o}=t;if(null==o?void 0:o.isShippingCountryRestricted){e.reject();return}null==n||n.update({amount:null==o?void 0:o.total}),setTimeout(()=>{e.resolve({shippingRates:tq(e.address.country,e.address.state,o),lineItems:tA(B,R,o)})},500)})},500)},onShippingRateChange:e=>{_().then(t=>{let{data:o}=t;null==n||n.update({amount:null==o?void 0:o.total}),e.resolve({shippingRates:tq(y.country,y.state,o),lineItems:tA(B,R,o)})})},onCancel:H,options:{layout:{overflow:"never",maxColumns:1},paymentMethods:{paypal:"never",amazonPay:"never",klarna:"never",applePay:"always",googlePay:"always",link:"auto"}}}),(0,u.jsx)(tN,{open:i}),(0,u.jsx)(tC,{open:!!r,closeModalFunc:()=>l(null),err:r}),(0,u.jsx)(tg,{visible:a})]})}var t_=n(78102),tM=n(34853),tR=n(49460);let tL=(0,m.createContext)({paymentElementOptions:h.$4,addressElementOptions:h.cm,setPaymentElementOptions:()=>null,setAddressElementOptions:()=>null});function tV(e){let{children:t,defaultPaymentElementOptions:n=h.$4,defaultAddressElementOptions:o=h.cm}=e,[r,l]=(0,m.useState)(n),[i,s]=(0,m.useState)(o),a=(0,m.useMemo)(()=>({paymentElementOptions:r,setPaymentElementOptions:l,addressElementOptions:i,setAddressElementOptions:s}),[r,l,i,s]);return(0,u.jsx)(tL.Provider,{value:a,children:t})}let tH=()=>(0,m.useContext)(tL),tU=e0.Ry().shape({email:e0.Z_().email("Invalid email address").required("Your email is required.").matches(e5,"Your email is invalid.")});async function tz(e,t,n){let o=Promise.resolve({config:{},data:{},headers:{},request:{},status:0,statusText:""});try{await tU.validate(n)}catch(e){return o}try{return await v.Z.post("prospect",{productId:e,email:n.email,phoneNumber:n.phoneNumber,firstName:n.firstName,lastName:n.lastName,sandbox:t,visitorToken:n.visitorToken,format:n.format})}catch(e){throw e instanceof Error&&(0,T.Z)("[queryProspectCapture]",e),e}}var tZ=n(24865),tW=n(17693);function tG(){var e,t,n,o,r,l,i,s,a,d,c,m,p;let{register:v,setValue:x,control:f,formState:{errors:g},getValues:b}=(0,en.Gc)(),{isUserInputAllowed:y,currentOrderRequiresPhoneNumber:w,selectedShipping:j,setSelectedShipping:C,selectedBilling:N,setSelectedBilling:P}=F(),{setEmail:k}=eU(),{data:I,isRefetching:S}=eK(),A=!!b("shippingAddress.country");b("shippingAddress.country")&&h.WV.includes(b("shippingAddress.country"))&&(A=!!b("shippingAddress.state"));let{field:O}=(0,en.bc)({control:f,name:"phoneNumber"}),E=v("email"),{requireShippingAddress:B,requireBillingAddress:T}=eQ(),q={...tW.DEFAULT_ADDRESS_LABELS,country:ex("form.address.country"),primaryStreet:ex("form.address.line1"),secondaryStreet:ex("form.address.line2"),city:ex("form.address.city"),zipCode:ex("form.address.postalCode"),postalCode:ex("form.address.postalCode"),State:ex("form.address.state"),Province:ex("form.address.province")},{data:D}=eF();return(0,u.jsxs)("div",{className:"grid gap-y-4 mt-5 leading-4 ",children:[(0,u.jsx)(eD.TextField,{className:"paypal-email -my-1 mb-0",...E,error:!!g.email,message:null==g?void 0:null===(e=g.email)||void 0===e?void 0:e.message,id:"paypal-email",placeholder:null!==(a=null==D?void 0:null===(t=D.textOverrides)||void 0===t?void 0:t.emailHintText)&&void 0!==a?a:ex("form.emailAddress"),label:null!==(d=null==D?void 0:null===(n=D.textOverrides)||void 0===n?void 0:n.emailLabel)&&void 0!==d?d:ex("form.email"),maxLength:320,autoComplete:"email",disabled:!y,onBlur:e=>{k(e.target.value),E.onBlur(e)}}),(0,u.jsx)(eD.TextField,{...v("fullName"),placeholder:null!==(c=null==D?void 0:null===(o=D.textOverrides)||void 0===o?void 0:o.fullNameHintText)&&void 0!==c?c:ex("form.firstAndLastName"),error:!!g.fullName,message:null==g?void 0:null===(r=g.fullName)||void 0===r?void 0:r.message,className:"flex-1 required sc-custom-input",id:"fullName",label:null!==(m=null==D?void 0:null===(l=D.textOverrides)||void 0===l?void 0:l.fullNameLabel)&&void 0!==m?m:ex("form.fullName"),maxLength:100,autoComplete:"name",disabled:!y}),B&&(0,u.jsxs)("div",{children:[(0,u.jsx)(en.Qr,{control:f,name:"shippingAddress",render:e=>{var t,n,o,r,l,i,s,a,d,c,m,p,v,h,f,b,y,w,N;let{field:{value:P}}=e;return(0,u.jsx)(tZ.kL,{labels:q,language:ep,variant:"labeled",fields:{primaryStreet:{value:P.line1,onChange:e=>{let{target:{value:t}}=e;x("shippingAddress",{...P,line1:t}),C({...j,line1:t})},error:!!(null===(t=g.shippingAddress)||void 0===t?void 0:t.line1),message:null===(o=g.shippingAddress)||void 0===o?void 0:null===(n=o.line1)||void 0===n?void 0:n.message},secondaryStreet:{value:null!==(N=P.line2)&&void 0!==N?N:void 0,onChange:e=>{let{target:{value:t}}=e;x("shippingAddress",{...P,line2:t}),C({...j,line2:t})},error:!!(null===(r=g.shippingAddress)||void 0===r?void 0:r.line2),message:null===(i=g.shippingAddress)||void 0===i?void 0:null===(l=i.line2)||void 0===l?void 0:l.message},city:{value:P.city,onChange:e=>{let{target:{value:t}}=e;x("shippingAddress",{...P,city:t}),C({...j,city:t})},error:!!(null===(s=g.shippingAddress)||void 0===s?void 0:s.city),message:null===(d=g.shippingAddress)||void 0===d?void 0:null===(a=d.city)||void 0===a?void 0:a.message},state:{value:P.state,onChange:e=>{let{target:{value:t}}=e;x("shippingAddress",{...P,state:t}),C({...j,state:t})},error:!!(null===(c=g.shippingAddress)||void 0===c?void 0:c.state),message:null===(p=g.shippingAddress)||void 0===p?void 0:null===(m=p.state)||void 0===m?void 0:m.message},zip:{value:P.postalCode,onChange:e=>{let{target:{value:t}}=e;x("shippingAddress",{...P,postalCode:t}),C({...j,postalCode:t})},error:!!(null===(v=g.shippingAddress)||void 0===v?void 0:v.postalCode),message:null===(f=g.shippingAddress)||void 0===f?void 0:null===(h=f.postalCode)||void 0===h?void 0:h.message},country:{value:P.country,onChange:e=>{let{target:{value:t}}=e;x("shippingAddress",{...P,country:t}),C({...j,country:t})},error:!!(null===(b=g.shippingAddress)||void 0===b?void 0:b.country),message:null===(w=g.shippingAddress)||void 0===w?void 0:null===(y=w.country)||void 0===y?void 0:y.message}}})}}),(null==I?void 0:I.isShippingCountryRestricted)&&!S&&A&&(0,u.jsx)(t_.Alert,{content:"Unfortunately, we cannot ship to your location at this time. Please update your shipping address and try again.",type:"error",className:"mt-4"})]}),T&&!B&&(0,u.jsx)("div",{children:(0,u.jsx)(en.Qr,{control:f,name:"billingAddress",render:e=>{var t,n,o,r,l,i,s,a,d,c,m,p,v,h,f,b,y,w,j;let{field:{value:C}}=e;return(0,u.jsx)(tZ.kL,{labels:q,language:ep,variant:"labeled",fields:{primaryStreet:{value:C.line1,onChange:e=>{let{target:{value:t}}=e;x("billingAddress",{...C,line1:t}),P({...N,line1:t})},error:!!(null===(t=g.billingAddress)||void 0===t?void 0:t.line1),message:null===(o=g.billingAddress)||void 0===o?void 0:null===(n=o.line1)||void 0===n?void 0:n.message},secondaryStreet:{value:null!==(j=C.line2)&&void 0!==j?j:void 0,onChange:e=>{let{target:{value:t}}=e;x("billingAddress",{...C,line2:t}),P({...N,line2:t})},error:!!(null===(r=g.billingAddress)||void 0===r?void 0:r.line2),message:null===(i=g.billingAddress)||void 0===i?void 0:null===(l=i.line2)||void 0===l?void 0:l.message},city:{value:C.city,onChange:e=>{let{target:{value:t}}=e;x("billingAddress",{...C,city:t}),P({...N,city:t})},error:!!(null===(s=g.billingAddress)||void 0===s?void 0:s.city),message:null===(d=g.billingAddress)||void 0===d?void 0:null===(a=d.city)||void 0===a?void 0:a.message},state:{value:C.state,onChange:e=>{let{target:{value:t}}=e;x("billingAddress",{...C,state:t}),P({...N,state:t})},error:!!(null===(c=g.billingAddress)||void 0===c?void 0:c.state),message:null===(p=g.billingAddress)||void 0===p?void 0:null===(m=p.state)||void 0===m?void 0:m.message},zip:{value:C.postalCode,onChange:e=>{let{target:{value:t}}=e;x("billingAddress",{...C,postalCode:t}),P({...N,postalCode:t})},error:!!(null===(v=g.billingAddress)||void 0===v?void 0:v.postalCode),message:null===(f=g.billingAddress)||void 0===f?void 0:null===(h=f.postalCode)||void 0===h?void 0:h.message},country:{value:C.country,onChange:e=>{let{target:{value:t}}=e;x("billingAddress",{...C,country:t}),P({...N,country:t})},error:!!(null===(b=g.billingAddress)||void 0===b?void 0:b.country),message:null===(w=g.billingAddress)||void 0===w?void 0:null===(y=w.country)||void 0===y?void 0:y.message}}})}})}),w&&(0,u.jsx)(e1.g8,{...v("phoneNumber"),onChange:e=>x("phoneNumber",e||""),className:"sc-custom-input",error:!!g.phoneNumber,message:null==g?void 0:null===(i=g.phoneNumber)||void 0===i?void 0:i.message,id:"phoneNumber",label:null!==(p=null==D?void 0:null===(s=D.textOverrides)||void 0===s?void 0:s.phoneNumberLabel)&&void 0!==p?p:ex("form.phoneNumber"),disabled:!y,value:O.value})]})}function tQ(){var e,t,n,o,r,l,i,s;let a=(0,tp.useElements)(),[d,c]=(0,m.useState)(1),{data:p,isRefetching:v}=eK(),{data:x}=eF(),{register:f,setValue:g,getValues:b,control:y,formState:{errors:w}}=(0,en.Gc)(),{field:j}=(0,en.bc)({control:y,name:"phoneNumber"}),{isUserInputAllowed:C,selectedOrderBumps:N,selectedPaymentOption:P,currentOrderRequiresPhoneNumber:k,setSelectedShipping:I,setSelectedBilling:S}=F(),{setEmail:A}=eU(),{requireShippingAddress:O,requireBillingAddress:E}=eQ(),B=O||E,{setAddressElementOptions:T,setPaymentElementOptions:q,addressElementOptions:D}=tH(),_=(0,m.useCallback)(e=>{let{mode:t}=e;return O&&"billing"===t?t="shipping":!O&&E&&"shipping"===t&&(t="billing"),t},[E,O]);function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"shippingAddress",{name:n,phone:o,address:r}=e.value,l={...r,postalCode:r.postal_code};g("fullName",n),g(t,l),"shippingAddress"===t?I(l):S(l),k&&g("phoneNumber",null!=o?o:"")}(0,m.useEffect)(()=>{let{shippingAddress:e,billingAddress:t,fullName:n,phoneNumber:o}=b(),r=e;eL(e)&&!eL(t)&&(r=t),c(e=>e+1);let{firstName:l,lastName:i}=e4(n,"");k?T(e=>({...e,defaultValues:{...e.defaultValues,firstName:l,lastName:i,phone:o,address:r},fields:{phone:"always"},validation:{phone:{required:"always"}},mode:_(e)})):T(e=>({...e,defaultValues:{...e.defaultValues,firstName:l,lastName:i,phone:null,address:r},fields:{phone:"never"},validation:void 0,mode:_(e)}))},[a,b,P,N,k,T,O,E,_]);let R=!!b("shippingAddress.country");b("shippingAddress.country")&&h.WV.includes(b("shippingAddress.country"))&&(R=!!b("shippingAddress.state"));let L=e=>{g("email",e)},V=()=>{let{phoneNumber:e}=b();q(t=>{var n;return{...t,defaultValues:{...t.defaultValues,billingDetails:{...null===(n=t.defaultValues)||void 0===n?void 0:n.billingDetails,phone:e}}}})},H=()=>{let{email:e}=b();A(e),q(t=>{var n;return{...t,defaultValues:{billingDetails:{...null===(n=t.defaultValues)||void 0===n?void 0:n.billingDetails,email:e}}}})},U=e=>{g("phoneNumber",e),q(t=>{var n;return{...t,defaultValues:{...t.defaultValues,billingDetails:{...null===(n=t.defaultValues)||void 0===n?void 0:n.billingDetails,phone:e}}}})},z=e=>{q(t=>{var n;return{...t,defaultValues:{billingDetails:{...null===(n=t.defaultValues)||void 0===n?void 0:n.billingDetails,name:e}}}})};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"w-full my-4",children:(0,u.jsx)(tp.LinkAuthenticationElement,{...f("email"),onChange:e=>L(e.value.email),onBlur:()=>H(),id:"stripe-email"})}),!B&&(0,u.jsx)("div",{className:"flex mb-4",children:(0,u.jsx)(eD.TextField,{...f("fullName"),placeholder:null!==(l=null==x?void 0:null===(e=x.textOverrides)||void 0===e?void 0:e.fullNameHintText)&&void 0!==l?l:ex("form.firstAndLastName"),error:!!w.fullName,message:null==w?void 0:null===(t=w.fullName)||void 0===t?void 0:t.message,className:"flex-1 required sc-custom-input",id:"fullName",label:null!==(i=null==x?void 0:null===(n=x.textOverrides)||void 0===n?void 0:n.fullNameLabel)&&void 0!==i?i:ex("form.fullName"),maxLength:100,autoComplete:"name",onBlur:e=>z(e.target.value||""),disabled:!C})}),k&&!B&&(0,u.jsx)("div",{className:"flex mb-4",children:(0,u.jsx)(e1.g8,{...f("phoneNumber"),onChange:e=>U(null!=e?e:""),className:"sc-custom-input",error:!!w.phoneNumber,message:null==w?void 0:null===(o=w.phoneNumber)||void 0===o?void 0:o.message,id:"phoneNumber",label:null!==(s=null==x?void 0:null===(r=x.textOverrides)||void 0===r?void 0:r.phoneNumberLabel)&&void 0!==s?s:ex("form.phoneNumber"),disabled:!C,value:j.value})}),O&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tp.AddressElement,{onChange:e=>{M(e,"shippingAddress")},onBlur:()=>V(),id:"addressElement",options:D},d),(null==p?void 0:p.isShippingCountryRestricted)&&!v&&R&&(0,u.jsx)(t_.Alert,{content:"Unfortunately, we cannot ship to your location at this time. Please update your shipping address and try again.",type:"error",className:"mt-4"})]}),E&&!O&&(0,u.jsx)(tp.AddressElement,{onChange:e=>{M(e,"billingAddress")},onBlur:()=>V(),id:"addressElement",options:D},d)]})}function tY(e){let{formMode:t}=e;return"stripe"===t?(0,u.jsx)(tQ,{}):(0,u.jsx)(tG,{})}var tK=n(88561);function tX(e){let{formMode:t,setFormMode:n}=e,{selectedPaymentOption:o,selectedOrderBumps:r}=F(),{data:l}=D(),i=eZ(r,(null==l?void 0:l.orderBumps)||[]),s=function(e){var t,n;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(!(null==e?void 0:e.merchantId)||(null==o?void 0:o.allowPayPal)===!1||r.some(e=>!e.allowPayPal)||(null==o?void 0:null===(t=o.bundledProducts)||void 0===t?void 0:t.some(e=>!e.allowPayPal)))return!1;let l=null==e?void 0:e.referenceTransactions;return!((null==o?void 0:o.subscription)||r.some(e=>e.subscription)||(null==o?void 0:null===(n=o.bundledProducts)||void 0===n?void 0:n.some(e=>e.subscription)))||l}(null==l?void 0:l.payPalSetupInfo,o,i);(0,m.useEffect)(()=>{s||"paypal"!==t||n("stripe")},[s,t,n]);let{paymentElementOptions:a}=tH(),{setPaymentElementReady:d,paymentElementReady:c}=F();switch(t){case"stripe":return(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)(tp.PaymentElement,{className:"payment-element",id:"paymentElement",options:a,onReady:()=>d(!0)}),s&&(0,u.jsx)("div",{className:"w-full mt-1 mb-1 text-sm rounded-lg bg-white transition-height h-auto}",children:(0,u.jsxs)("button",{type:"button",className:(0,A.classNames)("flex flex-row items-center w-full h-12 p-4 outline-none rounded-lg bg-white cursor-pointer text-xs sc-custom-content-font sc-custom-processor-type-button border border-solid border-[#DEE3E7]",c?"":"hidden"),onClick:()=>n("paypal"),children:[(0,u.jsx)(tK.vs,{className:"payment-element-icon"}),(0,u.jsx)("p",{children:"PayPal"})]})})]});case"paypal":return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)(tp.PaymentElement,{className:"payment-element hidden",id:"paymentElement",options:a,onReady:()=>d(!0)}),(0,u.jsxs)("button",{type:"button",className:"flex flex-row items-center w-full h-12 mb-1 p-4 text-xs border border-solid border-[#DEE3E7] sc-custom-processor-type-button rounded-lg bg-white cursor-pointer sc-custom-content-font outline-none",onClick:()=>n("stripe"),children:[(0,u.jsx)(eq.CreditCard,{className:"payment-element-icon",titleAccess:"Card & More"}),(0,u.jsx)("p",{children:"Card & More"})]})]}),(0,u.jsx)("div",{className:"mb-4",children:(0,u.jsxs)("div",{className:"w-full mt-1 mb-1 text-sm rounded-lg bg-white transition-height h-auto border border-solid sc-paypal-card",children:[(0,u.jsxs)("button",{type:"button",className:(0,A.classNames)("flex flex-row items-center w-full h-12 p-4 outline-none rounded-lg bg-white cursor-pointer text-xs sc-custom-content-font sc-custom-processor-type-button border-none",c?"":"hidden"),onClick:()=>n("paypal"),children:[(0,u.jsx)(tK.vs,{className:"payment-element-icon"}),(0,u.jsx)("p",{className:"text-light-primary-main",children:"PayPal"})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2 items-start p-4 m-4 mt-0 text-[#5A7386] border border-solid border-[#DEE3E7] rounded-lg",children:[(0,u.jsx)(eq.PaymentIcon,{variant:"classic",name:"PayPal",size:"M"}),"PayPal selected.",(0,u.jsxs)("div",{className:"flex flex-row items-start gap-4 border-solid border-0 border-t border-[#DEE3E7] pt-2",children:[(0,u.jsx)(eq.ExternalLink,{titleAccess:""}),(0,u.jsx)("p",{className:"m-0 text-sm sc-custom-content-font",children:"Hit the PayPal button below to sign into PayPal and confirm your payment."})]})]})]})})]});default:return(0,u.jsx)("div",{})}}function tJ(e){let{disabled:t,submitHandler:n}=e,{register:o,setValue:r}=(0,en.Gc)();return(0,u.jsxs)(u.Fragment,{children:[!t&&(0,u.jsx)("button",{...o("processorType"),onClick:async()=>{r("processorType",d.PayPal),await n()},"aria-label":ex("form.button.payWithPayPal"),className:"paypal-button border-none",type:"button",disabled:t,children:(0,u.jsx)(tK.vU,{className:"h-[26px]"})}),t&&(0,u.jsx)(e_.Button,{className:"paypal-button border-none w-full text-lg leading-6 font-semibold",type:"button",disabled:t,label:"".concat(ex("form.button.processing"),"..."),endLoadingIndicator:!0})]})}var t$=n(4298),t0=n.n(t$);let t1=e=>{var t;if(!e)throw new tw("Failed to complete PayPal purchase, please try again or use another payment method.");window.scPayPal.hasPopupOpened=!1,null===(t=window.scPayPal.observer)||void 0===t||t.observe(document.documentElement||document.body,{childList:!0,subtree:!0}),paypal.checkout.initXO(),paypal.checkout.startFlow(paypal.checkout.urlPrefix+e),eS(a.PayPal)};function t2(){let{data:e}=D();return(null==e?void 0:e.payPalSetupInfo)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(t0(),{id:"paypal-checkout-script",src:"//www.paypalobjects.com/api/checkout.js"}),(0,u.jsx)(t0(),{id:"paypal-checkout-ready",dangerouslySetInnerHTML:{__html:"\n            window.paypalCheckoutReady = function () {\n              paypal.checkout.setup('".concat(null==e?void 0:e.payPalSetupInfo.merchantId,"', {\n                environment : '").concat((null==e?void 0:e.payPalSetupInfo.sandboxMode)?"sandbox":"production","',\n                button: []\n              });\n            }\n          ")}}),(0,u.jsx)(t0(),{id:"paypal-checkout-observer",dangerouslySetInnerHTML:{__html:"\n            window.scPayPal = window.scPayPal || {\n              isPopupOpen: false,\n              hasPopupOpened: false,\n              observer: null,\n            };\n\n            window.scPayPal.observer = new MutationObserver(() => {\n                window.scPayPal.isPopupOpen = document.getElementsByClassName('paypal-checkout-sandbox').length > 0;\n                window.scPayPal.hasPopupOpened = window.scPayPal.hasPopupOpened || window.scPayPal.isPopupOpen;\n\n                if (window.scPayPal.hasPopupOpened && !window.scPayPal.isPopupOpen) {\n                  window.scPayPal.observer.disconnect();\n                  // If you close the PayPal popup before it finishes loading, it will often not call the paypal cancel\n                  // action. Thankfully, for us, that action just reloads the sales page / ca page the user was on.\n                  // Waiting two seconds for the situations where the paypal cancel action is called.\n                  setTimeout(() => {window.location.reload(true);}, 2000);\n                }\n            });\n          "}})]}):(0,u.jsx)(u.Fragment,{children:" "})}function t4(e){var t;let{formMode:n,submitHandler:o}=e,{data:r,isPending:l}=eK(),{isUserInputAllowed:i,currency:s,paymentElementReady:a,selectedPaymentOption:c}=F(),m="";!l&&r&&(m=eu(r.total,s));let{data:p}=D(),{outOfStock:v}=c,h=function(e,t){var n;let o=c.subscription;return!a||l?"":v?c.outOfStockDisclaimer||ex("form.button.outOfStock"):t?"".concat(ex("form.button.processing"),"..."):(null==p?void 0:null===(n=p.brandingProperties)||void 0===n?void 0:n.checkoutButtonText)?p.brandingProperties.checkoutButtonText:o?o.trialPeriod>0&&e===eu(0,s)?ex("form.button.startMyFreeTrial"):"".concat(ex("form.button.subscribeFor")," ").concat(e):"".concat(ex("form.button.pay")," ").concat(e)}(m,!i),x=null==p?void 0:null===(t=p.brandingProperties)||void 0===t?void 0:t.buttonColor,{register:f,setValue:g}=(0,en.Gc)(),b=(0,tp.useStripe)(),y=(0,tp.useElements)();switch(n){case"stripe":return(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)(e_.Button,{...f("processorType"),onClick:async()=>{g("processorType",d.Stripe),await o()},className:v?"w-full text-lg leading-6 font-semibold ":"w-full text-lg leading-6 font-semibold disabled:bg-light-primary-main disabled:text-white ".concat(x&&"sc-custom-branded-button"),disabled:l||!b||!y||!i||v,label:h,endLoadingIndicator:l||!i})});case"paypal":return(0,u.jsxs)("div",{className:"flex justify-center",children:[(0,u.jsx)(tJ,{disabled:l||!i||!!v,submitHandler:o}),(0,u.jsx)(t2,{})]});default:return(0,u.jsx)("div",{})}}async function t5(e,t,n,o,r,l,i,s,c,u,m,p,h,x,f,g,b,y,w){let j=window.location.href;s&&(j=s);let C=[];p.forEach((e,t)=>{C.push({slug:t,value:e})});let N=h;r||(N="");let P=tT(o,null!=w?w:"",j,e,i,t,m,C,N,x,f,n,l,c,g,y,b),k=await v.Z.post("".concat(u,"/purchase"),P,{withCredentials:!0});if(n===d.PayPal){var I,S;if(!(null===(I=k.data)||void 0===I?void 0:I.payPalToken))throw new tw("Failed to complete PayPal purchase, please try again or use another payment method.");window.scPayPal.hasPopupOpened=!1,null===(S=window.scPayPal.observer)||void 0===S||S.observe(document.documentElement||document.body,{childList:!0,subtree:!0}),paypal.checkout.initXO(),paypal.checkout.startFlow(paypal.checkout.urlPrefix+k.data.payPalToken),eS(a.PayPal);return}if(!k.data.redirect)throw new tw("Purchase was completed successfully, but no order summary is available. Please check your email.");await eO(i,k.data.redirect)}function t3(e){let{href:t}=e;return(0,u.jsxs)("div",{className:"flex justify-center mt-2",children:[(0,u.jsx)(eq.CheckSquare,{size:16,className:"mr-1 sc-custom-terms-conditions",titleAccess:""}),(0,u.jsxs)(S.Paragraph,{className:"sc-custom-terms-conditions text-sm",children:[ex("form.terms.byClickingAbove")," ",(0,u.jsxs)(ea.r,{href:t,target:"_blank",rel:"noreferrer",className:"sc-custom-branded-text",children:[ex("form.terms.termsAndConditions"),"."]})]})]})}function t6(){var e,t,n,o,r;let l=(0,tp.useStripe)(),i=(0,tp.useElements)(),{fireAddPaymentInfo:s}=tS(),[c,p]=(0,m.useState)(null),[x,f]=(0,m.useState)(!1),{setUserInputAllowed:g,customResponses:b,selectedPaymentOption:y,recaptchaRef:w,currentOrderRequiresPhoneNumber:j,setCurrentOrderRequiresPhoneNumber:C,currency:N}=F(),{setPaymentElementOptions:k}=tH(),{format:A,referrer:O,visitorToken:E,affiliateToken:q,checkoutApiUrl:_}=P(),[M,R]=(0,m.useState)([]),{isPending:L,data:V}=D(),{data:H}=eF();(0,m.useEffect)(()=>{!L&&V&&(V.digitalWalletsEnabled&&V.customFields.length&&k({...h.$4,wallets:{applePay:"auto",googlePay:"auto"}}),R(V.customFields))},[L,V,k]);let[U,z]=(0,m.useState)("stripe");(0,m.useEffect)(()=>{C(y.showPhoneNumberField)},[y,C]);let{getValues:Z,setError:W,formState:{isSubmitting:G,isSubmitSuccessful:Q},handleSubmit:Y}=(0,en.Gc)(),[K,X]=(0,m.useState)(!1),{requireBillingAddress:J,requireShippingAddress:$}=eQ();function ee(e){if(!i)return;let t=i.getElement(tp.PaymentElement);t&&t.update({readOnly:!e})}function et(){if(G){g(!1),ee(!1);return}if(!Q){g(!0),ee(!0);return}if(x){g(!1),ee(!1);return}if(K){g(!0),ee(!0);return}g(!1),ee(!1)}et();let eo=function(){let{fullName:e,phoneNumber:t,email:n}=Z(),{firstName:o,lastName:r}=e4(e,"");return{firstName:o,lastName:r,phoneNumber:t,email:n,visitorToken:E,format:A}}();!function(e){var t;let{data:n,isPending:o}=D(),r=null===(t=null==n?void 0:n.product.sandboxMode)||void 0===t||t,l=(null==n?void 0:n.product.id)||0;(0,B.a)({queryKey:["prospectCapture",l,r,e],queryFn:()=>tz(l,r,e),staleTime:1/0,gcTime:1/0,enabled:!o})}(JSON.parse((0,tR.nj)(JSON.stringify(eo),750)[0]));let er=F(),el=eK().data;async function ei(e,t,n,o){var r,l,i,s;let{firstName:a,lastName:d}=e4(e.fullName),c=await tB(null==V?void 0:null===(r=V.marketplace)||void 0===r?void 0:r.recaptchaSiteKey,w);if(er.couponCode&&!el.hasValidCoupon){X(!0);let e=document.querySelector("#order-summary-header");e&&e.scrollIntoView({behavior:"smooth"});return}let u={line1:"",line2:"",city:"",state:"",postalCode:"",country:""},m=$?e.shippingAddress:u,p=J&&n||u;await t5({email:e.email,fullName:e.fullName,firstName:a,lastName:d,phoneNumber:null!==(l=e.phoneNumber)&&void 0!==l?l:"",billingAddress:p,shippingAddress:m},t,e.processorType,null!==(i=null==V?void 0:V.product.id)&&void 0!==i?i:0,el.hasValidCoupon,c,A,O,E,_,er.selectedOrderBumps,er.customResponses,er.couponCode,er.selectedPaymentOption.id,null!==(s=er.selectedPaymentOption.bundledProducts)&&void 0!==s?s:[],er.selectedQuantity,er.pwywPrice,q,o)}async function ea(e,t,n,o){if(!l||!i)return;f(!0),et(),eS(a.StripeExtraPaymentAction);let{paymentIntent:r,error:d}=await l.handleCardAction(t);if(d)p(tb),X(!0),f(!1),et();else try{s(e.email),await ei(e,null==r?void 0:r.id,n,o)}catch(e){p(ty),X(!0),f(!1),et()}}async function ed(e,t,n,o){var r,l,i,s,a,d,c,u,m,h,x,f,g,b;if(e instanceof Error&&v.Z.isAxiosError(e)&&null!==(l=e.response)&&void 0!==l&&null!==(r=l.data)&&void 0!==r&&r.paymentError&&((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:null===(i=s.data)||void 0===i?void 0:i.error_message)==="SCA required."||(null===(u=e.response)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:null===(d=c.data)||void 0===d?void 0:d.error_message)==="Redirect required.")){let r=v.Z.isAxiosError(e)&&(null===(x=e.response)||void 0===x?void 0:null===(h=x.data)||void 0===h?void 0:null===(m=h.data)||void 0===m?void 0:m.client_secret)?null===(b=e.response)||void 0===b?void 0:null===(g=b.data)||void 0===g?void 0:null===(f=g.data)||void 0===f?void 0:f.client_secret:"";await ea(t,r,n,o)}else p(tj(e)),X(!0),et(),(0,T.Z)("purchaseError",e)}let ec=()=>{let e=!0,t=Z(),n=e6(e3,M);return y.isPWYW&&(n=e8(n,y.priceInCents,N)),j&&(e=(()=>{try{return n.validateSyncAt("phoneNumber",{phoneNumber:t.phoneNumber}),!0}catch(e){if(e instanceof e0.p8)W("phoneNumber",{type:"custom",message:e.message});else throw p(ty),e;return!1}})()&&e),"stripe"===U&&$||(e=(()=>{try{return n.validateSyncAt("fullName",{fullName:t.fullName}),!0}catch(e){if(e instanceof e0.p8)W("fullName",{type:"custom",message:e.message});else throw p(ty),e;return!1}})()&&e),"stripe"!==U&&($&&(e=(()=>{try{var e,o,r,l,i,s,a,d,c,u,m,v;return n.validateSyncAt("shippingAddress",{shippingAddress:{line1:null!==(a=null===(e=t.shippingAddress)||void 0===e?void 0:e.line1)&&void 0!==a?a:"",line2:null!==(d=null===(o=t.shippingAddress)||void 0===o?void 0:o.line2)&&void 0!==d?d:"",city:null!==(c=null===(r=t.shippingAddress)||void 0===r?void 0:r.city)&&void 0!==c?c:"",state:null!==(u=null===(l=t.shippingAddress)||void 0===l?void 0:l.state)&&void 0!==u?u:"",postalCode:null!==(m=null===(i=t.shippingAddress)||void 0===i?void 0:i.postalCode)&&void 0!==m?m:"",country:null!==(v=null===(s=t.shippingAddress)||void 0===s?void 0:s.country)&&void 0!==v?v:""}},{abortEarly:!1}),!0}catch(e){if(e instanceof e0.p8)e.inner.forEach(e=>{let{message:t,path:n}=e;return W(n,{type:"custom",message:t})});else throw p(ty),e;return!1}})()&&e),e=(()=>{try{return n.validateSyncAt("email",{email:t.email}),!0}catch(e){if(e instanceof e0.p8)W("email",{type:"custom",message:e.message});else throw p(ty),e;return!1}})()&&e),e6(e3,M),M.forEach(t=>{if(t.isRequired)try{var o;n.validateSyncAt(t.slug,{[t.slug]:null!==(o=b.get(t.slug))&&void 0!==o?o:""})}catch(n){if(e=!1,n instanceof e0.p8)W("customResponses.".concat(t.slug),{type:"custom",message:n.message});else throw p(ty),n}}),e=e&&e,y.isPWYW&&(e=(()=>{try{return n.validateSyncAt("pwyw",{pwyw:t.pwyw}),!0}catch(e){if(e instanceof e0.p8)W("pwyw",{type:"custom",message:e.message});else throw p(ty),e;return!1}})()&&e),e};async function eu(e){if(ec())try{s(e.email),await ei(e,null,e.billingAddress)}catch(t){await ed(t,e)}else ee(!0),X(!0),et()}async function em(e){let t=ec();if(!l||!i||!i.getElement(tp.PaymentElement))return;let{paymentMethod:n,error:o}=await l.createPaymentMethod({elements:i,params:{billing_details:{name:e.fullName,email:e.email,phone:e.phoneNumber}}});if(!t||o)ee(!0),o&&(0,T.Z)("createPaymentMethod",o),X(!0),et();else{var r,a,d,c,u,m,p,v,h,x,f,g;let t={line1:null!==(p=null==n?void 0:null===(r=n.billing_details.address)||void 0===r?void 0:r.line1)&&void 0!==p?p:"",line2:null!==(v=null==n?void 0:null===(a=n.billing_details.address)||void 0===a?void 0:a.line2)&&void 0!==v?v:"",city:null!==(h=null==n?void 0:null===(d=n.billing_details.address)||void 0===d?void 0:d.city)&&void 0!==h?h:"",state:null!==(x=null==n?void 0:null===(c=n.billing_details.address)||void 0===c?void 0:c.state)&&void 0!==x?x:"",postalCode:null!==(f=null==n?void 0:null===(u=n.billing_details.address)||void 0===u?void 0:u.postal_code)&&void 0!==f?f:"",country:null!==(g=null==n?void 0:null===(m=n.billing_details.address)||void 0===m?void 0:m.country)&&void 0!==g?g:""};try{s(e.email),await ei(e,null,t,n.id)}catch(o){await ed(o,e,t,n.id)}}}let ep=Y(async e=>{X(!1),p(null),f(!1),et(),ee(!1),e.processorType===d.PayPal?await eu(e):await em(e)});return L?(0,u.jsx)(I.Progress,{}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(tY,{formMode:U}),(0,u.jsx)(S.Heading6,{className:"mt-6 mb-4 font-normal tp-custom-header-font",children:null!==(r=null==H?void 0:null===(e=H.textOverrides)||void 0===e?void 0:e.paymentHeader)&&void 0!==r?r:ex("form.paymentMethod")}),(0,u.jsx)(tX,{formMode:U,setFormMode:z}),(0,u.jsx)(es.x,{className:"sc-custom-divider m-4"}),(0,u.jsx)(t4,{formMode:U,submitHandler:ep}),(null==V?void 0:null===(t=V.product)||void 0===t?void 0:t.termsConditionsUrl)&&(0,u.jsx)(t3,{href:V.product.termsConditionsUrl}),(null==V?void 0:null===(n=V.marketplace)||void 0===n?void 0:n.recaptchaSiteKey)&&(0,u.jsx)(tM.Z,{ref:w,size:"invisible",sitekey:null==V?void 0:null===(o=V.marketplace)||void 0===o?void 0:o.recaptchaSiteKey,"data-testid":"recaptcha"}),c&&(0,u.jsx)(t_.Alert,{className:"mt-4",type:"error",content:c})]})}function t8(e,t,n,o,r){let l=0===n,i={...t};return i.mode="payment",i.amount=n,i.currency=o,i.payment_method_configuration=e?r.subscriptionPaymentMethodConfiguration:r.paymentMethodConfiguration,l&&(i.mode="setup",i.amount=void 0,i.currency=void 0),""===i.payment_method_configuration&&e&&(i.paymentMethodTypes=["card"]),i.locale=ep,i}let t7=e=>"stripe-data/".concat(e);async function t9(e){let t=t7(e);try{return(await v.Z.get(t)).data}catch(e){throw e instanceof Error&&(0,T.Z)("[getStripeData]",e),e}}function ne(){let{data:e,isPending:t}=D(),n=(null==e?void 0:e.product.id)||0;return(0,B.a)({queryKey:["stripe-data",n],queryFn:()=>t9(n),staleTime:1/0,gcTime:1/0,enabled:!t})}function nt(e){var t,n;let{originalOptions:o}=e,r=(0,tp.useElements)(),{selectedOrderBumps:l,currency:i}=F(),{data:s,isPending:a}=D(),{data:d}=eF(),c=!1;!a&&s&&s.orderBumps.filter(e=>l.includes(e.productId)).forEach(e=>{e.subscription&&(c=!0)});let{upMd:p}=(0,ei.useScreenWidth)(),{data:v,isLoading:x}=eK(),{data:f,isLoading:g}=ne(),{selectedPaymentOption:b}=F(),y=!!(null==s?void 0:s.digitalWalletsEnabled)&&(null==s?void 0:s.customFields.length)===0&&!(null==s?void 0:s.product.outOfStock);(0,m.useEffect)(()=>{if(!v||!f||!r||x||g)return;let e=v.total,t=t8(!!b.subscription||c,o,e,i.toLowerCase(),f);r.update(t)},[i,r,c,o,v,b.subscription,f,x,g]);let w=ex("form.contactInfo"),{requireShippingAddress:j}=eQ();return j&&(w=ex("form.shippingInfo")),(0,u.jsxs)(u.Fragment,{children:[p&&(0,u.jsx)(ta,{}),(0,u.jsx)(S.Heading6,{className:"mb-4 font-normal tp-custom-header-font",children:null!==(n=null==d?void 0:null===(t=d.textOverrides)||void 0===t?void 0:t.infoHeader)&&void 0!==n?n:w}),y&&(0,u.jsx)(tD,{}),(0,u.jsx)(tV,{defaultPaymentElementOptions:h.$4,defaultAddressElementOptions:h.cm,children:(0,u.jsx)(t6,{})})]})}function nn(){var e;let{data:t,isError:n,isPending:o}=ne(),[r,l]=(0,m.useState)(!0),{currency:i}=F(),[s,a]=(0,m.useState)(),{data:d,isPending:c}=D();(0,m.useEffect)(()=>{!c&&d&&a(d.brandingProperties)},[s,c,d]);let[p,v]=(0,m.useState)(),{selectedPaymentOption:h}=F();if((0,m.useEffect)(()=>{if(!t)return;let e=[];(null==s?void 0:s.contentFontFamily)&&e.push({cssSrc:"https://fonts.googleapis.com/css?family=".concat(encodeURI(s.contentFontFamily))});let n={appearance:tf(s),paymentMethodTypes:[],fonts:e};v(n=t8(!!h.subscription,n,(null==d?void 0:d.product.priceInCents)||0,i.toLowerCase(),t))},[s,null==d?void 0:d.product.priceInCents,i,h.subscription,t]),o)return(0,u.jsx)("div",{className:"flex flex-col items-center",children:(0,u.jsx)(I.Progress,{type:"circular",color:"primary"})});if(n||!t)return(0,u.jsx)(th.L9,{type:"error",open:r,onClose:()=>l(!1),message:"There was a problem processing your request",closeLabel:"Dismiss alert and try again",dismissible:!0});if(!p)return(0,u.jsx)("div",{className:"flex flex-col items-center",children:(0,u.jsx)(I.Progress,{type:"circular",color:"primary"})});let x=(0,tv.J)(null!==(e=null==t?void 0:t.platformPublishableKey)&&void 0!==e?e:"",{stripeAccount:t.marketplaceStripeAccountID,betas:["pay_button_element_beta_1","elements_enable_deferred_intent_beta_1","express_checkout_element_beta_1"]});return(0,u.jsx)("div",{children:(0,u.jsx)(tp.Elements,{stripe:x,options:p,children:(0,u.jsx)(nt,{originalOptions:p})})})}function no(){var e;let{data:t,isPending:n}=D(),{format:o}=P(),r=(0,en.cI)({defaultValues:{email:"",fullName:"",phoneNumber:"",customResponses:{},processorType:d.Stripe,pwyw:"",shippingAddress:{line1:"",line2:null,city:"",state:"",postalCode:"",country:h.lF},billingAddress:{line1:"",line2:null,city:"",state:"",postalCode:"",country:h.lF}}});return((0,m.useEffect)(()=>{if(t){var e,n;r.reset({email:"",fullName:"",phoneNumber:"",customResponses:{},processorType:d.Stripe,pwyw:"",shippingAddress:{line1:"",line2:null,city:"",state:"",postalCode:"",country:null!==(e=t.geolocatedAddress.country)&&void 0!==e?e:h.lF},billingAddress:{line1:"",line2:null,city:"",state:"",postalCode:"",country:null!==(n=t.geolocatedAddress.country)&&void 0!==n?n:h.lF}})}},[t,r]),n||!t)?(0,u.jsx)(u.Fragment,{children:" "}):(0,u.jsxs)(en.RV,{...r,children:[(0,u.jsxs)("div",{className:(0,A.classNames)("grid grid-cols-2 gap-0 grid-rows-[auto_1fr]",y(o)?"":"min-h-screen",o===h.xz?"p-2":""),children:[(0,u.jsx)("div",{role:"region",className:(0,A.classNames)("col-span-2 md:col-span-1 md:justify-end md:flex",y(o)?"":"md:min-h-screen"),children:(0,u.jsxs)("div",{className:"pt-2 px-4 max-w-xl w-full mx-auto flex flex-col sm:px-16 md:pl-16 md:pr-6 md:mx-0 md:pt-12 lg:pr-16",children:[(0,u.jsx)(el,{logoUrl:t.marketplace.logoUrl,name:null!==(e=t.marketplace.name)&&void 0!==e?e:""}),(0,u.jsx)(td,{orderBumps:t.orderBumps})]})}),(0,u.jsx)("div",{role:"region",className:(0,A.classNames)("col-span-2 flex flex-col md:col-span-1",y(o)?"":"justify-between"),children:(0,u.jsxs)("div",{className:"px-4 col-auto w-full max-w-xl mx-auto sm:px-16 md:pr-16 md:pl-6 md:mx-0 md:py-28 lg:pl-16",children:[(0,u.jsx)(nn,{}),(0,u.jsx)(tm,{})]})})]}),(null==t?void 0:t.product.footerHtml)&&(0,u.jsx)(et,{unsafeHtml:t.product.footerHtml}),(null==t?void 0:t.marketplace.footerHtml)&&(0,u.jsx)(et,{unsafeHtml:t.marketplace.footerHtml}),(0,u.jsx)("div",{"data-iframe-size":!0})]})}let nr=(0,m.createContext)({selectedPaymentOption:{},setSelectedPaymentOption:e=>null,selectedOrderBumps:[],setSelectedOrderBumps:e=>null,requirePhoneNumber:!1,updateRequirePhoneNumber:e=>null,requireAddressType:null,updateRequireAddressType:e=>null,requirePwyw:null,initialCalculationsLoad:!0,setInitialCalculationsLoad:e=>null,coupon:null,setCoupon:e=>null,requireCreditCard:!1,updateRequireCreditCard:e=>null});function nl(e){var t,n;let{children:o}=e,{data:r}=eF(),[l,i]=(0,m.useState)(null!==(n=null==r?void 0:null===(t=r.paymentOptions)||void 0===t?void 0:t.find(e=>e.isExperienceProduct))&&void 0!==n?n:{}),[s,a]=(0,m.useState)([]),[d,c]=(0,m.useState)(!1),[p,v]=(0,m.useState)(!1),[h,x]=(0,m.useState)(null),[f,g]=(0,m.useState)(null),[b,y]=(0,m.useState)(null),[w,j]=(0,m.useState)(!0),{pwyw:C,amount:N}=l;(0,m.useEffect)(()=>{C&&N>0?y(N/100):y(null)},[C,N]);let P=(0,m.useMemo)(()=>({selectedPaymentOption:l,setSelectedPaymentOption:i,selectedOrderBumps:s,setSelectedOrderBumps:a,requirePhoneNumber:d,updateRequirePhoneNumber:e=>{void 0!==e&&c(e)},requireAddressType:h,updateRequireAddressType:e=>{void 0!==e&&x(e)},requirePwyw:b,initialCalculationsLoad:w,setInitialCalculationsLoad:j,coupon:f,setCoupon:g,requireCreditCard:p,updateRequireCreditCard:e=>{void 0!==e&&v(e)}}),[l,i,s,a,d,h,b,w,j,f,g,p,v]);return(0,u.jsx)(nr.Provider,{value:P,children:o})}let ni=()=>(0,m.useContext)(nr);function ns(e,t){return JSON.stringify(e)===JSON.stringify(t)}let na=(e,t,n,o,r,l)=>i=>{if(!l||!e)return;let s=window,a=t.map(e=>({id:e.id,name:e.name,currency:n,price:parseFloat((e.amount/100).toFixed(2)),quantity:1,coupon:o})),d={currency:n,products:[{id:e.id,name:e.name,currency:n,price:parseFloat((e.amount/100).toFixed(2)),quantity:1,coupon:o},...a]};v.Z.post("".concat(r,"/tracking/payments"),{...d,principalProductId:e.id,email:i}).then(e=>{var t;void 0!==(null==s?void 0:null===(t=s._samcarttracking)||void 0===t?void 0:t.tracker)&&s._samcarttracking.tracker.fire("addPaymentInfo",{...d,eventId:e.data.eventId,customer:{email:i}})}).catch(()=>{})},nd=()=>{var e,t,n,o,r,l,i,s,a;let{format:d}=P(),{checkoutApiUrl:c}=w(!0),{data:u}=eF(),{selectedPaymentOption:p,selectedOrderBumps:v}=ni(),h=null!==(i=null==u?void 0:u.currency)&&void 0!==i?i:"USD",{watch:x}=(0,en.Gc)(),f=(null===(t=window)||void 0===t?void 0:null===(e=t._samcarttracking)||void 0===e?void 0:e.tracker)!=null,g=null!==(s=null==u?void 0:null===(n=u.orderBumps)||void 0===n?void 0:n.filter(e=>null==v?void 0:v.some(t=>ns(t,e))))&&void 0!==s?s:[],b=null!==(a=x("couponCode"))&&void 0!==a?a:"",y=null==u?void 0:null===(o=u.tracking)||void 0===o?void 0:o.gaMeasurementId,j=null==u?void 0:null===(r=u.tracking)||void 0===r?void 0:r.gtmContainerId,C=null==u?void 0:null===(l=u.tracking)||void 0===l?void 0:l.metaPixelId,N=!!(y||j||C);return(0,m.useEffect)(()=>{N&&f&&tk(y,j,C,d)},[N,d,y,j,C,f]),{enabled:N,fireAddPaymentInfo:na(p,g,h,b,c,N)}},nc=(0,u.jsx)(t0(),{src:h.UX,"data-testid":"sc-tracker-script"});function nu(){let{enabled:e}=tS();return e?nc:null}function nm(){let{enabled:e}=nd();return e?nc:null}function np(){var e,t,n,o,r;let{data:l,isPending:i}=D(),{format:s}=P(),a=h.iC;return((null==l?void 0:null===(e=l.marketplace)||void 0===e?void 0:e.name)&&(null==l?void 0:null===(t=l.product)||void 0===t?void 0:t.name)&&(a="".concat(null==l?void 0:null===(o=l.product)||void 0===o?void 0:o.name," | ").concat(null==l?void 0:null===(r=l.marketplace)||void 0===r?void 0:r.name)),(0,m.useEffect)(()=>{!i&&l&&h.qF&&((0,H.VZ)("sp",h.bD,{appId:"checkout-anywhere",platform:"web",cookieSameSite:"Lax",discoverRootDomain:!0,contexts:{webPage:!0,session:!0,browser:!0},plugins:[(0,U.H)(),(0,z.EF)(),(0,Z.S)()]}),(0,H.Bm)({minimumVisitLength:10,heartbeatDelay:10}),(0,z.Xb)({pseudoClicks:!0,trackContent:!0}),(0,H.U7)([{schema:"iglu:com.samcart/marketplace_entity/jsonschema/1-0-1",data:{marketplace_id:l.marketplace.id}},{schema:"iglu:com.samcart/product_entity/jsonschema/1-0-0",data:{product_id:l.product.id,sandbox:l.product.sandboxMode?1:0}},{schema:"iglu:com.samcart/checkout_entity/jsonschema/1-0-2",data:{experience_type:s}}]),(0,H.Z0)(),(0,Z.c)())},[i,l,s]),l)?(0,u.jsxs)(u.Fragment,{children:[s===h.xz&&(0,u.jsx)(W.IconButton,{className:(0,A.classNames)("absolute z-10",l.product.sandboxMode?"top-10 right-4":"top-0 right-0"),icon:"X",variant:"borderless",color:"neutral",label:ex("close"),onClick:()=>{var e,t;null===(t=window)||void 0===t||null===(e=t.parentIFrame)||void 0===e||e.sendMessage({type:"close-slide"})}}),l.product.headerHtml&&(0,u.jsx)(et,{unsafeHtml:l.product.headerHtml}),l.marketplace.headerHtml&&(0,u.jsx)(et,{unsafeHtml:l.marketplace.headerHtml}),(0,u.jsxs)(J,{format:s,htmlTitle:a,faviconUrl:null==l?void 0:null===(n=l.marketplace)||void 0===n?void 0:n.faviconUrl,children:[l.product.sandboxMode&&(0,u.jsxs)("div",{className:"flex justify-center items-center flex-col md:flex-row py-1 xl:py-2 text-xs lg:text-sm bg-yellow-300 text-light-text-primary",children:[(0,u.jsx)("p",{className:"font-medium m-0",children:"THIS PAGE IS IN TEST MODE.\xa0"}),(0,u.jsxs)("p",{className:"font-medium m-0",children:["LIVE CHARGES WILL NOT BE CREATED."," ",(0,u.jsx)("a",{className:"text-light-text-primary unbranded",href:"https://help.samcart.com/support/solutions/articles/60000650255-test-mode",target:"_blank",rel:"noreferrer",children:"LEARN MORE"})]})]}),(0,u.jsx)(no,{})]}),(0,u.jsx)(nu,{})]}):(0,u.jsx)(I.Progress,{})}function nv(){let{data:e}=D(),{affiliateToken:t,visitorToken:n}=P();return((0,m.useEffect)(()=>{(null==e?void 0:e.marketplace.id)&&t&&((0,x.Wj)("referrer_".concat(e.marketplace.id),t),(0,x.Wj)("referrer_visitor_token_".concat(e.marketplace.id),n))},[t,null==e?void 0:e.marketplace.id,n]),e)?(0,u.jsx)(E,{selectedOrderBumps:[],currencySlug:null==e?void 0:e.marketplace.currency,defaultIsUserInputAllowed:!0,defaultSelectedPaymentOption:e.product,defaultSelectedShipping:{country:e.geolocatedAddress.country},defaultSelectedBilling:{country:e.geolocatedAddress.country},defaultPaymentElementReady:!1,defaultSelectedQuantity:1,children:(0,u.jsxs)(eH,{children:[(0,u.jsx)(V,{}),(0,u.jsx)(np,{})]})}):(0,u.jsx)(I.Progress,{})}var nh=n(47533),nx=n(36006);async function nf(e,t){return new Promise((n,o)=>{if(""===e.clientKey||""===e.apiLoginID)throw Error("Client Key or Login ID is missing");window.Accept.dispatchData({authData:e,cardData:t},e=>{if("Ok"===e.messages.resultCode)n({dataDescriptor:e.opaqueData.dataDescriptor,dataValue:e.opaqueData.dataValue});else{var t;let n=null===(t=e.messages.message)||void 0===t?void 0:t[0];o((null==n?void 0:n.text)||"Error creating token")}})})}function ng(e){let{isSandboxMode:t}=e;return(0,u.jsx)(t0(),{id:"authorize-js-script",src:t?"https://jstest.authorize.net/v1/Accept.js":"https://js.authorize.net/v1/Accept.js"})}(i=c||(c={})).Billing="billing",i.Shipping="shipping";var nb=n(98029);let ny=(e,t,n)=>{let{format:o,referrer:r,visitorToken:l,affiliateToken:i,checkoutApiUrl:s}=n;return async n=>{var a,c,u,m,p,h,x;let f=await e(),g=tT(n.productId,null!==(h=n.paymentMethodId)&&void 0!==h?h:"",r,n.customer,o,n.paymentIntent,n.selectedOrderBumps,n.customResponses,n.hasValidCoupon?n.couponCode:"",n.selectedPaymentOptionId,n.selectedPaymentOptionBundledProducts,t,f,l,n.selectedQuantity,i,n.pwywPrice),b=await v.Z.post("".concat(s,"/purchase"),g,{withCredentials:!0});if(t===d.PayPal)t1(null===(x=b.data)||void 0===x?void 0:x.payPalToken);else if((null===(a=b.data)||void 0===a?void 0:a.redirect)||(null===(u=b.data)||void 0===u?void 0:null===(c=u.data)||void 0===c?void 0:c.url_redirect))(null===(p=b.data)||void 0===p?void 0:null===(m=p.data)||void 0===m?void 0:m.url_redirect)?await eO(o,b.data.data.url_redirect):await eO(o,b.data.redirect);else throw new tw("Purchase was completed successfully, but no order summary is available. Please check your email.")}},nw=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=P(),o=w(!0),{getToken:r}=function(){let{recaptchaSiteKey:e,recaptchaRef:t}=tF();return{getToken:()=>tB(e,t)}}();return(0,nb.D)({mutationFn:ny(r,e,{format:n.format,referrer:n.referrer,visitorToken:n.visitorToken,affiliateToken:n.affiliateToken,checkoutApiUrl:t?o.checkoutApiUrl:n.checkoutApiUrl})})},nj=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,[n,o]=(0,m.useState)(e),r=(0,en.qo)({defaultValue:e});return(0,m.useEffect)(()=>{let e=setTimeout(()=>{o(r)},t);return()=>{clearTimeout(e)}},[r,t]),n};function nC(e,t,n){let o=[];return t&&t.length>0&&(o=t.map(e=>({productId:e.id,quantity:1}))),{order:{couponCode:n.couponCode,paymentOption:{productId:e.id,quantity:n.selectedQuantity,pwyw:100*Number(n.pwyw)},orderBumps:o,purchaser:{email:n.email,shippingAddress:n.address}}}}async function nN(e,t){try{let{data:n}=await v.Z.post(e,t);return n}catch(e){var n;throw e instanceof Error&&(0,T.Z)("[getCalculations]",e),v.Z.isAxiosError(e)&&(null===(n=e.response)||void 0===n?void 0:n.status)===404&&window.location.assign("/checkout"),e}}function nP(e){var t,n,o,r;let{checkoutApiUrl:l}=w(!0),i="".concat(l,"/calcs");return(0,B.a)({queryKey:["checkoutCalculations",null==e?void 0:e.order.paymentOption.productId,null==e?void 0:e.order.paymentOption.quantity,null==e?void 0:e.order.paymentOption.pwyw,null==e?void 0:e.order.couponCode,null==e?void 0:e.order.orderBumps,null==e?void 0:null===(n=e.order.purchaser)||void 0===n?void 0:null===(t=n.shippingAddress)||void 0===t?void 0:t.city,null==e?void 0:null===(r=e.order.purchaser)||void 0===r?void 0:null===(o=r.shippingAddress)||void 0===o?void 0:o.postalCode],queryFn:()=>nN(i,e),enabled:!!e,staleTime:1/0,gcTime:1/0})}function nk(e){var t,n;let{onSubmit:o,disabled:r}=e,{data:l,isLoading:i}=eF(),s=null==l?void 0:null===(t=l.brandingProperties)||void 0===t?void 0:t.buttonColor,{formState:{isSubmitting:a},handleSubmit:d,getValues:c}=(0,en.Gc)(),m=null!==(n=null==l?void 0:l.currency)&&void 0!==n?n:"USD",p=nj(c()),{selectedPaymentOption:v,selectedOrderBumps:h}=ni(),{data:x,isPending:f,isLoading:g}=nP(nC(v,h,p)),b=eu((null==x?void 0:x.total)||0,m),y=i||g||f,w=function(e,t){var n;let o=v.subscriptionInfo;return y||t?"".concat(ex("form.button.processing"),"..."):(null==l?void 0:null===(n=l.brandingProperties)||void 0===n?void 0:n.checkoutButtonText)?l.brandingProperties.checkoutButtonText:o?o.trialPeriod>0&&(null==x?void 0:x.total)===0?ex("form.button.startMyFreeTrial"):"".concat(ex("form.button.subscribeFor")," ").concat(e):"".concat(ex("form.button.pay")," ").concat(e)}(b,a);return(0,u.jsx)(e_.Button,{onClick:d(o),className:"w-full text-lg leading-6 font-semibold disabled:bg-neutral-light disabled:text-neutral-dark ".concat(s&&!r&&"sc-custom-branded-button"),type:"button",label:w,endLoadingIndicator:a||f,disabled:y||r})}function nI(e){let{onSwitchToPaypal:t}=e;return(0,u.jsx)("div",{className:"w-full text-sm rounded-lg bg-white transition-height h-auto}",children:(0,u.jsxs)("button",{type:"button",onClick:t,className:"flex flex-row items-center w-full h-12 p-4 outline-none rounded-lg bg-white cursor-pointer text-xs sc-custom-content-font sc-custom-processor-type-button border border-solid border-[#DEE3E7]",children:[(0,u.jsx)(tK.vs,{className:"payment-element-icon"}),(0,u.jsx)("p",{children:"PayPal"})]})})}function nS(e,t,n){var o;let r={line1:"",line2:"",city:"",state:"",postalCode:"",country:""},{firstName:l,lastName:i}=e4(e.fullName);return{email:e.email,fullName:e.fullName,firstName:l,lastName:i,phoneNumber:null!==(o=e.phoneNumber)&&void 0!==o?o:"",billingAddress:t?e.address:r,shippingAddress:n?e.address:r}}function nA(e){let t=[];return Object.entries(e).forEach(e=>{let[n,o]=e;if(n.startsWith("custom_")){if("string"!=typeof o)throw Error("Custom field value must be a string");t.push({slug:n,value:o})}}),t}async function nO(e,t,n,o){let r={cardNumber:e,month:t.slice(0,2),year:t.slice(2,4),cardCode:n};try{return await nf(o,r)}catch(e){return null}}function nE(e){var t,n,o,r;let{onSwitchToPayPal:l,displayPayPalOption:i}=e,[s,a]=(0,m.useState)(null),{data:p}=eF(),v=(null==p?void 0:null===(t=p.ccProcessor)||void 0===t?void 0:t.type)===d.AuthorizeNet?null==p?void 0:p.ccProcessor:void 0,h={clientKey:null!==(n=null==v?void 0:v.clientKey)&&void 0!==n?n:"",apiLoginID:null!==(o=null==v?void 0:v.apiLoginId)&&void 0!==o?o:""},{mutateAsync:x}=nw(d.AuthorizeNet,!0),{fireAddPaymentInfo:f}=nd(),{formState:{errors:g,isSubmitting:b},setValue:y,control:w,getValues:j}=(0,en.Gc)(),{requireAddressType:C,selectedPaymentOption:N,selectedOrderBumps:P,coupon:k,requireCreditCard:I,updateRequireCreditCard:S}=ni();(0,m.useEffect)(()=>{I||S(!0)},[S,I]);let A=Object.keys(g).length>0;if(!p||!(null==p?void 0:p.ccProcessor))return null;async function O(e,t){var n,o,r,l;let i=null==p?void 0:null===(n=p.paymentOptions)||void 0===n?void 0:n.find(e=>e.isExperienceProduct);if(!i)throw Error("Cannot attempt purchase: no principal product found.");await x({customer:nS(e,C===c.Billing,C===c.Shipping),paymentIntent:null,productId:i.id,hasValidCoupon:null!==(o=null==k?void 0:k.isValid)&&void 0!==o&&o,selectedOrderBumps:P.map(e=>e.id),customResponses:nA(e),couponCode:null!==(r=e.couponCode)&&void 0!==r?r:"",selectedPaymentOptionId:N.id,selectedPaymentOptionBundledProducts:null!==(l=N.bundledProducts)&&void 0!==l?l:[],selectedQuantity:e.selectedQuantity,pwywPrice:void 0!==e.pwyw?e.pwyw.toString():"",paymentMethodId:t})}let E=async e=>{f(j("email"));try{var t,n,o,r,l;let i=j("card"),s=await nO(null!==(o=null==i?void 0:null===(t=i.cardNumber)||void 0===t?void 0:t.replace(/\s/g,""))&&void 0!==o?o:"",null!==(r=null==i?void 0:null===(n=i.expirationDate)||void 0===n?void 0:n.replace(/\//g,""))&&void 0!==r?r:"",null!==(l=null==i?void 0:i.securityCode)&&void 0!==l?l:"",h);if(!s)throw Error("Failed to get card token");await O(e,s)}catch(e){a(tj(e)),(0,T.Z)("purchaseError",e)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(en.Qr,{control:w,name:"card",render:e=>{var t,n,o,r,l,i,s,a,d;let{field:{value:c={}}}=e;return(0,u.jsxs)("div",{className:"border border-solid border-[#034B98] rounded-lg bg-white transition-height h-auto p-4 sc-custom-input",children:[(0,u.jsxs)("div",{className:"flex-row align-middle flex items-center mb-4 gap-4 text-xs",children:[(0,u.jsx)(eq.CreditCard,{color:"#FFF",size:"S",titleAccess:"Card & More",className:"fill-[#233543]"})," ",ex("form.card.card")]}),(0,u.jsx)(nx.a,{variant:"spaced",label:ex("form.card.label"),disabled:b,fields:{cardNumber:{label:ex("form.card.cardNumber"),value:c.cardNumber,onChange:e=>{y("card.cardNumber",null!=e?e:"",{shouldValidate:A})},error:!!(null===(t=g.card)||void 0===t?void 0:t.cardNumber),message:null===(o=g.card)||void 0===o?void 0:null===(n=o.cardNumber)||void 0===n?void 0:n.message},expirationDate:{label:ex("form.card.expirationDate"),value:c.expirationDate,onChange:e=>{y("card.expirationDate",null!=e?e:"",{shouldValidate:A})},error:!!(null===(r=g.card)||void 0===r?void 0:r.expirationDate),message:null===(i=g.card)||void 0===i?void 0:null===(l=i.expirationDate)||void 0===l?void 0:l.message},securityCode:{label:ex("form.card.securityCode"),value:c.securityCode,onChange:e=>{y("card.securityCode",null!=e?e:"",{shouldValidate:A})},error:!!(null===(s=g.card)||void 0===s?void 0:s.securityCode),message:null===(d=g.card)||void 0===d?void 0:null===(a=d.securityCode)||void 0===a?void 0:a.message}}})]})}}),i&&(0,u.jsx)(nI,{onSwitchToPaypal:l}),(0,u.jsx)(nk,{onSubmit:E,disabled:A}),s&&(0,u.jsx)(t_.Alert,{className:"mt-4",type:"error",content:s}),(0,u.jsx)(ng,{isSandboxMode:null!==(r=null==p?void 0:p.isSandbox)&&void 0!==r&&r})]})}var nF=n(86731);let nB=e=>{let t=e.slice(0,2),n=e.slice(2,4);return"internal_samcart_visa_20".concat(n,"_").concat(t)};function nT(){let[e,t]=(0,m.useState)(null),{data:n}=eF(),{mutateAsync:o}=nw(d.Sandbox,!0),{formState:{errors:r,isSubmitting:l},setValue:i,getValues:s,control:a}=(0,en.Gc)(),{fireAddPaymentInfo:p}=nd(),{requireAddressType:v,selectedPaymentOption:h,selectedOrderBumps:x,coupon:f,requireCreditCard:g,updateRequireCreditCard:b}=ni();(0,m.useEffect)(()=>{g||b(!0)},[b,g]);let y=Object.keys(r).length>0;if(!n||!(null==n?void 0:n.ccProcessor))return null;async function w(e,t){var r,l,i,s;let a=null==n?void 0:null===(r=n.paymentOptions)||void 0===r?void 0:r.find(e=>e.isExperienceProduct);if(!a)throw Error("Cannot attempt purchase: no principal product found.");await o({customer:nS(e,v===c.Billing,v===c.Shipping),paymentIntent:null,productId:a.id,hasValidCoupon:null!==(l=null==f?void 0:f.isValid)&&void 0!==l&&l,selectedOrderBumps:x.map(e=>e.id),customResponses:nA(e),couponCode:null!==(i=e.couponCode)&&void 0!==i?i:"",selectedPaymentOptionId:h.id,selectedPaymentOptionBundledProducts:null!==(s=h.bundledProducts)&&void 0!==s?s:[],selectedQuantity:e.selectedQuantity,pwywPrice:void 0!==e.pwyw?e.pwyw.toString():"",paymentMethodId:t})}let j=async e=>{p(s("email"));try{var n;let t=s("card"),o=nB(null!==(n=t.expirationDate)&&void 0!==n?n:"");await w(e,o)}catch(e){t(tj(e)),(0,T.Z)("purchaseError",e)}};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(en.Qr,{control:a,name:"card",render:e=>{var t,n,o,s,a,d,c,m,p;let{field:{value:v={}}}=e;return(0,u.jsxs)("div",{className:"border border-solid border-[#034B98] rounded-lg bg-white transition-height h-auto p-4 sc-custom-input",children:[(0,u.jsxs)("div",{className:"flex-row align-middle flex items-center mb-4 gap-4 text-xs",children:[(0,u.jsx)(nF.CreditCard,{color:"#FFF",size:"S",titleAccess:"Card & More",className:"fill-[#233543]"})," ","Card"]}),(0,u.jsx)(nx.a,{variant:"spaced",label:ex("form.card.label"),disabled:l,fields:{cardNumber:{label:ex("form.card.cardNumber"),value:v.cardNumber,onChange:e=>{i("card.cardNumber",null!=e?e:"")},error:!!(null===(t=r.card)||void 0===t?void 0:t.cardNumber),message:null===(o=r.card)||void 0===o?void 0:null===(n=o.cardNumber)||void 0===n?void 0:n.message},expirationDate:{label:ex("form.card.expirationDate"),value:v.expirationDate,onChange:e=>{i("card.expirationDate",null!=e?e:"")},error:!!(null===(s=r.card)||void 0===s?void 0:s.expirationDate),message:null===(d=r.card)||void 0===d?void 0:null===(a=d.expirationDate)||void 0===a?void 0:a.message},securityCode:{label:ex("form.card.securityCode"),value:v.securityCode,onChange:e=>{i("card.securityCode",null!=e?e:"")},error:!!(null===(c=r.card)||void 0===c?void 0:c.securityCode),message:null===(p=r.card)||void 0===p?void 0:null===(m=p.securityCode)||void 0===m?void 0:m.message}}})]})}}),(0,u.jsx)(nk,{onSubmit:j,disabled:y}),e&&(0,u.jsx)(t_.Alert,{className:"mt-4",type:"error",content:e})]})}async function nq(e){try{let{data:t}=await v.Z.get(e);return t.releaseFlags}catch(e){var t;throw e instanceof Error&&(0,T.Z)("[getExperienceFlags]",e),v.Z.isAxiosError(e)&&(null===(t=e.response)||void 0===t?void 0:t.status)===404&&window.location.assign("/checkout"),e}}let nD=e=>{let t=e.substring(0,2);if(Number(t)>12||"00"===t)return!1;let n=new Date,o=n.getMonth()+1,r=n.getFullYear().toString().substring(2);return!(Number(e.substring(2))<Number(r)||Number(t)<o&&Number(e.substring(2))===Number(r))},n_=e=>{let t=e.replace(/[\s_-]+/g,"").split("").reverse().map(Number),n=0;for(let e=0;e<t.length;e++){let o=t[e];e%2!=0&&(o*=2)>9&&(o-=9),n+=o}return n%10==0};var nM=n(56408),nR=n.n(nM),nL=n(53770),nV=n.n(nL);let nH=e=>e instanceof Error&&Object.hasOwn(e,"code")&&"string"==typeof e.code&&Object.hasOwn(e,"message")&&"string"==typeof e.message&&Object.hasOwn(e,"details")&&"object"==typeof e.details&&Object.hasOwn(e.details,"invalidFieldKeys")&&"object"==typeof e.details.invalidFieldKeys,nU=(e,t)=>{switch(e.code){case"HOSTED_FIELDS_FIELDS_EMPTY":t.setExpirationError(ex("validator.creditCard.expirationDate.invalid")),t.setSecurityCodeError(ex("validator.creditCard.securityCode.invalid")),t.setCardError(ex("validator.creditCard.number.invalid"));break;case"HOSTED_FIELDS_FIELDS_INVALID":e.details.invalidFieldKeys.forEach(e=>{"expirationDate"===e?t.setExpirationError(ex("validator.creditCard.expirationDate.invalid")):"cvv"===e?t.setSecurityCodeError(ex("validator.creditCard.securityCode.invalid")):"number"===e&&t.setCardError(ex("validator.creditCard.number.invalid"))});break;case"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED":t.setSecurityCodeError(ex("validator.creditCard.securityCode.invalid"));break;default:t.setErrorMessage(tj(e))}},nz=e=>t=>{let n=t.fields[t.emittedBy];"number"===t.emittedBy?e.setCardError(n.isValid||n.isPotentiallyValid?void 0:ex("validator.creditCard.number.invalid")):"expirationDate"===t.emittedBy?e.setExpirationError(n.isValid||n.isPotentiallyValid?void 0:ex("validator.creditCard.expirationDate.invalid")):"cvv"===t.emittedBy&&e.setSecurityCodeError(n.isValid||n.isPotentiallyValid?void 0:ex("validator.creditCard.securityCode.invalid"))},nZ=(e,t)=>{var n,o;!t||null!==(n=window.scBraintree)&&void 0!==n&&n.instance||null!==(o=window.scBraintree)&&void 0!==o&&o.awaitingInit||(window.scBraintree={awaitingInit:!0,instance:void 0},nR().create({authorization:t},(t,n)=>{if(t){nU(t,e);return}nV().create({client:n,styles:{input:{"font-family":"Inter, Helvetica, Arial, sans-serif"}},fields:{number:{placeholder:"1234 1234 1234 1234",container:"#braintree-ccnumber"},expirationDate:{placeholder:"MM / YYYY",container:"#braintree-ccexp"},cvv:{placeholder:"CVC",container:"#braintree-cvv"}}},(t,n)=>{if(t){nU(t,e);return}window.scBraintree={awaitingInit:!1,instance:n},null==n||n.on("validityChange",nz(e))})}))},nW=(e,t)=>((0,m.useEffect)(()=>{var n,o;return(null===(n=window.scBraintree)||void 0===n?void 0:n.instance)||(null===(o=window.scBraintree)||void 0===o?void 0:o.awaitingInit)?()=>{}:(nZ(e,t),()=>{var e,t;null===(t=window.scBraintree)||void 0===t||null===(e=t.instance)||void 0===e||e.teardown().then(()=>{window.scBraintree={instance:void 0,awaitingInit:!1}})})},[t,e]),async()=>{let t;try{var n,o,r;t=null===(n=await (null===(r=window.scBraintree)||void 0===r?void 0:null===(o=r.instance)||void 0===o?void 0:o.tokenize()))||void 0===n?void 0:n.nonce}catch(t){nH(t)&&nU(t,e)}return t}),nG=e=>({paddingTop:"4px",paddingRight:"12px",paddingBottom:"5px",paddingLeft:"12px",borderRadius:"8px",background:"none",color:"".concat(e.palette.text.primary),height:"40px",width:"100%",fontSize:"14px",lineHeight:"21px"});function nQ(e){var t;let n,{onSwitchToPayPal:o,displayPayPalOption:r}=e,[l,i]=(0,m.useState)(null),[s,a]=(0,m.useState)(void 0),[p,v]=(0,m.useState)(void 0),[h,x]=(0,m.useState)(void 0),f=(0,m.useMemo)(()=>({setErrorMessage:i,setCardError:a,setExpirationError:v,setSecurityCodeError:x}),[i,a,v,x]),[g,b]=(0,m.useState)(!1),{mutateAsync:y}=nw(d.Braintree,!0),{fireAddPaymentInfo:w}=nd(),{formState:{errors:j,isSubmitting:C},getValues:N}=(0,en.Gc)(),P=Object.keys(j).length>0||!!s||!!p||!!h,{requireAddressType:k,selectedOrderBumps:I,coupon:A,selectedPaymentOption:O}=ni(),{data:E}=eF();(null==E?void 0:null===(t=E.ccProcessor)||void 0===t?void 0:t.type)===d.Braintree&&(n=E.ccProcessor.tokenizationKey);let F=nW(f,n),B=(0,m.useCallback)(async(e,t)=>{var n,o,r,l;let i=null==E?void 0:null===(n=E.paymentOptions)||void 0===n?void 0:n.find(e=>e.isExperienceProduct);if(!i)throw Error("Cannot attempt purchase: no principal product found.");let s={couponCode:null!==(o=e.couponCode)&&void 0!==o?o:"",customResponses:nA(e),customer:nS(e,k===c.Billing,k===c.Shipping),hasValidCoupon:null!==(r=null==A?void 0:A.isValid)&&void 0!==r&&r,paymentIntent:null,paymentMethodId:t,productId:i.id,pwywPrice:void 0!==e.pwyw?e.pwyw.toString():"",selectedOrderBumps:I.map(e=>e.id),selectedPaymentOptionBundledProducts:null!==(l=O.bundledProducts)&&void 0!==l?l:[],selectedPaymentOptionId:O.id,selectedQuantity:e.selectedQuantity};await y(s)},[null==A?void 0:A.isValid,y,null==E?void 0:E.paymentOptions,k,I,O.bundledProducts,O.id]),T=async()=>{b(!0);try{let e=N();w(e.email);let t=await F();t&&await B(e,t)}catch(e){i(tj(e))}finally{b(!1)}},q=nG((0,G.Fg)()),D="text-light-error-main",_=e=>"".concat("font-normal text-xs box-border cursor-text inline-flex items-center min-h-10 border border-solid rounded-lg bg-white"," ").concat(e?D:"border-[#9CABB7]"," ").concat(e?"color-[#233543]":"");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"flex flex-col gap-y-4 border border-solid border-[#034B98] rounded-lg bg-white transition-height h-auto p-4 sc-custom-input",children:[(0,u.jsxs)("div",{className:"flex-row align-middle flex items-center mb-4 gap-4 text-xs",children:[(0,u.jsx)(nF.CreditCard,{color:"#FFF",size:"S",titleAccess:"Card",className:"fill-[#233543]"})," ",ex("form.card.card")]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(e$.Label,{className:"mb-2",label:ex("form.card.cardNumber")}),(0,u.jsx)("div",{className:"flex flex-row",children:(0,u.jsx)("div",{className:"w-full ".concat(_(!!s)),children:(0,u.jsx)("div",{id:"braintree-ccnumber",style:q})})}),s&&(0,u.jsx)(S.Body1,{className:"text-xs mt-1 ".concat(D),children:s})]}),(0,u.jsxs)("div",{className:"flex flex-row",children:[(0,u.jsxs)("div",{className:"flex-1 flex flex-col mr-1.5 mb-2",id:"card-exp-col",children:[(0,u.jsx)(e$.Label,{className:"mb-2",label:ex("form.card.expirationDate")}),(0,u.jsx)("div",{className:"w-full ".concat(_(!!p)),children:(0,u.jsx)("div",{id:"braintree-ccexp",style:q})}),p&&(0,u.jsx)(S.Body1,{className:"text-xs mt-1 ".concat(D),children:p})]}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col ml-1.5",id:"card-exp-col",children:[(0,u.jsx)(e$.Label,{className:"mb-2",label:ex("form.card.securityCode")}),(0,u.jsx)("div",{className:"w-full ".concat(_(!!h)),children:(0,u.jsx)("div",{id:"braintree-cvv",style:q})}),h&&(0,u.jsx)(S.Body1,{className:"text-xs mt-1 ".concat(D),children:h})]})]})]}),r&&(0,u.jsx)(nI,{onSwitchToPaypal:o}),C||g?(0,u.jsx)(e_.Button,{className:"epd-button border-none w-full text-lg leading-6 font-semibold",type:"button",label:"".concat(ex("form.button.processing"),"..."),endLoadingIndicator:!0,disabled:!0}):(0,u.jsx)(nk,{onSubmit:T,disabled:P}),l&&(0,u.jsx)(t_.Alert,{className:"mt-4",type:"error",content:l})]})}let nY=e=>{let{setCardError:t,setExpirationError:n,setSecurityCodeError:o,setFormError:r,setToken:l}=e;window.CollectJS.configure({variant:"inline",callback:e=>{e.token?l(e.token):r(ty)},validationCallback:(e,r)=>{"ccnumber"===e?t(r?void 0:ex("validator.creditCard.number.invalid")):"ccexp"===e?n(r?void 0:ex("validator.creditCard.expirationDate.invalid")):"cvv"===e&&o(r?void 0:ex("validator.creditCard.securityCode.invalid"))},timeoutDuration:5e3,timeoutCallback(){r(ty)},fields:{ccnumber:{placeholder:"1234 1234 1234 1234",selector:"#epd-ccnumber"},ccexp:{placeholder:"MM / YYYY",selector:"#epd-ccexp"},cvv:{placeholder:"CVC",selector:"#epd-cvv"}}})};function nK(e){var t;let{data:n}=eF(),o=(0,G.Fg)();return(null==n?void 0:null===(t=n.ccProcessor)||void 0===t?void 0:t.type)!==d.EasyPayDirect?null:(0,u.jsx)(t0(),{src:"https://secure.easypaydirectgateway.com/token/Collect.js",onLoad:()=>nY(e),"data-tokenization-key":n.ccProcessor.publicKey,"data-custom-css":'{\n        "padding-top":"4px",\n        "padding-right":"0px",\n        "padding-bottom":"5px",\n        "padding-left":"0px",\n        "border":"0",\n        "box-sizing":"content-box",\n        "background":"none",\n        "color":"'.concat(o.palette.text.primary,'",\n        "height":"1.4375em",\n        "margin":"0",\n        "width":"100%",\n        "font-size":"0.875em",\n        "line-height":"21px",\n        "font-family":"Inter, Helvetica, Arial, sans-serif"\n        }'),"data-placeholder-css":'{\n        "color":"'.concat(o.palette.text.secondary,'"}'),"data-focus-css":"{  }"})}function nX(e){let{onSwitchToPayPal:t,displayPayPalOption:n}=e,[o,r]=(0,m.useState)(null),[l,i]=(0,m.useState)(!1),[s,a]=(0,m.useState)(),{mutateAsync:p}=nw(d.EasyPayDirect,!0),[v,h]=(0,m.useState)(void 0),[x,f]=(0,m.useState)(void 0),[g,b]=(0,m.useState)(void 0),{formState:{errors:y,isSubmitting:w},getValues:j}=(0,en.Gc)(),{fireAddPaymentInfo:C}=nd();(0,m.useEffect)(()=>{var e;n&&void 0!==(null===(e=window.CollectJS)||void 0===e?void 0:e.configure)&&nY({setCardError:h,setExpirationError:f,setSecurityCodeError:b,setFormError:r,setToken:a})},[n]);let N=Object.keys(y).length>0||!!v||!!x||!!g,{requireAddressType:P,selectedOrderBumps:k,coupon:I,selectedPaymentOption:A}=ni(),{data:O}=eF(),E=async()=>{i(!0),C(j("email")),await window.CollectJS.startPaymentRequest()},F=(0,m.useCallback)(async e=>{var t,n,o,r;let l=null==O?void 0:null===(t=O.paymentOptions)||void 0===t?void 0:t.find(e=>e.isExperienceProduct);if(!l)throw Error("Cannot attempt purchase: no principal product found.");let i={couponCode:null!==(n=e.couponCode)&&void 0!==n?n:"",customResponses:nA(e),customer:nS(e,P===c.Billing,P===c.Shipping),hasValidCoupon:null!==(o=null==I?void 0:I.isValid)&&void 0!==o&&o,paymentIntent:null,paymentMethodId:s,productId:l.id,pwywPrice:void 0!==e.pwyw?e.pwyw.toString():"",selectedOrderBumps:k.map(e=>e.id),selectedPaymentOptionBundledProducts:null!==(r=A.bundledProducts)&&void 0!==r?r:[],selectedPaymentOptionId:A.id,selectedQuantity:e.selectedQuantity};await p(i)},[null==I?void 0:I.isValid,p,null==O?void 0:O.paymentOptions,P,k,A.bundledProducts,A.id,s]);(0,m.useEffect)(()=>{if(s)try{F(j())}catch(e){i(!1),r(tj(e)),(0,T.Z)("purchaseError",e)}},[s,F,j]);let B="text-light-error-main",q=e=>"".concat("font-normal text-xs box-border cursor-text inline-flex items-center min-h-10 border border-solid rounded-lg bg-white px-3"," ").concat(e?B:"border-[#9CABB7]"," ").concat(e?"color-[#233543]":"");return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{className:"border border-solid border-[#034B98] rounded-lg bg-white transition-height h-auto p-4 sc-custom-input",children:[(0,u.jsxs)("div",{className:"flex-row align-middle flex items-center mb-4 gap-4 text-xs",children:[(0,u.jsx)(nF.CreditCard,{color:"#FFF",size:"S",titleAccess:"Card & More",className:"fill-[#233543]"})," ",ex("form.card.card")]}),(0,u.jsxs)("div",{className:"pb-4",children:[(0,u.jsx)(e$.Label,{className:"mb-2",label:ex("form.card.cardNumber")}),(0,u.jsx)("div",{className:"flex flex-row",children:(0,u.jsx)("div",{className:"w-full ".concat(q(!!v)),children:(0,u.jsx)("div",{id:"epd-ccnumber"})})}),v&&(0,u.jsx)(S.Body1,{className:"text-xs mt-1 ".concat(B),children:v})]}),(0,u.jsxs)("div",{className:"flex flex-row",children:[(0,u.jsxs)("div",{className:"flex-1 flex flex-col mr-1.5 mb-2",id:"card-exp-col",children:[(0,u.jsx)(e$.Label,{className:"mb-2",label:ex("form.card.expirationDate")}),(0,u.jsx)("div",{className:"w-full ".concat(q(!!x)),children:(0,u.jsx)("div",{id:"epd-ccexp"})}),x&&(0,u.jsx)(S.Body1,{className:"text-xs mt-1 ".concat(B),children:x})]}),(0,u.jsxs)("div",{className:"flex-1 flex flex-col ml-1.5",id:"card-exp-col",children:[(0,u.jsx)(e$.Label,{className:"mb-2",label:ex("form.card.securityCode")}),(0,u.jsx)("div",{className:"w-full ".concat(q(!!g)),children:(0,u.jsx)("div",{id:"epd-cvv"})}),g&&(0,u.jsx)(S.Body1,{className:"text-xs mt-1 ".concat(B),children:g})]})]})]}),n&&(0,u.jsx)(nI,{onSwitchToPaypal:t}),w||l?(0,u.jsx)(e_.Button,{className:"epd-button border-none w-full text-lg leading-6 font-semibold",type:"button",label:"".concat(ex("form.button.processing"),"..."),endLoadingIndicator:!0,disabled:!0}):(0,u.jsx)(nk,{onSubmit:E,disabled:N}),(0,u.jsx)(nK,{setCardError:h,setExpirationError:f,setSecurityCodeError:b,setFormError:r,setToken:a}),o&&(0,u.jsx)(t_.Alert,{className:"mt-4",type:"error",content:o})]})}function nJ(){let[e,t]=(0,m.useState)(null),{mutateAsync:n}=nw(d.PayPal),{formState:{isSubmitting:o},getValues:r,handleSubmit:l}=(0,en.Gc)(),{fireAddPaymentInfo:i}=nd(),{requireAddressType:s,selectedPaymentOption:a,selectedOrderBumps:p,coupon:v,requireCreditCard:h,updateRequireCreditCard:x}=ni();(0,m.useEffect)(()=>{h&&x(!1)},[x,h]);let{data:f}=eF();async function g(e){var t,o,r,l;let i=null==f?void 0:null===(t=f.paymentOptions)||void 0===t?void 0:t.find(e=>e.isExperienceProduct);if(!i)throw Error("Cannot attempt purchase: no principal product found.");await n({customer:nS(e,s===c.Billing,s===c.Shipping),paymentIntent:null,productId:i.id,hasValidCoupon:null!==(o=null==v?void 0:v.isValid)&&void 0!==o&&o,selectedOrderBumps:p.map(e=>e.id),customResponses:nA(e),couponCode:null!==(r=e.couponCode)&&void 0!==r?r:"",selectedPaymentOptionId:a.id,selectedPaymentOptionBundledProducts:null!==(l=a.bundledProducts)&&void 0!==l?l:[],selectedQuantity:e.selectedQuantity,pwywPrice:void 0!==e.pwyw?e.pwyw.toString():"",paymentMethodId:void 0})}let b=async e=>{i(r("email"));try{await g(e)}catch(e){t(tj(e)),(0,T.Z)("purchaseError",e)}};return(0,u.jsxs)(u.Fragment,{children:[o?(0,u.jsx)(e_.Button,{className:"paypal-button border-none w-full text-lg leading-6 font-semibold",type:"button",label:"".concat(ex("form.button.processing"),"..."),endLoadingIndicator:!0,disabled:!0}):(0,u.jsx)("button",{onClick:l(b),"aria-label":ex("form.button.payWithPayPal"),className:"paypal-button border-none",type:"button",children:(0,u.jsx)(tK.vU,{className:"h-[26px]"})}),e&&(0,u.jsx)(t_.Alert,{className:"mt-4",type:"error",content:e}),(0,u.jsx)(t2,{})]})}var n$=n(58103);function n0(){return(0,u.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(n$.O,{variant:"text",className:"h-6 w-1/3 mb-1"}),(0,u.jsxs)("div",{children:[(0,u.jsx)(n$.O,{variant:"text",className:"h-[16px] mb-2 w-1/4"}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10"})]})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)(n$.O,{variant:"text",className:"h-[16px] mb-2 w-1/4"}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10"})]}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10"}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10"}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10"}),(0,u.jsxs)("div",{className:"flex w-full gap-4",children:[(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10 w-full"}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10 w-full"})]}),(0,u.jsx)(n$.O,{variant:"rounded",className:"h-10"})]})}function n1(e){var t,n;let{customField:o}=e,{register:r,formState:{errors:l,isSubmitting:i},watch:s,setValue:a}=(0,en.Gc)(),d=o.label;o.isRequired||(d+=" (Optional)");let c=s(o.slug);switch(o.type){case"text":return(0,u.jsx)("div",{className:"flex mb-4",children:(0,m.createElement)(eD.TextField,{...r(o.slug),error:!!l[o.slug],message:null===(t=l[o.slug])||void 0===t?void 0:t.message,className:(0,A.classNames)("flex-1 sc-custom-input",o.isRequired?"required":""),id:o.slug,key:o.slug,required:o.isRequired,label:d,maxLength:100,disabled:i})},"holder-".concat(o.slug));case"hidden":return(0,u.jsx)("div",{children:(0,u.jsx)("input",{...r(o.slug),type:"hidden",id:o.slug,name:o.slug,"data-testid":o.slug,defaultValue:o.initialValue,onInput:e=>a(o.slug,e.currentTarget.value)})},"holder-".concat(o.slug));case"checkbox":return(0,u.jsx)("div",{className:"flex mb-4",children:(0,u.jsx)(tl.X,{label:d,id:o.slug,required:o.isRequired,checked:"yes"===c,disabled:i,className:(0,A.classNames)("sc-custom-input",o.isRequired?"required":""),onChange:(e,t)=>a(o.slug,t?"yes":"no")},o.slug)},"holder-".concat(o.slug));case"list":{let e=o.options.map(e=>({label:e,value:e}));return(0,u.jsx)("div",{className:"flex mb-4",children:(0,m.createElement)(ti.NativeSelect,{...r(o.slug),error:!!l[o.slug],message:null===(n=l[o.slug])||void 0===n?void 0:n.message,label:d,id:o.slug,key:o.slug,required:o.isRequired,value:c,items:e,disabled:i,className:(0,A.classNames)("sc-custom-input",""===c?"placeholder":"",o.isRequired?"required":"")})},"holder-".concat(o.slug))}default:return null}}function n2(){var e,t,n,o;let{data:r}=eF();return(null==r?void 0:r.customFields)&&(null==r?void 0:null===(e=r.customFields)||void 0===e?void 0:e.length)!==0?(0,u.jsxs)("div",{className:"mb-2",children:[(0,u.jsx)(S.Heading6,{className:"mb-4 font-normal tp-custom-header-font",children:null!==(o=null==r?void 0:null===(t=r.textOverrides)||void 0===t?void 0:t.customFieldHeader)&&void 0!==o?o:ex("form.additionalInfo")}),null==r?void 0:null===(n=r.customFields)||void 0===n?void 0:n.map(e=>(0,u.jsx)(n1,{customField:e},e.slug))]}):(0,u.jsx)(u.Fragment,{children:" "})}function n4(e){let{href:t}=e;return(0,u.jsxs)("div",{className:"flex justify-center mt-2",children:[(0,u.jsx)(eq.CheckSquare,{size:16,className:"mr-1 sc-custom-terms-conditions",titleAccess:""}),(0,u.jsxs)(S.Paragraph,{className:"sc-custom-terms-conditions text-sm",children:[ex("form.terms.byClickingAbove")," ",(0,u.jsxs)(ea.r,{href:t,target:"_blank",rel:"noreferrer",className:"sc-custom-branded-text",children:[ex("form.terms.termsAndConditions"),"."]})]})]})}function n5(e){var t,n;let{productItem:o,showModal:r,closeModal:l,onlyShowCloseBtn:i=!1}=e,{format:s}=P(),{data:a}=eF(),d=null!==(t=null==a?void 0:a.currency)&&void 0!==t?t:"USD",{formState:{isSubmitting:c}}=(0,en.Gc)(),{selectedOrderBumps:m,setSelectedOrderBumps:p}=ni(),v=eN((null==o?void 0:o.strikethroughAmount)?o.strikethroughAmount:void 0,o.subscriptionInfo,o.amount),x=y(s),f=s===h.lQ,g={label:ex("close"),color:"primary",variant:"outlined",disabled:c,className:"sc-custom-branded-button-outline",onClick:()=>l()};return i||(g=(null==m?void 0:m.some(e=>ns(e,o)))?{label:"Remove from order",color:"destructive",variant:"outlined",disabled:c,onClick:()=>{l(),p(m.filter(e=>!ns(e,o)))}}:{label:"Add to order",color:"primary",variant:"contained",disabled:c,className:"sc-custom-branded-button",onClick:()=>{l(),p([...m,o])}}),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{children:"\n        .square-modal  > .MuiDrawer-paper {\n          height: 75%;\n        }\n        @media (min-width: 600px) {\n          .square-modal > .sc-mobile-fullscreen {\n            max-height: 480px;\n            min-height: 480px;\n          }\n        }\n        @media (min-width: 900px) {\n          .square-modal > .sc-mobile-fullscreen {\n            max-height: 560px;\n            min-height: 560px;\n          }\n        }\n      "}),(0,u.jsxs)(ek.SmallModal,{className:"square-modal",mobileFullscreen:x,mobileDrawer:f,open:r,onClose:l,headerProps:{title:ex("order.productDetails"),divider:!0,headerClassNames:"font-normal tp-custom-header-font",endButton:{icon:"X",label:ex("close"),onClick:l}},footerProps:{divider:!0,justify:"center",buttons:[g],buttonsStackedAt:["xs","sm"]},children:[(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"flex flex-row",children:[o.image&&(0,u.jsx)("div",{className:"mr-4 block h-[60px] w-[60px] rounded-lg overflow-hidden relative flex-none",children:(0,u.jsx)(er(),{fill:!0,style:{objectFit:"cover"},sizes:"60px",src:o.image,alt:o.name})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 mb-1 text-md break-words",children:o.name}),(0,u.jsx)("div",{className:"flex flex-row mb-1",children:(0,u.jsxs)("div",{className:"grow-0 flex justify-end",children:[v&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 mr-1 text-sm text-light-text-secondary",children:(0,u.jsx)("span",{className:"line-through",children:eu(v,d)})}),(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-sm font-normal text-right",children:eu(o.amount,d)}),o.subscriptionInfo&&!eP(o.subscriptionInfo,o.amount)&&(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 ml-[1px] text-light-text-secondary text-xs font-normal text-right",children:["/",eb(o.subscriptionInfo.frequency,o.subscriptionInfo.rebillDays)]})]})}),o.subscriptionInfo&&(0,u.jsx)(ef,{subscription:o.subscriptionInfo,todayPriceInCents:o.amount,freeTrial:eC(o.subscriptionInfo,o.amount),optionalDivClasses:"w-fit mb-1"}),o.subscriptionInfo&&(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 text-xs",children:[ex("order.subscription.then")," ",ey(o.subscriptionInfo,d)]})]})]})}),(0,u.jsx)("p",{dangerouslySetInnerHTML:{__html:null!==(n=o.description)&&void 0!==n?n:""},className:"sc-custom-content-font"})]})]})}function n3(e){var t,n,o;let{orderBump:r}=e,{data:l}=eF(),i=null!==(n=null==l?void 0:l.currency)&&void 0!==n?n:"USD",{formState:{isSubmitting:s}}=(0,en.Gc)(),{selectedOrderBumps:d,setSelectedOrderBumps:c}=ni(),[p,v]=(0,m.useState)(!1),h=!1;r.subscriptionInfo&&r.amount!==r.subscriptionInfo.priceInCents&&(h=!0);let x="",f=!1,g=!1;r.subscriptionInfo&&(f=r.subscriptionInfo.trialPeriod>0,g=r.amount>r.subscriptionInfo.priceInCents,x=eb(r.subscriptionInfo.frequency,r.subscriptionInfo.rebillDays));let b=r.description;return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{children:"\n        .view-details-area:not(:has(.add-button:hover)):hover {\n          background: #046bd90a;\n        }\n\n        .view-details-area:not(:has(.add-button:hover)):hover a {\n          text-decoration: underline;\n        }\n      "}),(0,u.jsxs)("div",{tabIndex:b?0:-1,"aria-labelledby":b?"view-details-".concat(r.id):"",role:b?"button":"",onClick:b?()=>v(!s):void 0,onKeyDown:b?function(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),v(!s))}:void 0,className:"border bg-white flex flex-row justify-between items-center border-solid border-light-neutral-accent rounded-lg mb-2 sc-custom-order-bump-container ".concat(b?"cursor-pointer view-details-area":""),children:[(0,u.jsxs)("div",{className:"grow p-3 overflow-hidden",children:[(0,u.jsx)(S.Paragraph,{className:"m-0 mb-2 break-words text-sm hyphens-auto sc-custom-order-bump-headline",children:r.name}),(0,u.jsxs)("div",{className:"flex flex-row",children:[r.image&&(0,u.jsx)("div",{className:"mr-4 block h-[60px] w-[60px] rounded-lg overflow-hidden relative flex-none",children:(0,u.jsx)(er(),{fill:!0,style:{objectFit:"cover"},sizes:"60px",src:r.image,alt:r.name})}),(0,u.jsxs)("div",{children:[r.subscriptionInfo&&(0,u.jsx)(ef,{subscription:r.subscriptionInfo,todayPriceInCents:r.amount,freeTrial:0===r.amount,optionalDivClasses:"w-fit mb-1"}),(0,u.jsxs)("div",{className:"flex flex-row",children:[r.strikethroughAmount&&(0,u.jsx)(S.Paragraph,{className:"m-0 mr-1 text-light-text-secondary text-sm line-through sc-custom-order-bump-text",children:eu(r.strikethroughAmount,i)}),!r.strikethroughAmount&&r.subscriptionInfo&&f&&!g&&(0,u.jsx)(S.Paragraph,{className:"m-0 mr-1 text-light-text-secondary text-sm line-through sc-custom-order-bump-text",children:eu(r.subscriptionInfo.priceInCents,i)}),(0,u.jsx)(S.Paragraph,{className:"m-0 text-sm sc-custom-order-bump-text",children:eu(r.amount,i)}),r.subscriptionInfo&&!h&&!f&&(0,u.jsxs)(S.Paragraph,{className:"m-0 ml-[1px] text-light-text-secondary font-normal text-right sc-custom-order-bump-text",children:["/",x]}),f&&(0,u.jsx)(S.Paragraph,{className:"m-0 text-sm sc-custom-order-bump-text",children:"\xa0today"})]}),r.subscriptionInfo&&(0,u.jsxs)(S.Paragraph,{className:"m-0 text-xs sc-custom-order-bump-text",children:["Then"," ",ey(r.subscriptionInfo,i)]}),r.description&&(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(ea.r,{className:(0,A.classNames)("text-xs cursor-pointer sc-custom-order-bump-link",s?"opacity-50 no-underline":""),onClick:()=>{v(!s),eS(a.DescriptionModal)},id:"view-details-".concat(r.id),children:null!==(o=null==l?void 0:null===(t=l.textOverrides)||void 0===t?void 0:t.descriptionLabel)&&void 0!==o?o:ex("order.viewDetails")})})]})]})]}),(0,u.jsx)("div",{className:"flex-none p-3",children:(0,u.jsx)(W.IconButton,{className:"add-button text-sm leading-4 sc-custom-order-bump-button",icon:"Plus",variant:"contained",label:ex("order.bumps.addToOrder"),size:"large",onClick:()=>c([...d,r]),disabled:s})})]},r.id),r.description&&(0,u.jsx)(n5,{productItem:r,showModal:p,closeModal:()=>v(!1)})]})}function n6(){var e,t,n;let{data:o}=eF(),{selectedOrderBumps:r}=ni();if(!(null==o?void 0:o.orderBumps)||(null==o?void 0:null===(e=o.orderBumps)||void 0===e?void 0:e.length)===0)return(0,u.jsx)(u.Fragment,{children:" "});let l=null==o?void 0:o.orderBumps.filter(e=>!(null==r?void 0:r.includes(e)));return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S.Heading6,{className:"mt-0 mb-6 font-normal tp-custom-header-font",id:"popular-add-ons-header",children:null!==(n=null==o?void 0:null===(t=o.textOverrides)||void 0===t?void 0:t.orderBumpsHeader)&&void 0!==n?n:ex("order.bumps.popularAddOns")}),l.map(e=>(0,u.jsx)(n3,{orderBump:e},e.id))]})}function n8(e){var t,n,o,r;let{productItem:l,isOrderBump:i=!1,isBundleProduct:s=!1,onlyShowCloseBtn:d=!1}=e,[c,p]=(0,m.useState)(!1),{watch:v,formState:{isSubmitting:h},setValue:x}=(0,en.Gc)(),f=v("selectedQuantity"),{selectedOrderBumps:g,setSelectedOrderBumps:b}=ni(),{data:y}=eF(),w=null!==(n=null==y?void 0:y.currency)&&void 0!==n?n:"USD",j=!i&&(null!==(o=null==y?void 0:y.paymentOptions)&&void 0!==o?o:[]).length>1,C=i||l.bundledProducts,N=l.subscriptionInfo&&!eP(l.subscriptionInfo,l.amount),P=eN(i&&(null==l?void 0:l.strikethroughAmount)?l.strikethroughAmount:void 0,l.subscriptionInfo,l.amount);return(0,u.jsxs)("div",{className:(0,A.classNames)("flex flex-row mt-4",eC(l.subscriptionInfo,l.amount)||ej(l.subscriptionInfo)?"items-start":""),children:[l.image&&(0,u.jsx)("div",{className:(0,A.classNames)("mr-4 block",s?"size-12":"size-16","rounded-lg overflow-hidden relative flex-none"),children:(0,u.jsx)(er(),{priority:!0,fill:!0,style:{objectFit:"cover"},src:l.image,alt:l.name,sizes:s?"48px":"64px"})}),(0,u.jsxs)("div",{className:"grow mr-4",children:[(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 text-sm font-normal",children:[l.name,i&&(0,u.jsx)(W.IconButton,{className:"h-6",icon:"X",size:"medium",variant:"borderless",color:"neutral",label:"Remove ".concat(l.name," from Order"),onClick:()=>b(g.filter(e=>e!==l)),disabled:h})]}),l.description&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(ea.r,{className:(0,A.classNames)("text-xs cursor-pointer sc-custom-branded-text",h?"opacity-50 no-underline":""),onClick:()=>{p(!h),eS(a.DescriptionModal)},children:null!==(r=null==y?void 0:null===(t=y.textOverrides)||void 0===t?void 0:t.descriptionLabel)&&void 0!==r?r:ex("order.viewDetails")}),(0,u.jsx)(n5,{productItem:l,showModal:c,closeModal:()=>p(!1),onlyShowCloseBtn:d})]})]}),(0,u.jsxs)("div",{className:"flex flex-col flex-none",children:[C&&(0,u.jsxs)("div",{className:"grow-0 flex justify-end",children:[P&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 mr-1 text-sm text-light-text-secondary line-through",children:eu(P,w)}),(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-sm font-normal text-right",children:eu(l.amount,w)}),N&&l.subscriptionInfo&&(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 ml-[1px] text-light-text-secondary text-xs font-normal text-right",children:["/",eb(l.subscriptionInfo.frequency,l.subscriptionInfo.rebillDays)]})]}),(0,u.jsx)("div",{className:"flex flex-row align-center items-center justify-end",children:(0,u.jsx)("div",{className:"grow-0 flex",children:l.subscriptionInfo&&(0,u.jsx)(ef,{subscription:l.subscriptionInfo,todayPriceInCents:l.amount,freeTrial:eC(l.subscriptionInfo,l.amount)})})}),(null==y?void 0:y.showQuantity)&&!i&&!s&&(0,u.jsx)(ed.A,{className:(0,A.classNames)("sc-custom-counter",j?"":"mt-3"),size:"small",variant:"outlined",value:f,max:null==y?void 0:y.maxQuantity,min:1,label:"",onChange:e=>{"increase"===e?x("selectedQuantity",f+1):x("selectedQuantity",f-1)}})]})]})}function n7(){let{selectedPaymentOption:e}=ni(),{bundledProducts:t}=e;return t?(0,u.jsx)("div",{className:"ml-4",children:t.map(e=>(0,u.jsx)(n8,{productItem:e,onlyShowCloseBtn:!0,isBundleProduct:!0},e.id))}):(0,u.jsx)("div",{})}function n9(){var e,t;let{setValue:n,watch:o}=(0,en.Gc)(),{data:r}=eF(),l=null!==(e=null==r?void 0:r.currency)&&void 0!==e?e:"USD",{coupon:i,setCoupon:s}=ni(),a=o("couponCode"),[d,c]=(0,m.useState)(!0),[p,v]=(0,m.useState)(!1),[h,x]=(0,m.useState)("");function f(){c(!1)}let{coupon:g}=P();(0,m.useEffect)(()=>{g&&!a&&(f(),x(g),n("couponCode",g))},[g]),(0,m.useEffect)(()=>{!p&&(null==i?void 0:i.isValid)&&v(!0)},[i,p,a]);let b=""!==a&&!!i;function y(){""!==h.trim()&&n("couponCode",h)}return(null==r?void 0:r.allowCoupons)?d?(0,u.jsx)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:(0,u.jsx)("button",{onClick:f,type:"button",className:"text-xs p-0 cursor-pointer border-0 bg-transparent outline-0 text-light-primary-main hover:underline sc-custom-branded-text","aria-label":"Add discount code",children:(0,u.jsxs)("div",{className:"flex",children:[(0,u.jsx)("p",{className:"sc-custom-content-font leading-4 my-0 mr-1 sc-custom-branded-text",children:"Add discount code"}),(0,u.jsx)(eq.Tag,{size:"S",titleAccess:"Add discount code"})]})})})}):p?(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between gap-4",children:[(0,u.jsx)(eM.Pill,{size:"small",label:a||"",onDelete:()=>void(n("couponCode",void 0),s(null),x(""),v(!1)),className:"m-0 whitespace-normal min-h-[24px] h-fit coupon-word-wrap sc-custom-branded-button-outline",selected:!1}),i&&(null==i?void 0:i.discountAmount)&&(0,u.jsxs)("p",{className:"sc-custom-content-font text-xs leading-4 lg:text-sm lg:leading-5 text-right whitespace-nowrap m-0",children:["- ",eu(Math.abs(null==i?void 0:i.discountAmount),l)]})]}):(0,u.jsxs)("div",{className:"flex flex-row align-center items-start mb-2 justify-between gap-4",children:[(0,u.jsx)(eD.TextField,{hideLabel:!0,className:"max-w-[240px] coupon-input sc-custom-input",label:"",onEnterKeyPressed:e=>{e.preventDefault(),y()},onChange:e=>x(e.target.value),placeholder:"Discount code",value:h,maxLength:30,error:b&&!!i.errorMessage,message:b&&!1===i.isValid&&null!==(t=i.errorMessage)&&void 0!==t?t:"",endAdornment:h?{icon:"X",onClick:()=>{x("")},label:"Clear Discount Code"}:void 0}),(0,u.jsx)(e_.Button,{variant:"outlined",className:"sc-custom-branded-button-outline",label:"Apply",onClick:()=>{y()}})]}):null}function oe(e){var t,n,o,r,l;let{product:i,isForPaymentOption:s}=e,{register:a,formState:{errors:d},trigger:c}=(0,en.Gc)(),{data:m}=eF(),p=null!==(r=null==m?void 0:m.currency)&&void 0!==r?r:"USD";return(0,u.jsx)("div",{className:(0,A.classNames)("flex flex-col",!s&&"mt-4"),children:(0,u.jsx)("div",{className:(0,A.classNames)("flex flex-row align-center items-center mb-0"),children:(0,u.jsx)("div",{className:(0,A.classNames)(s&&"pl-10 pr-2 pb-2 -mt-2","w-full"),children:(0,u.jsx)(eD.TextField,{...a("pwyw"),error:!!d.pwyw,message:null==d?void 0:null===(t=d.pwyw)||void 0===t?void 0:t.message,onKeyDown:e=>["e","E","+","-"].includes(e.key)&&e.preventDefault(),onBlur:()=>{c("pwyw")},type:"number",label:s?"":(null===(n=i.pwyw)||void 0===n?void 0:n.labelText)||ex("order.nameYourPrice"),description:!s&&i.amount>0?"".concat(ex("order.minimum"),": ").concat(eu(i.amount,p)):void 0,placeholder:"ex. ".concat(eu(null!==(l=null===(o=i.pwyw)||void 0===o?void 0:o.suggestedAmount)&&void 0!==l?l:0,p)),endAdornment:e7(i.subscriptionInfo)})})})})}function ot(e){var t,n,o,r;let{paymentOption:l}=e,{data:i}=eF(),s=null!==(o=null==i?void 0:i.currency)&&void 0!==o?o:"USD",{selectedPaymentOption:a,setSelectedPaymentOption:d}=ni(),c=l.bundledProducts&&l.bundledProducts.length>0,m=l.subscriptionInfo&&!eP(l.subscriptionInfo,l.amount),p=eN(void 0,l.subscriptionInfo,l.amount),v=null!==(r=null===(t=l.bundledProducts)||void 0===t?void 0:t.reduce((e,t)=>e+t.amount,0))&&void 0!==r?r:0,h=l.amount+v,x=[];l.subscriptionInfo&&x.push(l.subscriptionInfo),null===(n=l.bundledProducts)||void 0===n||n.forEach(e=>{e.subscriptionInfo&&x.push(e.subscriptionInfo)});let f=x.length>0,g="";if(f){if(1===x.length){let e=ey(x[0],s);g="".concat(ex("order.subscription.then")," ").concat(e)}else g=ex("order.subscription.multipleSubscriptions")}let b=a===l;return(0,u.jsxs)("div",{className:(0,A.classNames)(b?"sc-payment-option-selected":""),children:[(0,u.jsxs)("div",{className:(0,A.classNames)("flex flex-row align-center items-center"),children:[(0,u.jsx)(eJ.Y,{name:"payment-option-radio-group",checked:b,className:"shrink-0 sc-payment-option-radio",label:"",value:"".concat(l.id),truncateLabel:!0,id:"sc-payment-option-".concat(l.id),onChange:()=>{d(l)}}),(0,u.jsx)("div",{className:"text-left min-w-[calc(33.333%)]",children:(0,u.jsx)(e$.Label,{className:"payment-option-label text-xs max-w-[190px] sm:max-w-[300px]",label:l.name,htmlFor:"sc-payment-option-".concat(l.id)})}),(0,u.jsxs)("div",{className:"text-right flex flex-col flex-grow sm:whitespace-nowrap",children:[(0,u.jsx)("div",{children:(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font m-0 text-xs leading-6 font-semibold text-right pl-4 pr-2",children:function(){var e;let t=(0,A.classNames)("sc-custom-content-font",b?"font-semibold":"secondary-color"),n=!(null==l?void 0:l.pwyw)&&p&&!c&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("span",{className:"sc-custom-content-font line-through",children:eu(p,s)}),"\xa0"]}),o=!(null==l?void 0:l.pwyw)&&(0,u.jsx)("span",{className:t,children:eu(h,s)}),r=(null==l?void 0:l.pwyw)&&(0,u.jsx)("span",{className:t,children:(null==l?void 0:null===(e=l.pwyw)||void 0===e?void 0:e.labelText)||ex("order.nameYourPrice")}),i=(null==l?void 0:l.pwyw)&&b&&!c&&l.amount>0&&(0,u.jsx)("div",{className:"sc-custom-content-font secondary-color mt-1",children:"Minimum: ".concat(eu(l.amount,s))}),a=!(null==l?void 0:l.pwyw)&&m&&(0,u.jsx)("span",{className:"text-xs",children:l.subscriptionInfo&&"/".concat(eb(l.subscriptionInfo.frequency,l.subscriptionInfo.rebillDays))});return(0,u.jsxs)(u.Fragment,{children:[n,o,r,i,a]})}()})}),(0,u.jsx)("div",{children:!(null==l?void 0:l.pwyw)&&f&&(0,u.jsx)("div",{children:(0,u.jsx)(S.Paragraph,{className:"sc-custom-content-font secondary-color m-0 text-[11px] leading-[14px] text-right pr-2",children:g})})})]})]}),(null==l?void 0:l.pwyw)&&b&&!c&&(0,u.jsx)(oe,{product:l,isForPaymentOption:!0})]})}function on(){var e,t;let{data:n,isPending:o}=eF(),[r,l]=(0,m.useState)(3);if(o||!n)return(0,u.jsx)(u.Fragment,{children:" "});let i=(null!==(t=null==n?void 0:n.paymentOptions)&&void 0!==t?t:[]).length;if(1===i)return(0,u.jsx)(u.Fragment,{children:" "});let s=null==n?void 0:null===(e=n.paymentOptions)||void 0===e?void 0:e.some(e=>e.bundledProducts);return(0,u.jsxs)("div",{className:"mt-2",children:[s&&(0,u.jsx)("div",{className:"pt-2 lg:mt-4",children:(0,u.jsx)(es.x,{className:"sc-custom-divider"})}),(null==n?void 0:n.paymentOptions)&&(null==n?void 0:n.paymentOptions.slice(0,r).map(e=>(0,u.jsxs)("div",{children:[(0,u.jsx)(es.x,{className:"sc-custom-divider"}),(0,u.jsx)(ot,{paymentOption:e})]},e.id))),i>r&&(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsx)(e_.Button,{label:ex("form.showMore"),endIcon:"ChevronDown",variant:"borderless",size:"small",className:"sc-custom-branded-button-outline",onClick:()=>{l(i)}})})]})}var oo=function(){var e,t,n,o,r;let{getValues:l,trigger:i}=(0,en.Gc)(),{data:s}=eF(),{selectedPaymentOption:a,selectedOrderBumps:d,updateRequirePhoneNumber:c,updateRequireAddressType:p,setInitialCalculationsLoad:v,initialCalculationsLoad:h,setCoupon:x}=ni(),f=null!==(t=null==s?void 0:s.currency)&&void 0!==t?t:"USD",{data:g,isPending:b,isLoading:y}=nP(nC(a,d,nj(l()))),w=e=>eu(e,f),j=w((null==g?void 0:g.subtotal)||0),C=(null==g?void 0:g.shipping)?w(null==g?void 0:g.shipping.amount):null,N=(null==g?void 0:g.tax)?w(null==g?void 0:g.tax.amount):null,P=w((null==g?void 0:g.total)||0),k=(null==g?void 0:g.subscriptions)&&0!==g.subscriptions.length?g.subscriptions.map(e=>ey(e,f)).join(" + "):null,S=[];(null==s?void 0:s.orderBumps)&&(S=s.orderBumps.filter(e=>null==d?void 0:d.includes(e)));let{requireAddressType:O,requirePhoneNumber:E,coupon:F}=null!=g?g:{};if((0,m.useEffect)(()=>{p(O),c(E)},[O,E,p,c]),(0,m.useEffect)(()=>{a.pwyw&&i("pwyw")},[a,i]),(0,m.useEffect)(()=>{v(y&&h)},[y,v,h]),(0,m.useEffect)(()=>{x(F)},[F,x]),!s)return(0,u.jsx)(u.Fragment,{children:" "});let B=(null!==(n=null==s?void 0:s.paymentOptions)&&void 0!==n?n:[]).length>1,T=B&&(null==d?void 0:d.length)===0,q=(null!==(o=null==a?void 0:a.bundledProducts)&&void 0!==o?o:[]).length>0,D=a.pwyw&&(!B||q);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("div",{"aria-label":ex("order.itemsInOrder"),children:[(0,u.jsx)(n8,{productItem:a,onlyShowCloseBtn:!0}),D&&(0,u.jsx)(oe,{product:a}),(0,u.jsx)(n7,{}),(0,u.jsx)(on,{}),S.map(e=>(0,u.jsx)(n8,{productItem:e,isOrderBump:!0},e.id))]}),(0,u.jsx)("div",{className:(0,A.classNames)(T?"mb-4 lg:mb-6":"my-4 lg:my-6"),children:(0,u.jsx)(es.x,{className:"sc-custom-divider"})}),(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:ex("order.subtotal")}),!b&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5 text-right",children:j})]}),s.allowCoupons&&(0,u.jsx)(n9,{}),(null==g?void 0:g.shipping)&&(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:ex("order.shipping")}),!b&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5 text-right",children:C||ex("order.calculatedBasedOnAddress")})]}),(null==g?void 0:g.tax)&&(0,u.jsxs)("div",{className:"flex flex-row align-center items-center mb-2 justify-between",children:[(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:ex("order.taxes")}),!b&&(0,u.jsx)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5 text-right",children:N||ex("order.calculatedBasedOnAddress")})]}),(0,u.jsxs)("div",{className:"flex flex-row align-center items-center justify-between",children:[(0,u.jsx)("p",{className:"m-0 mr-4 text-base font-semibold",id:"amount-due-now-label",children:null!==(r=null==s?void 0:null===(e=s.textOverrides)||void 0===e?void 0:e.checkoutTotal)&&void 0!==r?r:ex("order.amountDueNow")}),b?(0,u.jsx)(I.Progress,{type:"circular",color:"primary",size:24}):(0,u.jsxs)("div",{className:"m-0 text-right flex",children:[(0,u.jsx)("p",{className:"m-0 pr-1 text-xs font-light","aria-labelledby":"currency-badge",children:f}),(0,u.jsx)("p",{className:"m-0 text-base font-semibold","aria-labelledby":"amount-due-now-label",children:P})]})]}),k&&(0,u.jsx)("div",{className:"mt-1 flex flex-row align-center items-center justify-between",children:(0,u.jsxs)("p",{className:"sc-custom-content-font m-0 text-xs leading-4 lg:text-sm lg:leading-5",children:[ex("order.subscription.then")," ",k]})})]})};function or(){var e,t;let{upMd:n}=(0,ei.useScreenWidth)(),{data:o}=eF();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(S.Heading6,{className:"mb-2 font-normal tp-custom-header-font",id:"order-summary-header",children:null!==(t=null==o?void 0:null===(e=o.textOverrides)||void 0===e?void 0:e.orderHeader)&&void 0!==t?t:ex("order.heading")}),(0,u.jsx)("div",{className:"mb-10 lg:mb-20","aria-labelledby":"order-summary-header",children:(0,u.jsx)(oo,{})}),!n&&(0,u.jsx)(n2,{}),(0,u.jsx)("div",{className:"mb-4","aria-labelledby":"popular-add-ons-header",children:(0,u.jsx)(n6,{})})]})}function ol(){var e,t,n,o,r,l,i,s,a,p,v,x,f,g,b,j;let{data:C}=eF(),{upMd:N}=(0,ei.useScreenWidth)(),{format:k}=P(),{recaptchaSiteKey:I,recaptchaRef:O}=tF(),{requireAddressType:E,requirePhoneNumber:F,requirePwyw:T,requireCreditCard:q,initialCalculationsLoad:D,selectedPaymentOption:_,selectedOrderBumps:M}=ni(),R={requireAddressType:E,requirePhoneNumber:F,requirePwyw:T,requireCreditCard:q},L=(0,m.useCallback)((e,t,n)=>(0,nh.X)(function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{formFields:{},exp:{}},{formFields:o,exp:r}=n,l={line1:e0.Z_().max(255,ex("validator.maxLength",{max:255})).when([],{is:()=>{var e;return!!(null==o?void 0:o.requireAddressType)&&((null==o?void 0:o.requireAddressType)===c.Shipping||(null===(e=r.ccProcessor)||void 0===e?void 0:e.type)===d.AuthorizeNet)},then:e=>e.required(ex("validator.shippingAddress.line1.required")),otherwise:e=>e.notRequired()}),line2:e0.Z_().nullable().max(255,ex("validator.maxLength",{max:255})).optional(),city:e0.Z_().max(255,ex("validator.maxLength",{max:255})).when(["country"],{is:e=>!!(null==o?void 0:o.requireAddressType)&&"JP"===e,then:e=>e.notRequired(),otherwise:e=>(null==o?void 0:o.requireAddressType)?e.required(ex("validator.shippingAddress.city.required")):e.notRequired()}),state:e0.Z_().max(255,ex("validator.maxLength",{max:255})).when("country",(e,t)=>{var n;let[r]=e;if(!((null==o?void 0:o.requireAddressType)&&h.QA.some(e=>e.country===r)))return t.notRequired();let l=null===(n=h.QA.find(e=>e.country===r))||void 0===n?void 0:n.state.toLowerCase();return t.required(ex("validator.shippingAddress.".concat(l,".required")))}),postalCode:e0.Z_().max(255,ex("validator.maxLength",{max:255})).when(["country"],{is:e=>!!(null==o?void 0:o.requireAddressType)&&"US"===e,then:e=>e.required(ex("validator.shippingAddress.postalCode.required")),otherwise:e=>e.notRequired()}),country:e0.Z_().when([],{is:()=>!!(null==o?void 0:o.requireAddressType),then:e=>e.required(ex("validator.shippingAddress.country.required")),otherwise:e=>e.notRequired()})},i={cardNumber:e0.Z_().when([],{is:()=>!!(null==o?void 0:o.requireCreditCard),then:e=>e.required(ex("validator.creditCard.number.required")).test("card-number-test",ex("validator.creditCard.number.invalid"),e=>n_(null!=e?e:"")),otherwise:e=>e.notRequired()}),expirationDate:e0.Z_().when([],{is:()=>!!(null==o?void 0:o.requireCreditCard),then:e=>e.required(ex("validator.creditCard.expirationDate.required")).test("expiration",ex("validator.creditCard.expirationDate.invalid"),e=>nD(null!=e?e:"")),otherwise:e=>e.notRequired()}),securityCode:e0.Z_().when([],{is:()=>!!(null==o?void 0:o.requireCreditCard),then:e=>e.required(ex("validator.creditCard.securityCode.required")).matches(/^\d{3,4}$/,ex("validator.creditCard.securityCode.invalid")),otherwise:e=>e.notRequired()})},s={email:e0.Z_().required(ex("validator.email.required")).matches(e5,ex("validator.email.invalid")),fullName:e0.Z_().matches(e2,ex("validator.fullName.invalid")).required(ex("validator.fullName.required")),address:e0.Ry().shape(l).optional(),couponCode:e0.Z_().optional(),selectedQuantity:e0.Rx().required(),pwyw:e0.Rx().when(["selectedPaymentOption"],(e,t)=>{var n;let[o]=e,l=null===(n=r.paymentOptions)||void 0===n?void 0:n.find(e=>e.id===o);return(null==l?void 0:l.pwyw)&&l.amount>0?t.typeError(ex("validator.pwyw.typeError")).positive(ex("validator.pwyw.positive")).min(l.amount/100,ex("validator.pwyw.min",{min:eu(l.amount,r.currency)})).max(Number.MAX_SAFE_INTEGER,ex("validator.pwyw.max")).required(ex("validator.pwyw.required")):t.max(Number.MAX_SAFE_INTEGER,ex("validator.pwyw.max")).nullable().transform((e,t)=>t?Number(t):null).notRequired()}),phoneNumber:e0.Z_().when([],{is:()=>!!(null==o?void 0:o.requirePhoneNumber),then:e=>e.required(ex("validator.phoneNumber.required")).test("phone-number-test",ex("validator.phoneNumber.invalid"),e=>(0,e1.tm)(null!=e?e:"")),otherwise:e=>e.notRequired()}),card:e0.Ry().shape(i),...null!==(t=null==r?void 0:null===(e=r.customFields)||void 0===e?void 0:e.reduce((e,t)=>(e[t.slug]=e0.Z_().when([],{is:()=>t.isRequired,then:e=>"checkbox"===t.type?e.matches(/yes/).required(ex("validator.customFields.required")):e.required(ex("validator.customFields.required")),otherwise:e=>e.notRequired()}),e),{}))&&void 0!==t?t:{}};return e0.Ry().shape(s).required()}(t))(e,t,n),[]),V=(0,en.cI)({context:{formFields:R,exp:C},defaultValues:function(e,t){var n;let o={email:"",fullName:"",selectedQuantity:1,address:{line1:"",city:"",state:"",postalCode:"",country:"US"},card:{}};return(null==e?void 0:e.requirePhoneNumber)&&(o.phoneNumber=""),null==t||null===(n=t.customFields)||void 0===n||n.forEach(e=>{switch(e.type){case"checkbox":o[e.slug]=e.isChecked?"yes":"no";break;case"list":case"text":o[e.slug]="";break;case"hidden":o[e.slug]=e.initialValue;break;default:throw Error("unsupported custom field type could not be setup")}}),o}(R,C),resolver:L}),[H,U]=(0,m.useState)(!0),z=()=>{U(!1)},[Z,W]=(0,m.useState)(!1),[G,Q]=(0,m.useState)((0,u.jsx)(n0,{}));(0,m.useEffect)(()=>{let{ccProcessor:e,paypalProcessor:t}=C||{};!D&&((null==e?void 0:e.type)||(null==t?void 0:t.type))||Q((0,u.jsx)(n0,{})),(null==t?void 0:t.type)!==d.PayPal||H&&(null==e?void 0:e.type)||Q((0,u.jsx)(nJ,{})),(null==e?void 0:e.type)===d.AuthorizeNet&&H&&Q((0,u.jsx)(nE,{onSwitchToPayPal:z,displayPayPalOption:Z&&H})),(null==e?void 0:e.type)===d.EasyPayDirect&&H&&Q((0,u.jsx)(nX,{onSwitchToPayPal:z,displayPayPalOption:Z&&H})),(null==e?void 0:e.type)===d.Braintree&&H&&Q((0,u.jsx)(nQ,{onSwitchToPayPal:z,displayPayPalOption:Z&&H})),(null==e?void 0:e.type)===d.Sandbox&&Q((0,u.jsx)(nT,{}))},[H,C,D,Z]);let Y=null==C?void 0:null===(e=C.textOverrides)||void 0===e?void 0:e.infoHeader;void 0===Y&&(Y=E===c.Shipping?ex("form.shippingInfo"):ex("form.contactInfo"));let{data:K,isPending:X}=function(){let{checkoutApiUrl:e}=w(!0),t="".concat(e,"/experienceFlags");return(0,B.a)({queryKey:["experienceFlags"],queryFn:()=>nq(t),staleTime:1/0,gcTime:1/0})}();(0,m.useEffect)(()=>{W(!!(null==C?void 0:C.paypalProcessor)&&!!(null==K?void 0:K.caPaypalEverywhere)&&!X&&function(e,t,n){var o;if(e.referenceTransactions)return!0;let r=(null==t?void 0:t.subscriptionInfo)||(null===(o=t.bundledProducts)||void 0===o?void 0:o.some(e=>e.subscriptionInfo)),l=n.some(e=>e.subscriptionInfo);return!r&&!l}(C.paypalProcessor,_,M))},[null==C?void 0:C.paypalProcessor,null==K?void 0:K.caPaypalEverywhere,M,_,X]);let{register:J,formState:{errors:$,isSubmitting:ee},setValue:eo,trigger:er,control:es}=V,ea=(null==K?void 0:K.caPaypalEverywhere)&&(null==C?void 0:C.ccProcessor),ed={...tW.DEFAULT_ADDRESS_LABELS,country:ex("form.address.country"),primaryStreet:ex("form.address.line1"),secondaryStreet:ex("form.address.line2"),city:ex("form.address.city"),zipCode:ex("form.address.postalCode"),postalCode:ex("form.address.postalCode"),State:ex("form.address.state"),Province:ex("form.address.province")};return(0,u.jsxs)(en.RV,{...V,children:[(0,u.jsxs)("div",{className:(0,A.classNames)("grid grid-cols-2 gap-0 grid-rows-[auto_1fr]",y(k)?"":"min-h-screen",k===h.xz?"p-2":""),children:[(0,u.jsx)("div",{role:"region",className:(0,A.classNames)("col-span-2 md:col-span-1 md:justify-end md:flex",y(k)?"":"md:min-h-screen"),children:(0,u.jsxs)("div",{className:"pt-2 px-4 max-w-xl w-full mx-auto flex flex-col sm:px-16 md:pl-16 md:pr-6 md:mx-0 md:pt-12 lg:pr-16",children:[(0,u.jsx)(el,{logoUrl:null==C?void 0:C.marketplace.logoUrl,name:null!==(v=null==C?void 0:C.marketplace.name)&&void 0!==v?v:""}),(0,u.jsx)(or,{})]})}),(0,u.jsx)("div",{role:"region",className:(0,A.classNames)("col-span-2 flex flex-col md:col-span-1",y(k)?"":"justify-between"),children:(0,u.jsxs)("div",{className:"px-4 col-auto w-full max-w-xl mx-auto sm:px-16 md:pr-16 md:pl-6 md:mx-0 md:py-28 lg:pl-16",children:[N&&(0,u.jsx)(n2,{}),(0,u.jsx)(S.Heading6,{className:"mb-4 font-normal tp-custom-header-font",children:Y}),(0,u.jsxs)("div",{className:"grid gap-y-4 mt-5 leading-4",children:[(0,u.jsx)(eD.TextField,{...J("email"),className:"authnet-email -my-1 mb-0",error:!!$.email,message:null==$?void 0:null===(t=$.email)||void 0===t?void 0:t.message,id:"authnet-email",placeholder:null!==(x=null==C?void 0:null===(n=C.textOverrides)||void 0===n?void 0:n.emailHintText)&&void 0!==x?x:ex("form.emailAddress"),label:null!==(f=null==C?void 0:null===(o=C.textOverrides)||void 0===o?void 0:o.emailLabel)&&void 0!==f?f:ex("form.email"),maxLength:320,autoComplete:"email",disabled:ee}),(0,u.jsx)(eD.TextField,{...J("fullName"),placeholder:null!==(g=null==C?void 0:null===(r=C.textOverrides)||void 0===r?void 0:r.fullNameHintText)&&void 0!==g?g:ex("form.firstAndLastName"),error:!!$.fullName,message:null==$?void 0:null===(l=$.fullName)||void 0===l?void 0:l.message,className:"flex-1 required sc-custom-input",id:"fullName",label:null!==(b=null==C?void 0:null===(i=C.textOverrides)||void 0===i?void 0:i.fullNameLabel)&&void 0!==b?b:ex("form.fullName"),maxLength:100,autoComplete:"name",disabled:ee}),E&&(0,u.jsx)(en.Qr,{control:es,name:"address",render:e=>{var t,n,o,r,l,i,s,a,d,c,m,p,v,h,x;let{field:{value:f={}}}=e;return(0,u.jsx)(tZ.kL,{labels:ed,language:ep,fields:{primaryStreet:{value:f.line1,onChange:e=>{eo("address.line1",e.target.value,{shouldValidate:!0})},error:!!(null===(t=$.address)||void 0===t?void 0:t.line1),message:null===(o=$.address)||void 0===o?void 0:null===(n=o.line1)||void 0===n?void 0:n.message},city:{value:f.city,onChange:e=>{eo("address.city",e.target.value,{shouldValidate:!0})},error:!!(null===(r=$.address)||void 0===r?void 0:r.city),message:null===(i=$.address)||void 0===i?void 0:null===(l=i.city)||void 0===l?void 0:l.message},state:{value:f.state,onChange:e=>{eo("address.state",e.target.value,{shouldValidate:!0})},error:!!(null===(s=$.address)||void 0===s?void 0:s.state),message:null===(d=$.address)||void 0===d?void 0:null===(a=d.state)||void 0===a?void 0:a.message},country:{value:f.country,onChange:e=>{var t,n;eo("address.country",e.target.value,{shouldValidate:!0}),eo("address.state",""),(null===(t=$.address)||void 0===t?void 0:t.state)&&er("address.state"),(null===(n=$.address)||void 0===n?void 0:n.postalCode)&&er("address.postalCode")},error:!!(null===(c=$.address)||void 0===c?void 0:c.country),message:null===(p=$.address)||void 0===p?void 0:null===(m=p.country)||void 0===m?void 0:m.message},zip:{value:f.postalCode,onChange:e=>{eo("address.postalCode",e.target.value,{shouldValidate:!0})},error:!!(null===(v=$.address)||void 0===v?void 0:v.postalCode),message:null===(x=$.address)||void 0===x?void 0:null===(h=x.postalCode)||void 0===h?void 0:h.message}},disabled:ee})}}),F&&(0,u.jsx)(e1.g8,{...J("phoneNumber"),onChange:e=>eo("phoneNumber",e||""),className:"sc-custom-input",error:!!$.phoneNumber,message:null==$?void 0:null===(s=$.phoneNumber)||void 0===s?void 0:s.message,id:"phoneNumber",label:null!==(j=null==C?void 0:null===(a=C.textOverrides)||void 0===a?void 0:a.phoneNumberLabel)&&void 0!==j?j:ex("form.phoneNumber"),disabled:ee}),ea&&!H&&(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("button",{type:"button",className:"flex flex-row items-center w-full h-12 p-4 text-xs border border-solid border-[#DEE3E7] sc-custom-processor-type-button rounded-lg bg-white cursor-pointer sc-custom-content-font outline-none",onClick:()=>{var e;(null==C?void 0:null===(e=C.ccProcessor)||void 0===e?void 0:e.type)===d.Braintree&&window.scBraintree&&(window.scBraintree={instance:void 0,awaitingInit:!1}),U(!0)},children:[(0,u.jsx)(eq.CreditCard,{className:"payment-element-icon",titleAccess:"Card"}),(0,u.jsx)("p",{children:ex("form.card.card")})]})}),(0,u.jsx)("div",{children:(0,u.jsxs)("div",{className:"w-full text-sm p-4 pt-2 rounded-lg bg-white transition-height h-auto border border-solid sc-paypal-card",children:[(0,u.jsxs)("div",{className:"flex flex-row items-center w-full outline-none rounded-lg bg-white cursor-pointer text-xs sc-custom-content-font sc-custom-processor-type-button",children:[(0,u.jsx)(tK.vs,{className:"payment-element-icon"}),(0,u.jsx)("p",{children:"PayPal"})]}),(0,u.jsxs)("div",{className:"flex flex-col gap-2 items-start p-4 mt-0 text-[#5A7386] border border-solid border-[#DEE3E7] rounded-lg",children:[(0,u.jsx)(eq.PaymentIcon,{variant:"classic",name:"PayPal",size:"M"}),"PayPal selected.",(0,u.jsxs)("div",{className:"flex flex-row items-start gap-4 border-solid border-0 border-t border-[#DEE3E7] pt-2",children:[(0,u.jsx)(eq.ExternalLink,{titleAccess:""}),(0,u.jsx)("p",{className:"m-0 text-sm sc-custom-content-font",children:"Hit the PayPal button below to sign into PayPal and confirm your payment."})]})]})]})})]}),G]}),(null==C?void 0:null===(p=C.brandingProperties)||void 0===p?void 0:p.termsAndConditionsUrl)&&(0,u.jsx)(n4,{href:C.brandingProperties.termsAndConditionsUrl}),(0,u.jsx)(tm,{}),I&&(0,u.jsx)(tM.Z,{ref:O,size:"invisible",sitekey:I,"data-testid":"recaptcha"})]})})]}),(null==C?void 0:C.footerHTML)&&(0,u.jsx)(et,{unsafeHtml:C.footerHTML}),(0,u.jsx)("div",{"data-iframe-size":!0}),(0,u.jsx)(nm,{})]})}function oi(){var e,t,n,o;let{data:r,isPending:l}=eF(),{format:i}=P(),s=h.iC,a=null==r?void 0:null===(e=r.paymentOptions)||void 0===e?void 0:e.filter(e=>e.isExperienceProduct)[0];return((null==r?void 0:null===(t=r.marketplace)||void 0===t?void 0:t.name)&&(null==a?void 0:a.name)&&(s="".concat(null==a?void 0:a.name," | ").concat(null==r?void 0:null===(o=r.marketplace)||void 0===o?void 0:o.name)),(0,m.useEffect)(()=>{!l&&r&&a&&h.qF&&((0,H.VZ)("sp",h.bD,{appId:"checkout-anywhere",platform:"web",cookieSameSite:"Lax",discoverRootDomain:!0,contexts:{webPage:!0,session:!0,browser:!0},plugins:[(0,U.H)(),(0,z.EF)(),(0,Z.S)()]}),(0,H.Bm)({minimumVisitLength:10,heartbeatDelay:10}),(0,z.Xb)({pseudoClicks:!0,trackContent:!0}),(0,H.U7)([{schema:"iglu:com.samcart/marketplace_entity/jsonschema/1-0-1",data:{marketplace_id:r.marketplace.id}},{schema:"iglu:com.samcart/product_entity/jsonschema/1-0-0",data:{product_id:a.id,sandbox:r.isSandbox?1:0}},{schema:"iglu:com.samcart/checkout_entity/jsonschema/1-0-2",data:{experience_type:i}}]),(0,H.Z0)(),(0,Z.c)())},[l,r,a,i]),r)?(0,u.jsxs)(u.Fragment,{children:[i===h.xz&&(0,u.jsx)(W.IconButton,{className:(0,A.classNames)("absolute z-10",r.isSandbox?"top-10 right-4":"top-0 right-0"),icon:"X",variant:"borderless",color:"neutral",label:ex("close"),onClick:()=>{var e,t;null===(t=window)||void 0===t||null===(e=t.parentIFrame)||void 0===e||e.sendMessage({type:"close-slide"})}}),r.headerHTML&&(0,u.jsx)(et,{unsafeHtml:r.headerHTML}),(0,u.jsxs)(J,{format:i,htmlTitle:s,faviconUrl:null==r?void 0:null===(n=r.marketplace)||void 0===n?void 0:n.favicon,children:[r.isSandbox&&(0,u.jsx)("div",{className:"flex justify-center items-center flex-col md:flex-row py-1 xl:py-2 text-xs lg:text-sm bg-yellow-300 text-light-text-primary",children:(0,u.jsxs)("p",{className:"font-medium m-0 text-center",children:['THIS PAGE IS IN TEST MODE.\xa0LIVE CHARGES WILL NOT BE CREATED. TO TEST USE CC NUMBER "4242 4242 4242 4242".\xa0',(0,u.jsx)("a",{className:"text-light-text-primary unbranded",href:"https://help.samcart.com/support/solutions/articles/60000650255-test-mode",target:"_blank",rel:"noreferrer",children:"LEARN MORE"})]})}),(0,u.jsx)(tE,{children:(0,u.jsx)(nl,{children:(0,u.jsx)(ol,{})})})]})]}):(0,u.jsx)(I.Progress,{})}function os(){var e,t,n,o,r,l,i;let[s,a]=(0,m.useState)(),{data:d,isPending:c}=eF();if((0,m.useEffect)(()=>{!c&&d&&a(d.brandingProperties)},[s,c,d]),!s)return(0,u.jsx)(u.Fragment,{children:" "});let p=R((null==s?void 0:s.buttonColor)||h.Iu,(null==s?void 0:s.contentFontColor)||h.SQ),v=(null===(e=s.orderBumps)||void 0===e?void 0:e.buttonPriceColor)&&L(s.orderBumps.buttonPriceColor)?"rgb(0, 0, 0)":"rgb(255, 255, 255)";return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("style",{id:"font-settings",children:[s.headlineFontFamily&&"\n        @import url('https://fonts.googleapis.com/css2?family=".concat(encodeURI(s.headlineFontFamily),"&display=swap');\n      "),s.contentFontFamily&&"\n        @import url('https://fonts.googleapis.com/css2?family=".concat(encodeURI(s.contentFontFamily),"&display=swap');\n      "),s.headlineFontFamily&&s.headlineFontStyle&&"\n            .tp-custom-header-font, .sc-custom-header-font {\n              font-family: '".concat(s.headlineFontFamily,'\', "Inter","Helvetica","Arial",sans-serif !important;\n              font-weight: ').concat(s.headlineFontStyle," !important;\n            }\n          "),s.headlineFontColor&&"\n            .tp-custom-header-font, .sc-custom-header-font {\n              color: ".concat(s.headlineFontColor," !important;\n            }\n          "),s.contentFontFamily&&s.contentFontStyle&&"\n            a, button, span, .sc-custom-input p, .sc-custom-input + p, label, textarea, input, select, .tp-custom-content-font, .sc-custom-content-font, .sc-custom-terms-conditions {\n              font-family: '".concat(s.contentFontFamily,'\', "Inter","Helvetica","Arial",sans-serif !important;\n              font-weight: ').concat(s.contentFontStyle," !important;\n            }\n            a.unbranded {\n              font-family: inherit !important;\n              font-weight: inherit !important;\n            }\n          "),"\n          .sc-custom-terms-conditions {\n            color: ".concat(p.defaultColorOptions.termsConditionsTextColor," !important;\n          }\n          svg.sc-custom-terms-conditions {\n            stroke: ").concat(p.defaultColorOptions.termsConditionsTextColor," !important;\n          }\n\n          span:not(.MuiChip-label,.sc-required,.sc-label,.sc-load-indicator), label, label.Mui-focused span, label:not(.Mui-error) span, .tp-custom-content-font, .sc-custom-content-font {\n            color: ").concat(p.defaultColorOptions.primaryTextColor," !important;\n          }\n          .sc-custom-content-font.line-through, .sc-custom-content-font.secondary-color {\n            color: ").concat(p.defaultColorOptions.secondaryTextColor," !important;\n          }\n          .sc-custom-input .MuiInputBase-colorPrimary:not(.Mui-error), .sc-custom-input .PhoneInput:not(.sc-error) {\n            border-color: ").concat(p.defaultColorOptions.primaryOutlineColor," !important;\n          }\n          .sc-custom-input .MuiInputBase-colorPrimary.Mui-focused, .sc-custom-input .PhoneInput.PhoneInput--focus, .sc-custom-processor-type-button:hover, .sc-custom-processor-type-button:focus-visible, .sc-paypal-card {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColorOnFocus," !important;\n          }\n          .sc-custom-input:disabled, .sc-custom-input .MuiInputBase-colorPrimary.Mui-disabled, .sc-custom-input .PhoneInput--disabled {\n            background-color: ").concat(p.defaultColorOptions.disabledColor," !important;\n          }\n          .sc-custom-processor-type-button {\n            color: ").concat(p.defaultColorOptions.secondaryTextColor," !important;\n          }\n          .sc-custom-processor-type-button:hover {\n            color: ").concat(p.defaultColorOptions.primaryTextColor," !important;\n          }\n\n          .sc-custom-input::placeholder,\n          .sc-custom-input .PhoneInputInput::placeholder,\n          .sc-custom-input.placeholder select {\n            color: ").concat(p.defaultColorOptions.secondaryTextColor," !important;\n          }\n         .sc-custom-divider, .sc-custom-divider::before, .sc-custom-divider::after {\n            border-color: ").concat(p.defaultColorOptions.secondaryOutlineColor," !important;\n          }\n        ")]}),(0,u.jsx)("style",{id:"brand-colors",children:"\n          .sc-payment-option-selected {\n            background-color: ".concat(p.brandColorOnTheBackground.fillColorFocus,";\n          }\n          .sc-payment-option-radio > span:hover {\n            cursor: pointer;\n            background-color: ").concat(p.brandColorOnTheBackground.fillColorFocus,";\n          }\n          .sc-payment-option-radio svg circle:nth-of-type(1) {\n            stroke: ").concat(p.defaultColorOptions.secondaryOutlineColor,";\n          }\n          .sc-payment-option-radio svg circle:nth-of-type(2) {\n            fill: ").concat(p.defaultColorOptions.secondaryOutlineColor,";\n          }\n          .sc-payment-option-selected .sc-payment-option-radio svg circle:nth-of-type(1) {\n            stroke: ").concat(p.brandColorAsTheBackground.fillColor,";\n          }\n          .sc-payment-option-selected .sc-payment-option-radio svg circle:nth-of-type(2) {\n            fill: ").concat(p.brandColorAsTheBackground.fillColor,";\n          }\n          .sc-custom-branded-button {\n            background-color: ").concat(p.brandColorAsTheBackground.fillColor," !important;\n            color: ").concat(p.brandColorAsTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button .sc-load-indicator {\n            color: ").concat(p.brandColorAsTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button.Mui-focusVisible {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColor," !important;\n          }\n          .sc-custom-branded-button:hover {\n            background-color: ").concat(p.brandColorAsTheBackground.fillColorFocus," !important;\n          }\n          .sc-custom-branded-button-outline {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColor," !important;\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button-outline .MuiSvgIcon-root{\n            stroke: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button-outline .sc-load-indicator {\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-button-outline:hover {\n            border-color: ").concat(p.brandColorOnTheBackground.borderColorOnFocus," !important;\n            background-color: ").concat(p.brandColorOnTheBackground.fillColorFocus," !important;\n          }\n          .sc-custom-branded-text{\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          .sc-custom-branded-text:hover {\n            color: ").concat(p.brandColorOnTheBackground.textColorOnFocus," !important;\n          }\n          .sc-custom-counter button:hover {\n            background-color: ").concat(p.brandColorOnTheBackground.fillColorFocus," !important;\n          }\n          .sc-custom-counter button:not(:disabled) {\n            color: ").concat(p.brandColorOnTheBackground.textColor," !important;\n          }\n          ")}),(0,u.jsxs)("style",{id:"order-bump-colors",children:[(null===(t=s.orderBumps)||void 0===t?void 0:t.headlineColor)&&"\n        .sc-custom-order-bump-headline{\n          color: ".concat(s.orderBumps.headlineColor," !important;\n        }\n        "),(null===(n=s.orderBumps)||void 0===n?void 0:n.textColor)&&"\n        .sc-custom-order-bump-text{\n          color: ".concat(s.orderBumps.textColor," !important;\n        }\n        "),s.contentFontFamily&&s.contentFontStyle&&"\n            .sc-custom-order-bump-text, .sc-custom-order-bump-headline{\n              font-family: '".concat(s.contentFontFamily,'\', "Inter","Helvetica","Arial",sans-serif !important;\n              font-weight: ').concat(s.contentFontStyle," !important;\n            }\n          "),(null===(o=s.orderBumps)||void 0===o?void 0:o.buttonPriceColor)&&"\n        .sc-custom-order-bump-button{\n          background-color: ".concat(s.orderBumps.buttonPriceColor," !important;\n          color: ").concat(v," !important;\n        }\n        "),(null===(r=s.orderBumps)||void 0===r?void 0:r.buttonPriceColor)&&"\n        .sc-custom-order-bump-link{\n          color: ".concat(s.orderBumps.buttonPriceColor," !important;\n        }\n        "),(null===(l=s.orderBumps)||void 0===l?void 0:l.backgroundColor)&&(null===(i=s.orderBumps)||void 0===i?void 0:i.borderColor)&&"\n        .sc-custom-order-bump-container{\n          background-color: ".concat(s.orderBumps.backgroundColor," !important;\n          border-color: ").concat(s.orderBumps.borderColor," !important;\n        }\n        ")]})]})}function oa(){let{affiliateToken:e,visitorToken:t}=P(),{data:n}=eF();return((0,m.useEffect)(()=>{(null==n?void 0:n.marketplace.id)&&e&&((0,x.Wj)("referrer_".concat(n.marketplace.id),e),(0,x.Wj)("referrer_visitor_token_".concat(n.marketplace.id),t))},[e,null==n?void 0:n.marketplace.id,t]),n)?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(os,{}),(0,u.jsx)(oi,{})]}):(0,u.jsx)(I.Progress,{})}function od(){var e,t,n,o,r;let{data:l,isPending:i}=eF(),{format:s}=P(),a=(null==l?void 0:l.paypalProcessor)&&!(null==l?void 0:null===(e=l.ccProcessor)||void 0===e?void 0:e.type),c=(null==l?void 0:null===(t=l.ccProcessor)||void 0===t?void 0:t.type)===d.EasyPayDirect,m=(null==l?void 0:null===(n=l.ccProcessor)||void 0===n?void 0:n.type)===d.Braintree,p=(null==l?void 0:null===(o=l.ccProcessor)||void 0===o?void 0:o.type)===d.AuthorizeNet,v=(null==l?void 0:null===(r=l.ccProcessor)||void 0===r?void 0:r.type)===d.Sandbox;return i||!l?(0,u.jsxs)("div",{className:(0,A.classNames)("flex flex-col items-center justify-center",y(s)?"":"h-screen"),children:[(0,u.jsx)(I.Progress,{type:"circular"}),(0,u.jsx)(S.Heading3,{className:"mt-4 lg:text-[28px]",children:"Loading..."})]}):a||c||m||p||v?(0,u.jsx)(oa,{}):(0,u.jsx)(nv,{})}function oc(){return(0,u.jsx)(k,{children:(0,u.jsx)(od,{})})}},30889:function(e,t,n){var o={"./de/translation.ts":[5789,789],"./en/translation.ts":[80149],"./es/translation.ts":[64434,434],"./fr/translation.ts":[55292,292],"./it/translation.ts":[85721,721],"./ja/translation.ts":[12009,9],"./no/translation.ts":[55576,576],"./pt/translation.ts":[72,72],"./sv/translation.ts":[95300,621]};function r(e){if(!n.o(o,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=o[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(r)})}r.keys=function(){return Object.keys(o)},r.id=30889,e.exports=r}},function(e){e.O(0,[605,875,100,264,976,888,774,179],function(){return e(e.s=33054)}),_N_E=e.O()}]);
//# sourceMappingURL=[productIdOrSlug]-e013f53f4af835f8.js.map